<html>
<head><meta charset="UTF-8" /><script>
var $gwt_version = "2.4.0";
var $wnd = parent;
var $doc = $wnd.document;
var $moduleName, $moduleBase;
var $strongName = '8532A507C737A7500833E86737DC8229';
var $stats = $wnd.__gwtStatsEvent ? function(a) {return $wnd.__gwtStatsEvent(a);} : null,
$sessionId = $wnd.__gwtStatsSessionId ? $wnd.__gwtStatsSessionId : null;
$stats && $stats({moduleName:'testgame',sessionId:$sessionId,subSystem:'startup',evtGroup:'moduleStartup',millis:(new Date()).getTime(),type:'moduleEvalStart'});
</script></head>
<body>
<script><!--
var _, Q$Object = 0, Q$String = 1, Q$Context2d$Repetition = 2, Q$Style$HasCssName = 3, Q$Style$Overflow = 4, Q$Style$Position = 5, Q$Style$Unit = 6, Q$Style$Visibility = 7, Q$LongLibBase$LongEmul = 8, Q$Serializable = 9, Q$CharSequence = 10, Q$Class = 11, Q$Comparable = 12, Q$Enum = 13, Q$Exception = 14, Q$Float = 15, Q$Integer = 16, Q$Number = 17, Q$Object_$1 = 18, Q$RuntimeException = 19, Q$StackTraceElement = 20, Q$Throwable = 21, Q$List = 22, Q$Map = 23, Q$Map$Entry = 24, Q$Set = 25, Q$AABB = 26, Q$Collision$ClipVertex = 27, Q$Distance$SimplexVertex = 28, Q$Manifold$ManifoldType = 29, Q$ManifoldPoint = 30, Q$TimeOfImpact$TOIOutputState = 31, Q$Type = 32, Q$DynamicTreeNode = 33, Q$Pair = 34, Q$ShapeType = 35, Q$Mat22 = 36, Q$Vec2 = 37, Q$Vec3 = 38, Q$Body = 39, Q$BodyType = 40, Q$Position = 41, Q$Velocity = 42, Q$CircleContact = 43, Q$Contact = 44, Q$ContactConstraint = 45, Q$ContactConstraintPoint = 46, Q$ContactRegister = 47, Q$ContactRegister_$1 = 48, Q$PolygonAndCircleContact = 49, Q$PolygonContact = 50, Q$TOIConstraint = 51, Q$Joint = 52, Q$AbstractLayer$Flag = 53, Q$HtmlPlatform$Mode = 54, Q$AbstractPoint = 55, Q$AbstractVector = 56;
function makeCastMap(a){
  var result = {};
  for (var i = 0, c = a.length; i < c; ++i) {
    result[a[i]] = 1;
  }
  return result;
}

function nullMethod(){
}

function Object_0(){
}

_ = Object_0.prototype = {};
_.equals$ = function equals(other){
  return this === other;
}
;
_.getClass$ = function getClass_0(){
  return Ljava_lang_Object_2_classLit;
}
;
_.hashCode$ = function hashCode_0(){
  return getHashCode(this);
}
;
_.toString$ = function toString_0(){
  return this.getClass$().typeName + '@' + toPowerOfTwoString(this.hashCode$());
}
;
_.toString = function(){
  return this.toString$();
}
;
_.typeMarker$ = nullMethod;
_.castableTypeMap$ = {};
function $clinit_SoundController(){
  $clinit_SoundController = nullMethod;
  $wnd.$GWT_VOICES_VERSION = '2.1.7';
}

function $setPreferredSoundType(this$static, clazz){
  var c$index, c$max;
  for (c$index = 0 , c$max = clazz.length; c$index < c$max; ++c$index) {
  }
  this$static.preferredSoundClass = clazz;
}

function SoundController_0(){
  var s, i, gwtVoices, style;
  $clinit_SoundController();
  this.soundContainer = $doc.createElement('div');
  (s = $doc.location.href , i = s.indexOf('#') , i != -1 && (s = s.substring(0, i)) , i = s.indexOf('?') , i != -1 && (s = s.substring(0, i)) , i = s.lastIndexOf('/') , i != -1 && (s = s.substring(0, i)) , s.length > 0?s + '/':'') + $moduleName + '/';
  gwtVoices = (ensureParameterMap() , $get_1(paramMap, 'gwt-voices'));
  $equals('flash', gwtVoices)?$setPreferredSoundType(this, initValues(_3Ljava_lang_Class_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Class, [Lcom_allen_1sauer_gwt_voices_client_FlashSound_2_classLit])):$equals('html5', gwtVoices)?$setPreferredSoundType(this, initValues(_3Ljava_lang_Class_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Class, [Lcom_allen_1sauer_gwt_voices_client_Html5Sound_2_classLit])):$equals('webaudio', gwtVoices)?$setPreferredSoundType(this, initValues(_3Ljava_lang_Class_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Class, [Lcom_allen_1sauer_gwt_voices_client_WebAudioSound_2_classLit])):$equals('native', gwtVoices)?$setPreferredSoundType(this, initValues(_3Ljava_lang_Class_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Class, [Lcom_allen_1sauer_gwt_voices_client_NativeSound_2_classLit])):$setPreferredSoundType(this, initValues(_3Ljava_lang_Class_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Class, [Lcom_allen_1sauer_gwt_voices_client_WebAudioSound_2_classLit, Lcom_allen_1sauer_gwt_voices_client_FlashSound_2_classLit, Lcom_allen_1sauer_gwt_voices_client_Html5Sound_2_classLit]));
  $appendChild(($clinit_RootPanel() , $doc.body), this.soundContainer);
  style = this.soundContainer.style;
  style['position'] = ($clinit_Style$Position() , 'absolute');
  style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  style['left'] = -500 + ($clinit_Style$Unit() , 'px');
  style['top'] = '-500px';
  style['width'] = '0px';
  style['height'] = '0px';
}

function SoundController(){
}

_ = SoundController_0.prototype = SoundController.prototype = new Object_0;
_.getClass$ = function getClass_1(){
  return Lcom_allen_1sauer_gwt_voices_client_SoundController_2_classLit;
}
;
_.preferredSoundClass = null;
function equals__devirtual$(this$static, other){
  var maybeJsoInvocation;
  return maybeJsoInvocation = this$static , isJavaObject(maybeJsoInvocation)?maybeJsoInvocation.equals$(other):maybeJsoInvocation === other;
}

function getClass__devirtual$(this$static){
  var maybeJsoInvocation;
  return maybeJsoInvocation = this$static , isJavaObject(maybeJsoInvocation)?maybeJsoInvocation.getClass$():Lcom_google_gwt_core_client_JavaScriptObject_2_classLit;
}

function hashCode__devirtual$(this$static){
  var maybeJsoInvocation;
  return maybeJsoInvocation = this$static , isJavaObject(maybeJsoInvocation)?maybeJsoInvocation.hashCode$():getHashCode(maybeJsoInvocation);
}

function toString__devirtual$(this$static){
  var maybeJsoInvocation;
  return maybeJsoInvocation = this$static , isJavaObject(maybeJsoInvocation)?maybeJsoInvocation.toString$():maybeJsoInvocation.toString?maybeJsoInvocation.toString():'[JavaScriptObject]';
}

function $clearRect(this$static, x, y, w, h){
  this$static.clearRect(x, y, w, h);
}

function $createPattern(this$static, image, repetition){
  return this$static.createPattern(image, repetition);
}

function $drawImage(this$static, image, dx, dy, dw, dh){
  this$static.drawImage(image, dx, dy, dw, dh);
}

function $drawImage_0(this$static, image, sx, sy, sw, sh, dx, dy, dw, dh){
  this$static.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh);
}

function $scale(this$static, x, y){
  this$static.scale(x, y);
}

function $setFillStyleWeb(this$static, fillStyle){
  this$static.fillStyle = fillStyle;
}

function $setGlobalAlpha(this$static, alpha){
  this$static.globalAlpha = alpha;
}

function $transform(this$static, m11, m12, m21, m22, dx, dy){
  this$static.transform(m11, m12, m21, m22, dx, dy);
}

function $translate(this$static, x, y){
  this$static.translate(x, y);
}

function Enum_0(name_0, ordinal){
  this.name_0 = name_0;
  this.ordinal = ordinal;
}

function Enum(){
}

_ = Enum.prototype = new Object_0;
_.compareTo$ = function compareTo(other){
  return this.ordinal - other.ordinal;
}
;
_.equals$ = function equals_0(other){
  return this === other;
}
;
_.getClass$ = function getClass_2(){
  return Ljava_lang_Enum_2_classLit;
}
;
_.hashCode$ = function hashCode_1(){
  return getHashCode(this);
}
;
_.toString$ = function toString_1(){
  return this.name_0;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum]);
_.name_0 = null;
_.ordinal = 0;
function $clinit_Context2d$Repetition(){
  $clinit_Context2d$Repetition = nullMethod;
  NO_REPEAT = new Context2d$Repetition_0('NO_REPEAT', 0, 'no-repeat');
  REPEAT = new Context2d$Repetition_0('REPEAT', 1, 'repeat');
  REPEAT_X = new Context2d$Repetition_0('REPEAT_X', 2, 'repeat-x');
  REPEAT_Y = new Context2d$Repetition_0('REPEAT_Y', 3, 'repeat-y');
  $VALUES = initValues(_3Lcom_google_gwt_canvas_dom_client_Context2d$Repetition_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Context2d$Repetition, [NO_REPEAT, REPEAT, REPEAT_X, REPEAT_Y]);
}

function Context2d$Repetition_0(enum$name, enum$ordinal, value){
  Enum_0.call(this, enum$name, enum$ordinal);
  this.value = value;
}

function values(){
  $clinit_Context2d$Repetition();
  return $VALUES;
}

function Context2d$Repetition(){
}

_ = Context2d$Repetition_0.prototype = Context2d$Repetition.prototype = new Enum;
_.getClass$ = function getClass_3(){
  return Lcom_google_gwt_canvas_dom_client_Context2d$Repetition_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Context2d$Repetition, Q$Serializable, Q$Comparable, Q$Enum]);
_.value = null;
var $VALUES, NO_REPEAT, REPEAT, REPEAT_X, REPEAT_Y;
function currentTimeMillis(){
  return (new Date).getTime();
}

function setUncaughtExceptionHandler(handler){
  sUncaughtExceptionHandler = handler;
}

var sUncaughtExceptionHandler = null;
function $printStackTrace(this$static){
  var causeMessage, currentCause, msg;
  msg = new StringBuffer_0;
  currentCause = this$static;
  while (currentCause) {
    causeMessage = currentCause.getMessage();
    currentCause != this$static && (msg.impl.string += 'Caused by: ' , msg);
    $append_4(msg, currentCause.getClass$().typeName);
    msg.impl.string += ': ';
    $append_3(msg.impl, causeMessage == null?'(No exception detail)':causeMessage);
    msg.impl.string += '\n';
    currentCause = currentCause.cause;
  }
}

function $setStackTrace(stackTrace){
  var c, copy, i;
  copy = initDim(_3Ljava_lang_StackTraceElement_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$StackTraceElement, stackTrace.length, 0);
  for (i = 0 , c = stackTrace.length; i < c; ++i) {
    if (!stackTrace[i]) {
      throw new NullPointerException_0;
    }
    copy[i] = stackTrace[i];
  }
}

function Throwable(){
}

_ = Throwable.prototype = new Object_0;
_.getClass$ = function getClass_4(){
  return Ljava_lang_Throwable_2_classLit;
}
;
_.getMessage = function getMessage(){
  return this.detailMessage;
}
;
_.toString$ = function toString_2(){
  var className, msg;
  className = this.getClass$().typeName;
  msg = this.getMessage();
  return msg != null?className + ': ' + msg:className;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Throwable]);
_.cause = null;
_.detailMessage = null;
function Exception(){
}

_ = Exception.prototype = new Throwable;
_.getClass$ = function getClass_5(){
  return Ljava_lang_Exception_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$Throwable]);
function RuntimeException_0(message){
  $fillInStackTrace();
  this.detailMessage = message;
}

function RuntimeException(){
}

_ = RuntimeException_0.prototype = RuntimeException.prototype = new Exception;
_.getClass$ = function getClass_6(){
  return Ljava_lang_RuntimeException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function JavaScriptException_0(e){
  $fillInStackTrace();
  this.e = e;
  $createStackTrace(new StackTraceCreator$CollectorChrome_0, this);
}

function getDescription(e){
  return instanceOfJso(e)?e == null?null:e.message:e + '';
}

function getName(e){
  return e == null?'null':instanceOfJso(e)?e == null?null:e.name:instanceOf(e, Q$String)?'String':getClass__devirtual$(e).typeName;
}

function getProperties(e){
  return instanceOfJso(e)?$getProperties(e):'';
}

function JavaScriptException(){
}

_ = JavaScriptException_0.prototype = JavaScriptException.prototype = new RuntimeException;
_.getClass$ = function getClass_7(){
  return Lcom_google_gwt_core_client_JavaScriptException_2_classLit;
}
;
_.getMessage = function getMessage_0(){
  this.message_0 == null && (this.name_0 = getName(this.e) , this.description = getDescription(this.e) , this.message_0 = '(' + this.name_0 + '): ' + this.description + getProperties(this.e) , undefined);
  return this.message_0;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
_.description = null;
_.e = null;
_.message_0 = null;
_.name_0 = null;
function Scheduler(){
}

_ = Scheduler.prototype = new Object_0;
_.getClass$ = function getClass_8(){
  return Lcom_google_gwt_core_client_Scheduler_2_classLit;
}
;
function apply(jsFunction, thisObj, arguments_0){
  return jsFunction.apply(thisObj, arguments_0);
  var __0;
}

function enter(){
  if (entryDepth++ == 0) {
    $flushEntryCommands(($clinit_SchedulerImpl() , INSTANCE));
    return true;
  }
  return false;
}

function entry_0(jsFunction){
  return function(){
    try {
      return entry0(jsFunction, this, arguments);
    }
     catch (e) {
      throw e;
    }
  }
  ;
}

function entry0(jsFunction, thisObj, arguments_0){
  var $e0, initialEntry, t;
  initialEntry = enter();
  try {
    if (sUncaughtExceptionHandler) {
      try {
        return apply(jsFunction, thisObj, arguments_0);
      }
       catch ($e0) {
        $e0 = caught($e0);
        if (instanceOf($e0, Q$Throwable)) {
          t = $e0;
          $sendToConsole((platform_1.log_0 , 'ERROR: Uncaught Exception: '), t);
          return undefined;
        }
         else 
          throw $e0;
      }
    }
     else {
      return apply(jsFunction, thisObj, arguments_0);
    }
  }
   finally {
    initialEntry && $flushFinallyCommands(($clinit_SchedulerImpl() , INSTANCE));
    --entryDepth;
  }
}

function getHashCode(o){
  return o.$H || (o.$H = ++sNextHashId);
}

var entryDepth = 0, sNextHashId = 0;
function $clinit_SchedulerImpl(){
  $clinit_SchedulerImpl = nullMethod;
  INSTANCE = new SchedulerImpl_0;
}

function $flushEntryCommands(this$static){
  var oldQueue, rescheduled;
  if (this$static.entryCommands) {
    rescheduled = null;
    do {
      oldQueue = this$static.entryCommands;
      this$static.entryCommands = null;
      rescheduled = runScheduledTasks(oldQueue, rescheduled);
    }
     while (this$static.entryCommands);
    this$static.entryCommands = rescheduled;
  }
}

function $flushFinallyCommands(this$static){
  var oldQueue, rescheduled;
  if (this$static.finallyCommands) {
    rescheduled = null;
    do {
      oldQueue = this$static.finallyCommands;
      this$static.finallyCommands = null;
      rescheduled = runScheduledTasks(oldQueue, rescheduled);
    }
     while (this$static.finallyCommands);
    this$static.finallyCommands = rescheduled;
  }
}

function $flushPostEventPumpCommands(this$static){
  var oldDeferred;
  if (this$static.deferredCommands) {
    oldDeferred = this$static.deferredCommands;
    this$static.deferredCommands = null;
    !this$static.incrementalCommands && (this$static.incrementalCommands = []);
    runScheduledTasks(oldDeferred, this$static.incrementalCommands);
  }
  !!this$static.incrementalCommands && (this$static.incrementalCommands = runRepeatingTasks(this$static.incrementalCommands));
}

function $isWorkQueued(this$static){
  return !!this$static.deferredCommands || !!this$static.incrementalCommands;
}

function $maybeSchedulePostEventPumpCommands(this$static){
  if (!this$static.shouldBeRunning) {
    this$static.shouldBeRunning = true;
    !this$static.flusher && (this$static.flusher = new SchedulerImpl$Flusher_0(this$static));
    scheduleFixedDelayImpl(this$static.flusher, 1);
    !this$static.rescue && (this$static.rescue = new SchedulerImpl$Rescuer_0(this$static));
    scheduleFixedDelayImpl(this$static.rescue, 50);
  }
}

function $scheduleDeferred(this$static, cmd){
  this$static.deferredCommands = push(this$static.deferredCommands, [cmd, false]);
  $maybeSchedulePostEventPumpCommands(this$static);
}

function SchedulerImpl_0(){
}

function execute(cmd){
  return cmd.execute();
}

function push(queue, task){
  !queue && (queue = []);
  queue[queue.length] = task;
  return queue;
}

function runRepeatingTasks(tasks){
  var canceledSomeTasks, i, length_0, newTasks, start, t;
  length_0 = tasks.length;
  if (length_0 == 0) {
    return null;
  }
  canceledSomeTasks = false;
  start = currentTimeMillis();
  while (currentTimeMillis() - start < 100) {
    for (i = 0; i < length_0; ++i) {
      t = tasks[i];
      if (!t) {
        continue;
      }
      if (!t[0].execute()) {
        tasks[i] = null;
        canceledSomeTasks = true;
      }
    }
  }
  if (canceledSomeTasks) {
    newTasks = [];
    for (i = 0; i < length_0; ++i) {
      !!tasks[i] && (newTasks[newTasks.length] = tasks[i] , undefined);
    }
    return newTasks.length == 0?null:newTasks;
  }
   else {
    return tasks;
  }
}

function runScheduledTasks(tasks, rescheduled){
  var $e0, e, i, j, t;
  for (i = 0 , j = tasks.length; i < j; ++i) {
    t = tasks[i];
    try {
      t[1]?t[0].execute() && (rescheduled = push(rescheduled, t)):$start(t[0]);
    }
     catch ($e0) {
      $e0 = caught($e0);
      if (instanceOf($e0, Q$RuntimeException)) {
        e = $e0;
        !!sUncaughtExceptionHandler && $sendToConsole((platform_1.log_0 , 'ERROR: Uncaught Exception: '), e);
      }
       else 
        throw $e0;
    }
  }
  return rescheduled;
}

function scheduleFixedDelayImpl(cmd, delayMs){
  $clinit_SchedulerImpl();
  $wnd.setTimeout(function(){
    var ret = $entry(execute)(cmd);
    ret && $wnd.setTimeout(arguments.callee, delayMs);
  }
  , delayMs);
}

function SchedulerImpl(){
}

_ = SchedulerImpl_0.prototype = SchedulerImpl.prototype = new Scheduler;
_.getClass$ = function getClass_9(){
  return Lcom_google_gwt_core_client_impl_SchedulerImpl_2_classLit;
}
;
_.deferredCommands = null;
_.entryCommands = null;
_.finallyCommands = null;
_.flushRunning = false;
_.flusher = null;
_.incrementalCommands = null;
_.rescue = null;
_.shouldBeRunning = false;
var INSTANCE;
function SchedulerImpl$Flusher_0(this$0){
  this.this$0 = this$0;
}

function SchedulerImpl$Flusher(){
}

_ = SchedulerImpl$Flusher_0.prototype = SchedulerImpl$Flusher.prototype = new Object_0;
_.execute = function execute_0(){
  this.this$0.flushRunning = true;
  $flushPostEventPumpCommands(this.this$0);
  this.this$0.flushRunning = false;
  return this.this$0.shouldBeRunning = $isWorkQueued(this.this$0);
}
;
_.getClass$ = function getClass_10(){
  return Lcom_google_gwt_core_client_impl_SchedulerImpl$Flusher_2_classLit;
}
;
_.this$0 = null;
function SchedulerImpl$Rescuer_0(this$0){
  this.this$0 = this$0;
}

function SchedulerImpl$Rescuer(){
}

_ = SchedulerImpl$Rescuer_0.prototype = SchedulerImpl$Rescuer.prototype = new Object_0;
_.execute = function execute_1(){
  this.this$0.flushRunning && scheduleFixedDelayImpl(this.this$0.flusher, 1);
  return this.this$0.shouldBeRunning;
}
;
_.getClass$ = function getClass_11(){
  return Lcom_google_gwt_core_client_impl_SchedulerImpl$Rescuer_2_classLit;
}
;
_.this$0 = null;
function extractNameFromToString(fnToString){
  var index, start, toReturn;
  toReturn = '';
  fnToString = $trim(fnToString);
  index = fnToString.indexOf('(');
  if (index != -1) {
    start = fnToString.indexOf('function') == 0?8:0;
    toReturn = $trim(fnToString.substr(start, index - start));
  }
  return toReturn.length > 0?toReturn:'anonymous';
}

function splice(arr, length_0){
  arr.length >= length_0 && arr.splice(0, length_0);
  return arr;
}

function $createStackTrace(this$static, e){
  var i, j, stack, stackTrace;
  stack = $inferFrom_0(this$static, instanceOfJso(e.e)?e.e:null);
  stackTrace = initDim(_3Ljava_lang_StackTraceElement_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$StackTraceElement, stack.length, 0);
  for (i = 0 , j = stackTrace.length; i < j; ++i) {
    stackTrace[i] = new StackTraceElement_0(stack[i]);
  }
  $setStackTrace(stackTrace);
}

function $fillInStackTrace(){
  var i, j, stack, stackTrace;
  stack = $collect(new StackTraceCreator$CollectorChrome_0);
  stackTrace = initDim(_3Ljava_lang_StackTraceElement_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$StackTraceElement, stack.length, 0);
  for (i = 0 , j = stackTrace.length; i < j; ++i) {
    stackTrace[i] = new StackTraceElement_0(stack[i]);
  }
  $setStackTrace(stackTrace);
}

function $getProperties(e){
  var result = '';
  try {
    for (var prop in e) {
      if (prop != 'name' && prop != 'message' && prop != 'toString') {
        try {
          result += '\n ' + prop + ': ' + e[prop];
        }
         catch (ignored) {
        }
      }
    }
  }
   catch (ignored) {
  }
  return result;
}

function $makeException(){
  try {
    null.a();
  }
   catch (e) {
    return e;
  }
}

function StackTraceCreator$Collector_0(){
}

function StackTraceCreator$Collector(){
}

_ = StackTraceCreator$Collector_0.prototype = StackTraceCreator$Collector.prototype = new Object_0;
_.collect = function collect(){
  var seen = {};
  var toReturn = [];
  var callee = arguments.callee.caller.caller;
  while (callee) {
    var name_0 = this.extractName(callee.toString());
    toReturn.push(name_0);
    var keyName = ':' + name_0;
    var withThisName = seen[keyName];
    if (withThisName) {
      var i, j;
      for (i = 0 , j = withThisName.length; i < j; i++) {
        if (withThisName[i] === callee) {
          return toReturn;
        }
      }
    }
    (withThisName || (seen[keyName] = [])).push(callee);
    callee = callee.caller;
  }
  return toReturn;
}
;
_.extractName = function extractName(fnToString){
  return extractNameFromToString(fnToString);
}
;
_.getClass$ = function getClass_12(){
  return Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit;
}
;
_.inferFrom = function inferFrom(e){
  return [];
}
;
function $inferFrom(this$static, e){
  var i, j, stack;
  stack = e && e.stack?e.stack.split('\n'):[];
  for (i = 0 , j = stack.length; i < j; ++i) {
    stack[i] = this$static.extractName(stack[i]);
  }
  return stack;
}

function StackTraceCreator$CollectorMoz(){
}

_ = StackTraceCreator$CollectorMoz.prototype = new StackTraceCreator$Collector;
_.collect = function collect_0(){
  return splice(this.inferFrom($makeException()), this.toSplice());
}
;
_.getClass$ = function getClass_13(){
  return Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorMoz_2_classLit;
}
;
_.inferFrom = function inferFrom_0(e){
  return $inferFrom(this, e);
}
;
_.toSplice = function toSplice(){
  return 2;
}
;
function $collect(this$static){
  var res;
  res = splice($inferFrom_0(this$static, $makeException()), 3);
  res.length == 0 && (res = splice((new StackTraceCreator$Collector_0).collect(), 1));
  return res;
}

function $inferFrom_0(this$static, e){
  var stack;
  stack = $inferFrom(this$static, e);
  return stack.length == 0?(new StackTraceCreator$Collector_0).inferFrom(e):splice(stack, 1);
}

function StackTraceCreator$CollectorChrome_0(){
}

function StackTraceCreator$CollectorChrome(){
}

_ = StackTraceCreator$CollectorChrome_0.prototype = StackTraceCreator$CollectorChrome.prototype = new StackTraceCreator$CollectorMoz;
_.collect = function collect_1(){
  return $collect(this);
}
;
_.extractName = function extractName_0(fnToString){
  var index, toReturn;
  if (fnToString.length == 0) {
    return 'anonymous';
  }
  toReturn = $trim(fnToString);
  toReturn.indexOf('at ') == 0 && (toReturn = $substring(toReturn, 3));
  index = toReturn.indexOf('[');
  index == -1 && (index = toReturn.indexOf('('));
  if (index == -1) {
    return 'anonymous';
  }
   else {
    toReturn = $trim(toReturn.substr(0, index - 0));
  }
  index = $indexOf(toReturn, String.fromCharCode(46));
  index != -1 && (toReturn = $substring(toReturn, index + 1));
  return toReturn.length > 0?toReturn:'anonymous';
}
;
_.getClass$ = function getClass_14(){
  return Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorChrome_2_classLit;
}
;
_.inferFrom = function inferFrom_1(e){
  return $inferFrom_0(this, e);
}
;
_.toSplice = function toSplice_0(){
  return 3;
}
;
function StringBufferImpl(){
}

_ = StringBufferImpl.prototype = new Object_0;
_.getClass$ = function getClass_15(){
  return Lcom_google_gwt_core_client_impl_StringBufferImpl_2_classLit;
}
;
function $append(this$static, x){
  this$static.string += x;
}

function $append_0(this$static, x){
  this$static.string += x;
}

function $append_1(this$static, x){
  this$static.string += x;
}

function $append_2(this$static, x){
  this$static.string += x;
}

function $append_3(this$static, x){
  this$static.string += x;
}

function $appendNonNull(this$static, x){
  this$static.string += x;
}

function $replace(this$static, start, end){
  this$static.string = $substring_0(this$static.string, 0, start) + '' + $substring(this$static.string, end);
}

function StringBufferImplAppend_0(){
}

function StringBufferImplAppend(){
}

_ = StringBufferImplAppend_0.prototype = StringBufferImplAppend.prototype = new StringBufferImpl;
_.getClass$ = function getClass_16(){
  return Lcom_google_gwt_core_client_impl_StringBufferImplAppend_2_classLit;
}
;
_.string = '';
function $appendChild(this$static, newChild){
  return this$static.appendChild(newChild);
}

function $getChild(this$static, index){
  return this$static.childNodes[index];
}

function $insertBefore(this$static, newChild, refChild){
  return this$static.insertBefore(newChild, refChild);
}

function $removeChild(this$static, oldChild){
  return this$static.removeChild(oldChild);
}

function $setHeight(this$static, height){
  this$static.height = height;
}

function $setWidth(this$static, width){
  this$static.width = width;
}

function $eventGetButton(evt){
  var button = evt.button;
  if (button == 1) {
    return 4;
  }
   else if (button == 2) {
    return 2;
  }
  return 1;
}

function $getAbsoluteLeft(elem){
  var rect;
  rect = getBoundingClientRect(elem);
  return rect?rect.left + $getScrollLeft(elem.ownerDocument.body):getAbsoluteLeftUsingOffsets(elem);
}

function $getAbsoluteTop(elem){
  var rect;
  rect = getBoundingClientRect(elem);
  return rect?rect.top + (elem.ownerDocument.body.scrollTop || 0):getAbsoluteTopUsingOffsets(elem);
}

function $getScrollLeft(elem){
  if (elem.ownerDocument.defaultView.getComputedStyle(elem, '').direction == 'rtl') {
    return (elem.scrollLeft || 0) - ((elem.scrollWidth || 0) - elem.clientWidth);
  }
  return elem.scrollLeft || 0;
}

function getAbsoluteLeftUsingOffsets(elem){
  if (elem.offsetLeft == null) {
    return 0;
  }
  var left = 0;
  var doc = elem.ownerDocument;
  var curr = elem.parentNode;
  if (curr) {
    while (curr.offsetParent) {
      left -= curr.scrollLeft;
      doc.defaultView.getComputedStyle(curr, '').getPropertyValue('direction') == 'rtl' && (left += curr.scrollWidth - curr.clientWidth);
      curr = curr.parentNode;
    }
  }
  while (elem) {
    left += elem.offsetLeft;
    if (doc.defaultView.getComputedStyle(elem, '')['position'] == 'fixed') {
      left += doc.body.scrollLeft;
      return left;
    }
    var parent_0 = elem.offsetParent;
    parent_0 && $wnd.devicePixelRatio && (left += parseInt(doc.defaultView.getComputedStyle(parent_0, '').getPropertyValue('border-left-width')));
    if (parent_0 && parent_0.tagName == 'BODY' && elem.style.position == 'absolute') {
      break;
    }
    elem = parent_0;
  }
  return left;
}

function getAbsoluteTopUsingOffsets(elem){
  if (elem.offsetTop == null) {
    return 0;
  }
  var top_0 = 0;
  var doc = elem.ownerDocument;
  var curr = elem.parentNode;
  if (curr) {
    while (curr.offsetParent) {
      top_0 -= curr.scrollTop;
      curr = curr.parentNode;
    }
  }
  while (elem) {
    top_0 += elem.offsetTop;
    if (doc.defaultView.getComputedStyle(elem, '')['position'] == 'fixed') {
      top_0 += doc.body.scrollTop;
      return top_0;
    }
    var parent_0 = elem.offsetParent;
    parent_0 && $wnd.devicePixelRatio && (top_0 += parseInt(doc.defaultView.getComputedStyle(parent_0, '').getPropertyValue('border-top-width')));
    if (parent_0 && parent_0.tagName == 'BODY' && elem.style.position == 'absolute') {
      break;
    }
    elem = parent_0;
  }
  return top_0;
}

function getBoundingClientRect(element){
  return element.getBoundingClientRect && element.getBoundingClientRect();
}

function $clinit_Style$Overflow(){
  $clinit_Style$Overflow = nullMethod;
  VISIBLE = new Style$Overflow$1_0;
  HIDDEN = new Style$Overflow$2_0;
  SCROLL = new Style$Overflow$3_0;
  AUTO = new Style$Overflow$4_0;
  $VALUES_0 = initValues(_3Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Style$Overflow, [VISIBLE, HIDDEN, SCROLL, AUTO]);
}

function values_0(){
  $clinit_Style$Overflow();
  return $VALUES_0;
}

function Style$Overflow(){
}

_ = Style$Overflow.prototype = new Enum;
_.getClass$ = function getClass_17(){
  return Lcom_google_gwt_dom_client_Style$Overflow_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Overflow, Q$Serializable, Q$Comparable, Q$Enum]);
var $VALUES_0, AUTO, HIDDEN, SCROLL, VISIBLE;
function Style$Overflow$1_0(){
  Enum_0.call(this, 'VISIBLE', 0);
}

function Style$Overflow$1(){
}

_ = Style$Overflow$1_0.prototype = Style$Overflow$1.prototype = new Style$Overflow;
_.getClass$ = function getClass_18(){
  return Lcom_google_gwt_dom_client_Style$Overflow$1_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Overflow, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Overflow$2_0(){
  Enum_0.call(this, 'HIDDEN', 1);
}

function Style$Overflow$2(){
}

_ = Style$Overflow$2_0.prototype = Style$Overflow$2.prototype = new Style$Overflow;
_.getClass$ = function getClass_19(){
  return Lcom_google_gwt_dom_client_Style$Overflow$2_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Overflow, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Overflow$3_0(){
  Enum_0.call(this, 'SCROLL', 2);
}

function Style$Overflow$3(){
}

_ = Style$Overflow$3_0.prototype = Style$Overflow$3.prototype = new Style$Overflow;
_.getClass$ = function getClass_20(){
  return Lcom_google_gwt_dom_client_Style$Overflow$3_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Overflow, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Overflow$4_0(){
  Enum_0.call(this, 'AUTO', 3);
}

function Style$Overflow$4(){
}

_ = Style$Overflow$4_0.prototype = Style$Overflow$4.prototype = new Style$Overflow;
_.getClass$ = function getClass_21(){
  return Lcom_google_gwt_dom_client_Style$Overflow$4_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Overflow, Q$Serializable, Q$Comparable, Q$Enum]);
--></script>
<script><!--
function $clinit_Style$Position(){
  $clinit_Style$Position = nullMethod;
  STATIC = new Style$Position$1_0;
  RELATIVE = new Style$Position$2_0;
  ABSOLUTE = new Style$Position$3_0;
  FIXED = new Style$Position$4_0;
  $VALUES_1 = initValues(_3Lcom_google_gwt_dom_client_Style$Position_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Style$Position, [STATIC, RELATIVE, ABSOLUTE, FIXED]);
}

function values_1(){
  $clinit_Style$Position();
  return $VALUES_1;
}

function Style$Position(){
}

_ = Style$Position.prototype = new Enum;
_.getClass$ = function getClass_22(){
  return Lcom_google_gwt_dom_client_Style$Position_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Position, Q$Serializable, Q$Comparable, Q$Enum]);
var $VALUES_1, ABSOLUTE, FIXED, RELATIVE, STATIC;
function Style$Position$1_0(){
  Enum_0.call(this, 'STATIC', 0);
}

function Style$Position$1(){
}

_ = Style$Position$1_0.prototype = Style$Position$1.prototype = new Style$Position;
_.getClass$ = function getClass_23(){
  return Lcom_google_gwt_dom_client_Style$Position$1_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Position, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Position$2_0(){
  Enum_0.call(this, 'RELATIVE', 1);
}

function Style$Position$2(){
}

_ = Style$Position$2_0.prototype = Style$Position$2.prototype = new Style$Position;
_.getClass$ = function getClass_24(){
  return Lcom_google_gwt_dom_client_Style$Position$2_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Position, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Position$3_0(){
  Enum_0.call(this, 'ABSOLUTE', 2);
}

function Style$Position$3(){
}

_ = Style$Position$3_0.prototype = Style$Position$3.prototype = new Style$Position;
_.getClass$ = function getClass_25(){
  return Lcom_google_gwt_dom_client_Style$Position$3_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Position, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Position$4_0(){
  Enum_0.call(this, 'FIXED', 3);
}

function Style$Position$4(){
}

_ = Style$Position$4_0.prototype = Style$Position$4.prototype = new Style$Position;
_.getClass$ = function getClass_26(){
  return Lcom_google_gwt_dom_client_Style$Position$4_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Position, Q$Serializable, Q$Comparable, Q$Enum]);
function $clinit_Style$Unit(){
  $clinit_Style$Unit = nullMethod;
  PX = new Style$Unit$1_0;
  PCT = new Style$Unit$2_0;
  EM = new Style$Unit$3_0;
  EX = new Style$Unit$4_0;
  PT = new Style$Unit$5_0;
  PC = new Style$Unit$6_0;
  IN = new Style$Unit$7_0;
  CM = new Style$Unit$8_0;
  MM = new Style$Unit$9_0;
  $VALUES_2 = initValues(_3Lcom_google_gwt_dom_client_Style$Unit_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Style$Unit, [PX, PCT, EM, EX, PT, PC, IN, CM, MM]);
}

function values_2(){
  $clinit_Style$Unit();
  return $VALUES_2;
}

function Style$Unit(){
}

_ = Style$Unit.prototype = new Enum;
_.getClass$ = function getClass_27(){
  return Lcom_google_gwt_dom_client_Style$Unit_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
var $VALUES_2, CM, EM, EX, IN, MM, PC, PCT, PT, PX;
function Style$Unit$1_0(){
  Enum_0.call(this, 'PX', 0);
}

function Style$Unit$1(){
}

_ = Style$Unit$1_0.prototype = Style$Unit$1.prototype = new Style$Unit;
_.getClass$ = function getClass_28(){
  return Lcom_google_gwt_dom_client_Style$Unit$1_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$2_0(){
  Enum_0.call(this, 'PCT', 1);
}

function Style$Unit$2(){
}

_ = Style$Unit$2_0.prototype = Style$Unit$2.prototype = new Style$Unit;
_.getClass$ = function getClass_29(){
  return Lcom_google_gwt_dom_client_Style$Unit$2_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$3_0(){
  Enum_0.call(this, 'EM', 2);
}

function Style$Unit$3(){
}

_ = Style$Unit$3_0.prototype = Style$Unit$3.prototype = new Style$Unit;
_.getClass$ = function getClass_30(){
  return Lcom_google_gwt_dom_client_Style$Unit$3_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$4_0(){
  Enum_0.call(this, 'EX', 3);
}

function Style$Unit$4(){
}

_ = Style$Unit$4_0.prototype = Style$Unit$4.prototype = new Style$Unit;
_.getClass$ = function getClass_31(){
  return Lcom_google_gwt_dom_client_Style$Unit$4_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$5_0(){
  Enum_0.call(this, 'PT', 4);
}

function Style$Unit$5(){
}

_ = Style$Unit$5_0.prototype = Style$Unit$5.prototype = new Style$Unit;
_.getClass$ = function getClass_32(){
  return Lcom_google_gwt_dom_client_Style$Unit$5_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$6_0(){
  Enum_0.call(this, 'PC', 5);
}

function Style$Unit$6(){
}

_ = Style$Unit$6_0.prototype = Style$Unit$6.prototype = new Style$Unit;
_.getClass$ = function getClass_33(){
  return Lcom_google_gwt_dom_client_Style$Unit$6_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$7_0(){
  Enum_0.call(this, 'IN', 6);
}

function Style$Unit$7(){
}

_ = Style$Unit$7_0.prototype = Style$Unit$7.prototype = new Style$Unit;
_.getClass$ = function getClass_34(){
  return Lcom_google_gwt_dom_client_Style$Unit$7_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$8_0(){
  Enum_0.call(this, 'CM', 7);
}

function Style$Unit$8(){
}

_ = Style$Unit$8_0.prototype = Style$Unit$8.prototype = new Style$Unit;
_.getClass$ = function getClass_35(){
  return Lcom_google_gwt_dom_client_Style$Unit$8_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Unit$9_0(){
  Enum_0.call(this, 'MM', 8);
}

function Style$Unit$9(){
}

_ = Style$Unit$9_0.prototype = Style$Unit$9.prototype = new Style$Unit;
_.getClass$ = function getClass_36(){
  return Lcom_google_gwt_dom_client_Style$Unit$9_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$Unit, Q$Serializable, Q$Comparable, Q$Enum]);
function $clinit_Style$Visibility(){
  $clinit_Style$Visibility = nullMethod;
  VISIBLE_0 = new Style$Visibility$1_0;
  HIDDEN_0 = new Style$Visibility$2_0;
  $VALUES_3 = initValues(_3Lcom_google_gwt_dom_client_Style$Visibility_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Style$Visibility, [VISIBLE_0, HIDDEN_0]);
}

function values_3(){
  $clinit_Style$Visibility();
  return $VALUES_3;
}

function Style$Visibility(){
}

_ = Style$Visibility.prototype = new Enum;
_.getClass$ = function getClass_37(){
  return Lcom_google_gwt_dom_client_Style$Visibility_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Visibility, Q$Serializable, Q$Comparable, Q$Enum]);
var $VALUES_3, HIDDEN_0, VISIBLE_0;
function Style$Visibility$1_0(){
  Enum_0.call(this, 'VISIBLE', 0);
}

function Style$Visibility$1(){
}

_ = Style$Visibility$1_0.prototype = Style$Visibility$1.prototype = new Style$Visibility;
_.getClass$ = function getClass_38(){
  return Lcom_google_gwt_dom_client_Style$Visibility$1_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Visibility, Q$Serializable, Q$Comparable, Q$Enum]);
function Style$Visibility$2_0(){
  Enum_0.call(this, 'HIDDEN', 1);
}

function Style$Visibility$2(){
}

_ = Style$Visibility$2_0.prototype = Style$Visibility$2.prototype = new Style$Visibility;
_.getClass$ = function getClass_39(){
  return Lcom_google_gwt_dom_client_Style$Visibility$2_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Style$HasCssName, Q$Style$Visibility, Q$Serializable, Q$Comparable, Q$Enum]);
var impl = null;
function TouchEvent$TouchSupportDetector_0(){
  var elem;
  this.isSupported = (elem = document.createElement('div') , elem.setAttribute('ontouchstart', 'return;') , typeof elem.ontouchstart == 'function');
}

function TouchEvent$TouchSupportDetector(){
}

_ = TouchEvent$TouchSupportDetector_0.prototype = TouchEvent$TouchSupportDetector.prototype = new Object_0;
_.getClass$ = function getClass_40(){
  return Lcom_google_gwt_event_dom_client_TouchEvent$TouchSupportDetector_2_classLit;
}
;
function throwIfNull(value){
  if (null == value) {
    throw new NullPointerException_1;
  }
}

function Array_1(){
}

function createFromSeed(seedType, length_0){
  var array = new Array(length_0);
  if (seedType == 3) {
    for (var i = 0; i < length_0; ++i) {
      var value = new Object;
      value.l = value.m = value.h = 0;
      array[i] = value;
    }
  }
   else if (seedType > 0) {
    var value = [null, 0, false][seedType];
    for (var i = 0; i < length_0; ++i) {
      array[i] = value;
    }
  }
  return array;
}

function initDim(arrayClass, castableTypeMap, queryId, length_0, seedType){
  var result;
  result = createFromSeed(seedType, length_0);
  initValues(arrayClass, castableTypeMap, queryId, result);
  return result;
}

function initDims(arrayClasses, castableTypeMapExprs, queryIdExprs, dimExprs, count, seedType){
  return initDims_0(arrayClasses, castableTypeMapExprs, queryIdExprs, dimExprs, 0, count, seedType);
}

function initDims_0(arrayClasses, castableTypeMapExprs, queryIdExprs, dimExprs, index, count, seedType){
  var i, isLastDim, length_0, result;
  length_0 = dimExprs[index];
  isLastDim = index == count - 1;
  result = createFromSeed(isLastDim?seedType:0, length_0);
  initValues(arrayClasses[index], castableTypeMapExprs[index], queryIdExprs[index], result);
  if (!isLastDim) {
    ++index;
    for (i = 0; i < length_0; ++i) {
      result[i] = initDims_0(arrayClasses, castableTypeMapExprs, queryIdExprs, dimExprs, index, count, seedType);
    }
  }
  return result;
}

function initValues(arrayClass, castableTypeMap, queryId, array){
  $clinit_Array$ExpandoWrapper();
  wrapArray(array, expandoNames_0, expandoValues_0);
  array.arrayClass$ = arrayClass;
  array.castableTypeMap$ = castableTypeMap;
  array.queryId$ = queryId;
  return array;
}

function setCheck(array, index, value){
  if (value != null) {
    if (array.queryId$ > 0 && !canCastUnsafe(value, array.queryId$)) {
      throw new ArrayStoreException_0;
    }
    if (array.queryId$ < 0 && (value.typeMarker$ == nullMethod || canCast(value, 1))) {
      throw new ArrayStoreException_0;
    }
  }
  return array[index] = value;
}

function Array_0(){
}

_ = Array_1.prototype = Array_0.prototype = new Object_0;
_.getClass$ = function getClass_41(){
  return this.arrayClass$;
}
;
_.arrayClass$ = null;
_.queryId$ = 0;
function $clinit_Array$ExpandoWrapper(){
  $clinit_Array$ExpandoWrapper = nullMethod;
  expandoNames_0 = [];
  expandoValues_0 = [];
  initExpandos(new Array_1, expandoNames_0, expandoValues_0);
}

function initExpandos(protoType, expandoNames, expandoValues){
  var i = 0, value;
  for (var name_0 in protoType) {
    if (value = protoType[name_0]) {
      expandoNames[i] = name_0;
      expandoValues[i] = value;
      ++i;
    }
  }
}

function wrapArray(array, expandoNames, expandoValues){
  $clinit_Array$ExpandoWrapper();
  for (var i = 0, c = expandoNames.length; i < c; ++i) {
    array[expandoNames[i]] = expandoValues[i];
  }
}

var expandoNames_0, expandoValues_0;
function canCast(src, dstId){
  return src.castableTypeMap$ && !!src.castableTypeMap$[dstId];
}

function canCastUnsafe(src, dstId){
  return src.castableTypeMap$ && src.castableTypeMap$[dstId];
}

function instanceOf(src, dstId){
  return src != null && canCast(src, dstId);
}

function instanceOfJso(src){
  return src != null && src.typeMarker$ != nullMethod && !canCast(src, 1);
}

function isJavaObject(src){
  return src.typeMarker$ == nullMethod || canCast(src, 1);
}

function maskUndefined(src){
  return src == null?null:src;
}

function round_int(x){
  return ~~Math.max(Math.min(x, 2147483647), -2147483648);
}

function init(){
  !!$stats && onModuleStart('com.google.gwt.user.client.UserAgentAsserter');
  !!$stats && onModuleStart('com.google.gwt.user.client.DocumentModeAsserter');
  $onModuleLoad();
  !!$stats && onModuleStart('net.japura.monofuel.testgame.html.TestGameHtml');
  setUncaughtExceptionHandler(new HtmlGame$1_0);
  $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE), new HtmlGame$2_0);
}

function caught(e){
  if (instanceOf(e, Q$Throwable)) {
    return e;
  }
  return new JavaScriptException_0(e);
}

function onModuleStart(mainClassName){
  return $stats({moduleName:$moduleName, sessionId:$sessionId, subSystem:'startup', evtGroup:'moduleStartup', millis:(new Date).getTime(), type:'onModuleLoadStart', className:mainClassName});
}

function $exec(this$static, input){
  return this$static.exec(input);
}

function $getItem(this$static, key){
  return $getItem_0(this$static.storage, key);
}

function $key(this$static, index){
  return $key_0(this$static.storage, index);
}

function $setItem(this$static, key, data){
  $setItem_0(this$static.storage, key, data);
}

function Storage_0(){
  this.storage = 'localStorage';
}

function getLocalStorageIfSupported(){
  if ((!supportDetectorImpl && (supportDetectorImpl = new Storage$StorageSupportDetector_0) , supportDetectorImpl).isLocalStorageSupported) {
    !localStorage_0 && (localStorage_0 = new Storage_0);
    return localStorage_0;
  }
  return null;
}

function Storage(){
}

_ = Storage_0.prototype = Storage.prototype = new Object_0;
_.getClass$ = function getClass_42(){
  return Lcom_google_gwt_storage_client_Storage_2_classLit;
}
;
_.storage = null;
var localStorage_0 = null, supportDetectorImpl = null;
function Storage$StorageSupportDetector_0(){
  this.isLocalStorageSupported = typeof $wnd.localStorage != 'undefined';
  typeof $wnd.sessionStorage != 'undefined';
}

function Storage$StorageSupportDetector(){
}

_ = Storage$StorageSupportDetector_0.prototype = Storage$StorageSupportDetector.prototype = new Object_0;
_.getClass$ = function getClass_43(){
  return Lcom_google_gwt_storage_client_Storage$StorageSupportDetector_2_classLit;
}
;
function $getItem_0(storage, key){
  return $wnd[storage].getItem(key);
}

function $getLength(storage){
  return $wnd[storage].length;
}

function $key_0(storage, index){
  return index >= 0 && index < $wnd[storage].length?$wnd[storage].key(index):null;
}

function $setItem_0(storage, key, data){
  $wnd[storage].getItem(key);
  $wnd[storage].setItem(key, data);
}

function $implFindEntry(this$static, key){
  var entry, iter, k;
  for (iter = this$static.entrySet_0().iterator(); iter.hasNext();) {
    entry = iter.next_0();
    k = entry.getKey();
    if (key == null?k == null:equals__devirtual$(key, k)) {
      return entry;
    }
  }
  return null;
}

function $keySet(this$static){
  var entrySet;
  entrySet = new AbstractHashMap$EntrySet_0(this$static);
  return new AbstractMap$1_0(this$static, entrySet);
}

function AbstractMap(){
}

_ = AbstractMap.prototype = new Object_0;
_.containsKey = function containsKey(key){
  return !!$implFindEntry(this, key);
}
;
_.equals$ = function equals_1(obj){
  var entry, entry$iterator, otherKey, otherMap, otherValue;
  if (obj === this) {
    return true;
  }
  if (!instanceOf(obj, Q$Map)) {
    return false;
  }
  otherMap = obj;
  if (this.size_0() != otherMap.size_0()) {
    return false;
  }
  for (entry$iterator = otherMap.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = entry$iterator.next_0();
    otherKey = entry.getKey();
    otherValue = entry.getValue();
    if (!this.containsKey(otherKey)) {
      return false;
    }
    if (!equalsWithNullCheck(otherValue, this.get(otherKey))) {
      return false;
    }
  }
  return true;
}
;
_.get = function get(key){
  var entry;
  entry = $implFindEntry(this, key);
  return !entry?null:entry.getValue();
}
;
_.getClass$ = function getClass_44(){
  return Ljava_util_AbstractMap_2_classLit;
}
;
_.hashCode$ = function hashCode_2(){
  var entry, entry$iterator, hashCode;
  hashCode = 0;
  for (entry$iterator = this.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = entry$iterator.next_0();
    hashCode += entry.hashCode$();
    hashCode = ~~hashCode;
  }
  return hashCode;
}
;
_.size_0 = function size_0(){
  return this.entrySet_0().size_0();
}
;
_.toString$ = function toString_3(){
  var comma, entry, iter, s;
  s = '{';
  comma = false;
  for (iter = this.entrySet_0().iterator(); iter.hasNext();) {
    entry = iter.next_0();
    comma?(s += ', '):(comma = true);
    s += '' + entry.getKey();
    s += '=';
    s += '' + entry.getValue();
  }
  return s + '}';
}
;
_.castableTypeMap$ = makeCastMap([Q$Map]);
function $containsKey(this$static, key){
  return $getItem(this$static.storage, toString__devirtual$(key)) != null;
}

function $eq(a, b){
  if (maskUndefined(a) === maskUndefined(b)) {
    return true;
  }
  if (a == null) {
    return false;
  }
  return $equals(a, b);
}

function $get(this$static, key){
  if (key == null) {
    return null;
  }
  return $getItem(this$static.storage, toString__devirtual$(key));
}

function StorageMap_0(storage){
  this.storage = storage;
}

function StorageMap(){
}

_ = StorageMap_0.prototype = StorageMap.prototype = new AbstractMap;
_.containsKey = function containsKey_0(key){
  return $containsKey(this, key);
}
;
_.entrySet_0 = function entrySet_0(){
  !this.entrySet && (this.entrySet = new StorageMap$StorageEntrySet_0(this));
  return this.entrySet;
}
;
_.get = function get_0(key){
  return $get(this, key);
}
;
_.getClass$ = function getClass_45(){
  return Lcom_google_gwt_storage_client_StorageMap_2_classLit;
}
;
_.size_0 = function size_1(){
  return $getLength(this.storage.storage);
}
;
_.castableTypeMap$ = makeCastMap([Q$Map]);
_.entrySet = null;
_.storage = null;
function StorageMap$StorageEntry_0(this$0, key){
  this.this$0 = this$0;
  this.key_0 = key;
}

function StorageMap$StorageEntry(){
}

_ = StorageMap$StorageEntry_0.prototype = StorageMap$StorageEntry.prototype = new Object_0;
_.equals$ = function equals_2(obj){
  var e;
  if (obj == null) {
    return false;
  }
   else if (obj === this) {
    return true;
  }
   else if (!instanceOf(obj, Q$Map$Entry)) {
    return false;
  }
  e = obj;
  return $eq(this.key_0, e.getKey()) && $eq($getItem(this.this$0.storage, this.key_0), e.getValue());
}
;
_.getClass$ = function getClass_46(){
  return Lcom_google_gwt_storage_client_StorageMap$StorageEntry_2_classLit;
}
;
_.getKey = function getKey(){
  return this.key_0;
}
;
_.getValue = function getValue(){
  return $getItem(this.this$0.storage, this.key_0);
}
;
_.hashCode$ = function hashCode_3(){
  var value;
  value = $getItem(this.this$0.storage, this.key_0);
  return (this.key_0 == null?0:getHashCode_0(this.key_0)) ^ (value == null?0:getHashCode_0(value));
}
;
_.setValue = function setValue(value){
  var oldValue;
  return oldValue = $getItem(this.this$0.storage, this.key_0) , $setItem(this.this$0.storage, this.key_0, value) , oldValue;
}
;
_.castableTypeMap$ = makeCastMap([Q$Map$Entry]);
_.key_0 = null;
_.this$0 = null;
function $next(this$static){
  if (this$static.index_0 < $getLength(this$static.this$0.storage.storage) - 1) {
    ++this$static.index_0;
    return new StorageMap$StorageEntry_0(this$static.this$0, $key(this$static.this$0.storage, this$static.index_0));
  }
  throw new NoSuchElementException_0;
}

function StorageMap$StorageEntryIterator_0(this$0){
  this.this$0 = this$0;
}

function StorageMap$StorageEntryIterator(){
}

_ = StorageMap$StorageEntryIterator_0.prototype = StorageMap$StorageEntryIterator.prototype = new Object_0;
_.getClass$ = function getClass_47(){
  return Lcom_google_gwt_storage_client_StorageMap$StorageEntryIterator_2_classLit;
}
;
_.hasNext = function hasNext(){
  return this.index_0 < $getLength(this.this$0.storage.storage) - 1;
}
;
_.next_0 = function next_0(){
  return $next(this);
}
;
_.index_0 = -1;
_.this$0 = null;
function $advanceToFind(iter, o){
  var t;
  while (iter.hasNext()) {
    t = iter.next_0();
    if (o == null?t == null:equals__devirtual$(o, t)) {
      return iter;
    }
  }
  return null;
}

function $toString(this$static){
  var comma, iter, sb, value;
  sb = new StringBuffer_0;
  comma = null;
  sb.impl.string += '[';
  iter = this$static.iterator();
  while (iter.hasNext()) {
    comma != null?($append_3(sb.impl, comma) , sb):(comma = ', ');
    value = iter.next_0();
    $append_3(sb.impl, value === this$static?'(this Collection)':'' + value);
  }
  sb.impl.string += ']';
  return sb.impl.string;
}

function AbstractCollection(){
}

_ = AbstractCollection.prototype = new Object_0;
_.add = function add(o){
  throw new UnsupportedOperationException_1('Add not supported on this collection');
}
;
_.contains = function contains(o){
  var iter;
  iter = $advanceToFind(this.iterator(), o);
  return !!iter;
}
;
_.getClass$ = function getClass_48(){
  return Ljava_util_AbstractCollection_2_classLit;
}
;
_.toString$ = function toString_4(){
  return $toString(this);
}
;
function AbstractSet(){
}

_ = AbstractSet.prototype = new AbstractCollection;
_.equals$ = function equals_3(o){
  var iter, other, otherItem;
  if (o === this) {
    return true;
  }
  if (!instanceOf(o, Q$Set)) {
    return false;
  }
  other = o;
  if (other.size_0() != this.size_0()) {
    return false;
  }
  for (iter = other.iterator(); iter.hasNext();) {
    otherItem = iter.next_0();
    if (!this.contains(otherItem)) {
      return false;
    }
  }
  return true;
}
;
_.getClass$ = function getClass_49(){
  return Ljava_util_AbstractSet_2_classLit;
}
;
_.hashCode$ = function hashCode_4(){
  var hashCode, iter, next;
  hashCode = 0;
  for (iter = this.iterator(); iter.hasNext();) {
    next = iter.next_0();
    if (next != null) {
      hashCode += hashCode__devirtual$(next);
      hashCode = ~~hashCode;
    }
  }
  return hashCode;
}
;
_.castableTypeMap$ = makeCastMap([Q$Set]);
function StorageMap$StorageEntrySet_0(this$0){
  this.this$0 = this$0;
}

function StorageMap$StorageEntrySet(){
}

_ = StorageMap$StorageEntrySet_0.prototype = StorageMap$StorageEntrySet.prototype = new AbstractSet;
_.contains = function contains_0(o){
  var e, key;
  if (o == null || !instanceOf(o, Q$Map$Entry)) {
    return false;
  }
  e = o;
  key = e.getKey();
  return key != null && $containsKey(this.this$0, key) && $eq($get(this.this$0, key), e.getValue());
}
;
_.getClass$ = function getClass_50(){
  return Lcom_google_gwt_storage_client_StorageMap$StorageEntrySet_2_classLit;
}
;
_.iterator = function iterator(){
  return new StorageMap$StorageEntryIterator_0(this.this$0);
}
;
_.size_0 = function size_2(){
  return $getLength(this.this$0.storage.storage);
}
;
_.castableTypeMap$ = makeCastMap([Q$Set]);
_.this$0 = null;
function toJsArray(data){
  var i, jsan, len;
  jsan = [];
  len = data.length;
  for (i = len - 1; i >= 0; --i) {
    jsan[i] = data[i];
  }
  return jsan;
}

function toJsArray_0(data){
  var i, jsan, len;
  jsan = [];
  len = data.length;
  for (i = len - 1; i >= 0; --i) {
    jsan[i] = data[i];
  }
  return jsan;
}

function $set(this$static, array){
  this$static.set(array);
}

function $set_0(this$static, array, offset){
  this$static.set(array, offset);
}

function $set_1(this$static, array, offset){
  this$static.set(array, offset);
}

function create(data){
  return new Float32Array(data);
}

function create_0(data){
  return new Int32Array(data);
}

function create_1(data){
  return new Uint16Array(data);
}

function create_2(data){
  return new Uint8Array(data);
}

function $onModuleLoad(){
  var allowedModes, currentMode, i;
  currentMode = $doc.compatMode;
  allowedModes = initValues(_3Ljava_lang_String_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$String, ['CSS1Compat']);
  for (i = 0; i < allowedModes.length; ++i) {
    if ($equals(allowedModes[i], currentMode)) {
      return;
    }
  }
  allowedModes.length == 1 && $equals('CSS1Compat', allowedModes[0]) && $equals('BackCompat', currentMode)?"GWT no longer supports Quirks Mode (document.compatMode=' BackCompat').<br>Make sure your application's host HTML page has a Standards Mode (document.compatMode=' CSS1Compat') doctype,<br>e.g. by using &lt;!doctype html&gt; at the start of your application's HTML page.<br><br>To continue using this unsupported rendering mode and risk layout problems, suppress this message by adding<br>the following line to your*.gwt.xml module file:<br>&nbsp;&nbsp;&lt;extend-configuration-property name=\"document.compatMode\" value=\"" + currentMode + '"/&gt;':"Your *.gwt.xml module configuration prohibits the use of the current doucment rendering mode (document.compatMode=' " + currentMode + "').<br>Modify your application's host HTML page doctype, or update your custom 'document.compatMode' configuration property settings.";
}

function alert_0(msg){
  $wnd.alert(msg);
}

function ensureParameterMap(){
  var kv, kvPair, kvPair$array, kvPair$index, kvPair$max, qs, queryString, regexp;
  if (!paramMap) {
    paramMap = new HashMap_0;
    queryString = $wnd.location.search;
    if (queryString != null && queryString.length > 1) {
      qs = $substring(queryString, 1);
      for (kvPair$array = $split(qs, '&', 0) , kvPair$index = 0 , kvPair$max = kvPair$array.length; kvPair$index < kvPair$max; ++kvPair$index) {
        kvPair = kvPair$array[kvPair$index];
        kv = $split(kvPair, '=', 2);
        kv.length > 1?$put(paramMap, kv[0], (throwIfNull(kv[1]) , regexp = /\+/g , decodeURIComponent(kv[1].replace(regexp, '%20')))):$put(paramMap, kv[0], '');
      }
    }
  }
}

var paramMap = null;
function $clinit_RootPanel(){
  $clinit_RootPanel = nullMethod;
  new HashMap_0;
  new HashSet_0;
}

function $bindBuffer(this$static, target, buffer){
  this$static.bindBuffer(target, buffer);
}

function $bindFramebuffer(this$static, target, framebuffer){
  this$static.bindFramebuffer(target, framebuffer);
}

function $bindTexture(this$static, target, texture){
  this$static.bindTexture(target, texture);
}

function $bufferData(this$static, target, data, usage){
  this$static.bufferData(target, data, usage);
}

function $deleteFramebuffer(this$static, framebuffer){
  this$static.deleteFramebuffer(framebuffer);
}

function $deleteTexture(this$static, texture){
  this$static.deleteTexture(texture);
}

function $drawElements(this$static, mode, count, type, offset){
  this$static.drawElements(mode, count, type, offset);
}

function $enableVertexAttribArray(this$static, index){
  this$static.enableVertexAttribArray(index);
}

function $framebufferTexture2D(this$static, target, attachment, textarget, texture, level){
  this$static.framebufferTexture2D(target, attachment, textarget, texture, level);
}

function $getAttribLocation(this$static, program, name_0){
  return this$static.getAttribLocation(program, name_0);
}

function $getUniformLocation(this$static, program, name_0){
  return this$static.getUniformLocation(program, name_0);
}

function $readPixels(this$static, x, y, width, height, format, type, pixels){
  this$static.readPixels(x, y, width, height, format, type, pixels);
}

function $texImage2D(this$static, target, level, internalformat, width, height, border, format, type, pixels){
  this$static.texImage2D(target, level, internalformat, width, height, border, format, type, pixels);
}

function $texImage2D_0(this$static, target, level, internalformat, format, type, image){
  this$static.texImage2D(target, level, internalformat, format, type, image);
}

function $texParameteri(this$static, target, pname, param){
  this$static.texParameteri(target, pname, param);
}

function $uniform1f(this$static, location_0, x){
  this$static.uniform1f(location_0, x);
}

function $uniform1i(this$static, location_0, x){
  this$static.uniform1i(location_0, x);
}

function $uniform2fv(this$static, location_0, v){
  this$static.uniform2fv(location_0, v);
}

function $useProgram(this$static, program){
  this$static.useProgram(program);
}

function $vertexAttribPointer(this$static, indx, size, type, normalized, stride, offset){
  this$static.vertexAttribPointer(indx, size, type, normalized, stride, offset);
}

function $viewport(this$static, x, y, width, height){
  this$static.viewport(x, y, width, height);
}

function getContext(canvas, attributes){
  var names = ['experimental-webgl', 'webgl', 'moz-webgl', 'webkit-webgl', 'webkit-3d'];
  for (var i = 0; i < names.length; i++) {
    try {
      var ctx = canvas.getContext(names[i], attributes);
      if (ctx != null) {
        if ($wnd.WebGLDebugUtils) {
          $wnd.console && $wnd.console.log && console.log('WebGL debugging enabled');
          return $wnd.WebGLDebugUtils.makeDebugContext(ctx);
        }
        return ctx;
      }
    }
     catch (e) {
    }
  }
  return null;
}

--></script>
<script><!--
function createShaderProgram(gl, fragmentSource){
  var fragmentShader, shaderProgram, vertexShader;
  vertexShader = getShader(gl, 35633, 'uniform vec2 u_ScreenSize;\nattribute vec4 a_Matrix;\nattribute vec2 a_Translation;\nattribute vec2 a_Position;\nattribute vec2 a_Texture;\nvarying vec2 v_TexCoord;\nvoid main(void) {\n  mat3 transform = mat3(\n    a_Matrix[0], a_Matrix[1], 0,\n    a_Matrix[2], a_Matrix[3], 0,\n    a_Translation[0], a_Translation[1], 1);\n  gl_Position = vec4(transform * vec3(a_Position, 1.0), 1);\n  gl_Position.x /= (u_ScreenSize.x / 2.0);\n  gl_Position.y /= (u_ScreenSize.y / 2.0);\n  gl_Position.x -= 1.0;\n  gl_Position.y = 1.0 - gl_Position.y;\n  v_TexCoord = a_Texture;\n}');
  fragmentShader = getShader(gl, 35632, fragmentSource);
  shaderProgram = gl.createProgram();
  gl.attachShader(shaderProgram, fragmentShader);
  gl.attachShader(shaderProgram, vertexShader);
  gl.linkProgram(shaderProgram);
  if (!gl.getProgramParameter(shaderProgram, 35714)) {
    throw new RuntimeException_0('Could not initialize shaders');
  }
  return shaderProgram;
}

function getShader(gl, shaderType, source){
  var shader;
  shader = gl.createShader(shaderType);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, 35713)) {
    throw new RuntimeException_0(gl.getShaderInfoLog(shader));
  }
  return shader;
}

function IndexOutOfBoundsException_0(){
  $fillInStackTrace();
}

function IndexOutOfBoundsException_1(message){
  RuntimeException_0.call(this, message);
}

function IndexOutOfBoundsException(){
}

_ = IndexOutOfBoundsException_1.prototype = IndexOutOfBoundsException_0.prototype = IndexOutOfBoundsException.prototype = new RuntimeException;
_.getClass$ = function getClass_51(){
  return Ljava_lang_IndexOutOfBoundsException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function ArrayIndexOutOfBoundsException_0(msg){
  IndexOutOfBoundsException_1.call(this, msg);
}

function ArrayIndexOutOfBoundsException(){
}

_ = ArrayIndexOutOfBoundsException_0.prototype = ArrayIndexOutOfBoundsException.prototype = new IndexOutOfBoundsException;
_.getClass$ = function getClass_52(){
  return Ljava_lang_ArrayIndexOutOfBoundsException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function ArrayStoreException_0(){
  $fillInStackTrace();
}

function ArrayStoreException_1(message){
  RuntimeException_0.call(this, message);
}

function ArrayStoreException(){
}

_ = ArrayStoreException_1.prototype = ArrayStoreException_0.prototype = ArrayStoreException.prototype = new RuntimeException;
_.getClass$ = function getClass_53(){
  return Ljava_lang_ArrayStoreException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function Class_0(){
}

function createForArray(seedName, componentType){
  var clazz;
  clazz = new Class_0;
  clazz.typeName = 'Class$' + (seedName != null?seedName:'' + getHashCode(clazz));
  clazz.modifiers = 4;
  clazz.componentType = componentType;
  return clazz;
}

function createForClass(seedName){
  var clazz;
  clazz = new Class_0;
  clazz.typeName = 'Class$' + (seedName != null?seedName:'' + getHashCode(clazz));
  return clazz;
}

function createForEnum(seedName, enumConstantsFunc){
  var clazz;
  clazz = new Class_0;
  clazz.typeName = 'Class$' + (seedName != null?seedName:'' + getHashCode(clazz));
  clazz.modifiers = enumConstantsFunc?8:0;
  return clazz;
}

function createForPrimitive(seedName){
  var clazz;
  clazz = new Class_0;
  clazz.typeName = 'Class$' + (seedName != null?seedName:'' + getHashCode(clazz));
  clazz.modifiers = 1;
  return clazz;
}

function Class(){
}

_ = Class_0.prototype = Class.prototype = new Object_0;
_.getClass$ = function getClass_54(){
  return Ljava_lang_Class_2_classLit;
}
;
_.toString$ = function toString_5(){
  return ((this.modifiers & 2) != 0?'interface ':(this.modifiers & 1) != 0?'':'class ') + this.typeName;
}
;
_.castableTypeMap$ = makeCastMap([Q$Class]);
_.componentType = null;
_.modifiers = 0;
_.typeName = null;
function __parseAndValidateDouble(s){
  var toReturn;
  toReturn = __parseDouble(s);
  if (isNaN(toReturn)) {
    throw new NumberFormatException_0('For input string: "' + s + '"');
  }
  return toReturn;
}

function __parseDouble(str){
  var floatRegex = floatRegex_0;
  !floatRegex && (floatRegex = floatRegex_0 = /^\s*[+-]?((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?\s*$/i);
  if (floatRegex.test(str)) {
    return parseFloat(str);
  }
   else {
    return Number.NaN;
  }
}

function Number_0(){
}

_ = Number_0.prototype = new Object_0;
_.getClass$ = function getClass_55(){
  return Ljava_lang_Number_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Number]);
var floatRegex_0 = null;
function Float_0(value){
  this.value = value;
}

function parseFloat_0(s){
  var doubleValue;
  doubleValue = __parseAndValidateDouble(s);
  if (doubleValue > 3.4028234663852886E38) {
    return Infinity;
  }
   else if (doubleValue < -3.4028234663852886E38) {
    return -Infinity;
  }
  return doubleValue;
}

function Float(){
}

_ = Float_0.prototype = Float.prototype = new Number_0;
_.compareTo$ = function compareTo_0(b){
  return this.value < b.value?-1:this.value > b.value?1:0;
}
;
_.equals$ = function equals_4(o){
  return instanceOf(o, Q$Float) && o.value == this.value;
}
;
_.getClass$ = function getClass_56(){
  return Ljava_lang_Float_2_classLit;
}
;
_.hashCode$ = function hashCode_5(){
  return round_int(this.value);
}
;
_.toString$ = function toString_6(){
  return '' + this.value;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Float, Q$Number]);
_.value = 0;
function IllegalArgumentException_0(message){
  RuntimeException_0.call(this, message);
}

function IllegalArgumentException(){
}

_ = IllegalArgumentException_0.prototype = IllegalArgumentException.prototype = new RuntimeException;
_.getClass$ = function getClass_57(){
  return Ljava_lang_IllegalArgumentException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function Integer_0(value){
  this.value = value;
}

function toPowerOfTwoString(value){
  var buf, digits, pos;
  buf = initDim(_3C_classLit, makeCastMap([Q$Serializable]), -1, 8, 1);
  digits = ($clinit_Number$__Digits() , digits_0);
  pos = 7;
  if (value >= 0) {
    while (value > 15) {
      buf[pos--] = digits[value & 15];
      value >>= 4;
    }
  }
   else {
    while (pos > 0) {
      buf[pos--] = digits[value & 15];
      value >>= 4;
    }
  }
  buf[pos] = digits[value & 15];
  return __valueOf(buf, pos, 8);
}

function valueOf(i){
  var rebase, result;
  if (i > -129 && i < 128) {
    rebase = i + 128;
    result = ($clinit_Integer$BoxedValues() , boxedValues)[rebase];
    !result && (result = boxedValues[rebase] = new Integer_0(i));
    return result;
  }
  return new Integer_0(i);
}

function Integer(){
}

_ = Integer_0.prototype = Integer.prototype = new Number_0;
_.compareTo$ = function compareTo_1(b){
  return this.value < b.value?-1:this.value > b.value?1:0;
}
;
_.equals$ = function equals_5(o){
  return instanceOf(o, Q$Integer) && o.value == this.value;
}
;
_.getClass$ = function getClass_58(){
  return Ljava_lang_Integer_2_classLit;
}
;
_.hashCode$ = function hashCode_6(){
  return this.value;
}
;
_.toString$ = function toString_7(){
  return '' + this.value;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Integer, Q$Number]);
_.value = 0;
function $clinit_Integer$BoxedValues(){
  $clinit_Integer$BoxedValues = nullMethod;
  boxedValues = initDim(_3Ljava_lang_Integer_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Integer, 256, 0);
}

var boxedValues;
function abs(x){
  return x <= 0?0 - x:x;
}

function cos(x){
  return Math.cos(x);
}

function sin(x){
  return Math.sin(x);
}

function sqrt(x){
  return Math.sqrt(x);
}

function NullPointerException_0(){
  $fillInStackTrace();
}

function NullPointerException_1(){
  RuntimeException_0.call(this, 'encodedURLComponent cannot be null');
}

function NullPointerException(){
}

_ = NullPointerException_1.prototype = NullPointerException_0.prototype = NullPointerException.prototype = new RuntimeException;
_.getClass$ = function getClass_59(){
  return Ljava_lang_NullPointerException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function $clinit_Number$__Digits(){
  $clinit_Number$__Digits = nullMethod;
  digits_0 = initValues(_3C_classLit, makeCastMap([Q$Serializable]), -1, [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122]);
}

var digits_0;
function NumberFormatException_0(message){
  IllegalArgumentException_0.call(this, message);
}

function NumberFormatException(){
}

_ = NumberFormatException_0.prototype = NumberFormatException.prototype = new IllegalArgumentException;
_.getClass$ = function getClass_60(){
  return Ljava_lang_NumberFormatException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function StackTraceElement_0(methodName){
  this.className = 'Unknown';
  this.methodName = methodName;
  this.lineNumber = -1;
}

function StackTraceElement(){
}

_ = StackTraceElement_0.prototype = StackTraceElement.prototype = new Object_0;
_.getClass$ = function getClass_61(){
  return Ljava_lang_StackTraceElement_2_classLit;
}
;
_.toString$ = function toString_8(){
  return this.className + '.' + this.methodName + '(Unknown Source' + (this.lineNumber >= 0?':' + this.lineNumber:'') + ')';
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$StackTraceElement]);
_.className = null;
_.lineNumber = 0;
_.methodName = null;
function $charAt(this$static, index){
  return this$static.charCodeAt(index);
}

function $equals(this$static, other){
  if (!instanceOf(other, Q$String)) {
    return false;
  }
  return String(this$static) == other;
}

function $indexOf(this$static, str){
  return this$static.indexOf(str);
}

function $split(this$static, regex, maxMatch){
  var compiled = new RegExp(regex, 'g');
  var out = [];
  var count = 0;
  var trail = this$static;
  var lastTrail = null;
  while (true) {
    var matchObj = compiled.exec(trail);
    if (matchObj == null || trail == '' || count == maxMatch - 1 && maxMatch > 0) {
      out[count] = trail;
      break;
    }
     else {
      out[count] = trail.substring(0, matchObj.index);
      trail = trail.substring(matchObj.index + matchObj[0].length, trail.length);
      compiled.lastIndex = 0;
      if (lastTrail == trail) {
        out[count] = trail.substring(0, 1);
        trail = trail.substring(1);
      }
      lastTrail = trail;
      count++;
    }
  }
  if (maxMatch == 0 && this$static.length > 0) {
    var lastNonEmpty = out.length;
    while (lastNonEmpty > 0 && out[lastNonEmpty - 1] == '') {
      --lastNonEmpty;
    }
    lastNonEmpty < out.length && out.splice(lastNonEmpty, out.length - lastNonEmpty);
  }
  var jr = __createArray(out.length);
  for (var i = 0; i < out.length; ++i) {
    jr[i] = out[i];
  }
  return jr;
}

function $substring(this$static, beginIndex){
  return this$static.substr(beginIndex, this$static.length - beginIndex);
}

function $substring_0(this$static, beginIndex, endIndex){
  return this$static.substr(beginIndex, endIndex - beginIndex);
}

function $trim(this$static){
  if (this$static.length == 0 || this$static[0] > ' ' && this$static[this$static.length - 1] > ' ') {
    return this$static;
  }
  var r1 = this$static.replace(/^(\s*)/, '');
  var r2 = r1.replace(/\s*$/, '');
  return r2;
}

function __createArray(numElements){
  return initDim(_3Ljava_lang_String_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$String, numElements, 0);
}

function __valueOf(x, start, end){
  x = x.slice(start, end);
  return String.fromCharCode.apply(null, x);
}

function compareTo_2(thisStr, otherStr){
  thisStr = String(thisStr);
  if (thisStr == otherStr) {
    return 0;
  }
  return thisStr < otherStr?-1:1;
}

_ = String.prototype;
_.compareTo$ = function compareTo_3(other){
  return compareTo_2(this, other);
}
;
_.equals$ = function equals_6(other){
  return $equals(this, other);
}
;
_.getClass$ = function getClass_62(){
  return Ljava_lang_String_2_classLit;
}
;
_.hashCode$ = function hashCode_7(){
  return getHashCode_0(this);
}
;
_.toString$ = function toString_9(){
  return this;
}
;
_.castableTypeMap$ = makeCastMap([Q$String, Q$Serializable, Q$CharSequence, Q$Comparable]);
function $clinit_String$HashCache(){
  $clinit_String$HashCache = nullMethod;
  back_0 = {};
  front = {};
}

function compute(str){
  var hashCode, i, n, nBatch;
  hashCode = 0;
  n = str.length;
  nBatch = n - 4;
  i = 0;
  while (i < nBatch) {
    hashCode = str.charCodeAt(i + 3) + 31 * (str.charCodeAt(i + 2) + 31 * (str.charCodeAt(i + 1) + 31 * (str.charCodeAt(i) + 31 * hashCode))) | 0;
    i += 4;
  }
  while (i < n) {
    hashCode = hashCode * 31 + $charAt(str, i++);
  }
  return hashCode | 0;
}

function getHashCode_0(str){
  $clinit_String$HashCache();
  var key = ':' + str;
  var result = front[key];
  if (result != null) {
    return result;
  }
  result = back_0[key];
  result == null && (result = compute(str));
  increment_0();
  return front[key] = result;
}

function increment_0(){
  if (count_0 == 256) {
    back_0 = front;
    front = {};
    count_0 = 0;
  }
  ++count_0;
}

var back_0, count_0 = 0, front;
function $append_4(this$static, x){
  $append_3(this$static.impl, x);
  return this$static;
}

function StringBuffer_0(){
  this.impl = new StringBufferImplAppend_0;
}

function StringBuffer(){
}

_ = StringBuffer_0.prototype = StringBuffer.prototype = new Object_0;
_.getClass$ = function getClass_63(){
  return Ljava_lang_StringBuffer_2_classLit;
}
;
_.toString$ = function toString_10(){
  return this.impl.string;
}
;
_.castableTypeMap$ = makeCastMap([Q$CharSequence]);
function $$init(this$static){
  this$static.impl = new StringBufferImplAppend_0;
}

function $append_5(this$static, x){
  $append(this$static.impl, x);
  return this$static;
}

function $append_6(this$static, x){
  $appendNonNull(this$static.impl, String.fromCharCode(x));
  return this$static;
}

function $append_7(this$static, x){
  $appendNonNull(this$static.impl, String.fromCharCode.apply(null, x));
  return this$static;
}

function $append_8(this$static, x){
  $append_0(this$static.impl, x);
  return this$static;
}

function $append_9(this$static, x){
  $append_1(this$static.impl, x);
  return this$static;
}

function $append_10(this$static, x){
  $append_2(this$static.impl, x);
  return this$static;
}

function $append_11(this$static, x){
  $append_3(this$static.impl, x);
  return this$static;
}

function $charAt_0(this$static, index){
  return $charAt(this$static.impl.string, index);
}

function $setLength(this$static, newLength){
  var oldLength;
  oldLength = this$static.impl.string.length;
  newLength < oldLength?($replace(this$static.impl, newLength, oldLength) , this$static):newLength > oldLength && $append_7(this$static, initDim(_3C_classLit, makeCastMap([Q$Serializable]), -1, newLength - oldLength, 1));
}

function StringBuilder_0(){
  $$init(this);
}

function StringBuilder_1(s){
  $$init(this);
  $append_3(this.impl, s);
}

function StringBuilder(){
}

_ = StringBuilder_1.prototype = StringBuilder_0.prototype = StringBuilder.prototype = new Object_0;
_.getClass$ = function getClass_64(){
  return Ljava_lang_StringBuilder_2_classLit;
}
;
_.toString$ = function toString_11(){
  return this.impl.string;
}
;
_.castableTypeMap$ = makeCastMap([Q$CharSequence]);
function arraycopy(src, srcOfs, dest, destOfs, len){
  var destComp, destEnd, destType, destlen, srcComp, srcType, srclen;
  if (src == null || dest == null) {
    throw new NullPointerException_0;
  }
  srcType = src.getClass$();
  destType = dest.getClass$();
  if ((srcType.modifiers & 4) == 0 || (destType.modifiers & 4) == 0) {
    throw new ArrayStoreException_1('Must be array types');
  }
  srcComp = srcType.componentType;
  destComp = destType.componentType;
  if (!((srcComp.modifiers & 1) != 0?srcComp == destComp:(destComp.modifiers & 1) == 0)) {
    throw new ArrayStoreException_1('Array types must match');
  }
  srclen = src.length;
  destlen = dest.length;
  if (srcOfs < 0 || destOfs < 0 || len < 0 || srcOfs + len > srclen || destOfs + len > destlen) {
    throw new IndexOutOfBoundsException_0;
  }
  if (((srcComp.modifiers & 1) == 0 || (srcComp.modifiers & 4) != 0) && srcType != destType) {
    if (src === dest && srcOfs < destOfs) {
      srcOfs += len;
      for (destEnd = destOfs + len; destEnd-- > destOfs;) {
        dest[destEnd] = src[--srcOfs];
      }
    }
     else {
      for (destEnd = destOfs + len; destOfs < destEnd;) {
        dest[destOfs++] = src[srcOfs++];
      }
    }
  }
   else {
    Array.prototype.splice.apply(dest, [destOfs, len].concat(src.slice(srcOfs, srcOfs + len)));
  }
}

function $get_0(this$static){
  !this$static.object && (this$static.object = new Manifold_0);
  return this$static.object;
}

function ThreadLocal(){
}

_ = ThreadLocal.prototype = new Object_0;
_.getClass$ = function getClass_65(){
  return Ljava_lang_ThreadLocal_2_classLit;
}
;
_.object = null;
function UnsupportedOperationException_0(){
  $fillInStackTrace();
}

function UnsupportedOperationException_1(message){
  RuntimeException_0.call(this, message);
}

function UnsupportedOperationException(){
}

_ = UnsupportedOperationException_1.prototype = UnsupportedOperationException_0.prototype = UnsupportedOperationException.prototype = new RuntimeException;
_.getClass$ = function getClass_66(){
  return Ljava_lang_UnsupportedOperationException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function $addAllHashEntries(this$static, dest){
  var hashCodeMap = this$static.hashCodeMap;
  for (var hashCode in hashCodeMap) {
    var hashCodeInt = parseInt(hashCode, 10);
    if (hashCode == hashCodeInt) {
      var array = hashCodeMap[hashCodeInt];
      for (var i = 0, c = array.length; i < c; ++i) {
        dest.add(array[i]);
      }
    }
  }
}

function $addAllStringEntries(this$static, dest){
  var stringMap = this$static.stringMap;
  for (var key in stringMap) {
    if (key.charCodeAt(0) == 58) {
      var entry = new AbstractHashMap$MapEntryString_0(this$static, key.substring(1));
      dest.add(entry);
    }
  }
}

function $containsKey_0(this$static, key){
  return key == null?this$static.nullSlotLive:instanceOf(key, Q$String)?':' + key in this$static.stringMap:$hasHashValue(this$static, key, ~~hashCode__devirtual$(key));
}

function $get_1(this$static, key){
  return key == null?this$static.nullSlot:instanceOf(key, Q$String)?this$static.stringMap[':' + key]:$getHashValue(this$static, key, ~~hashCode__devirtual$(key));
}

function $getHashValue(this$static, key, hashCode){
  var array = this$static.hashCodeMap[hashCode];
  if (array) {
    for (var i = 0, c = array.length; i < c; ++i) {
      var entry = array[i];
      var entryKey = entry.getKey();
      if (this$static.equalsBridge(key, entryKey)) {
        return entry.getValue();
      }
    }
  }
  return null;
}

function $getStringValue(this$static, key){
  return this$static.stringMap[':' + key];
}

function $hasHashValue(this$static, key, hashCode){
  var array = this$static.hashCodeMap[hashCode];
  if (array) {
    for (var i = 0, c = array.length; i < c; ++i) {
      var entry = array[i];
      var entryKey = entry.getKey();
      if (this$static.equalsBridge(key, entryKey)) {
        return true;
      }
    }
  }
  return false;
}

function $put(this$static, key, value){
  return key == null?$putNullSlot(this$static, value):instanceOf(key, Q$String)?$putStringValue(this$static, key, value):$putHashValue(this$static, key, value, ~~hashCode__devirtual$(key));
}

function $putHashValue(this$static, key, value, hashCode){
  var array = this$static.hashCodeMap[hashCode];
  if (array) {
    for (var i = 0, c = array.length; i < c; ++i) {
      var entry = array[i];
      var entryKey = entry.getKey();
      if (this$static.equalsBridge(key, entryKey)) {
        var previous = entry.getValue();
        entry.setValue(value);
        return previous;
      }
    }
  }
   else {
    array = this$static.hashCodeMap[hashCode] = [];
  }
  var entry = new MapEntryImpl_0(key, value);
  array.push(entry);
  ++this$static.size;
  return null;
}

function $putNullSlot(this$static, value){
  var result;
  result = this$static.nullSlot;
  this$static.nullSlot = value;
  if (!this$static.nullSlotLive) {
    this$static.nullSlotLive = true;
    ++this$static.size;
  }
  return result;
}

function $putStringValue(this$static, key, value){
  var result, stringMap = this$static.stringMap;
  key = ':' + key;
  key in stringMap?(result = stringMap[key]):++this$static.size;
  stringMap[key] = value;
  return result;
}

function AbstractHashMap(){
}

_ = AbstractHashMap.prototype = new AbstractMap;
_.containsKey = function containsKey_1(key){
  return $containsKey_0(this, key);
}
;
_.entrySet_0 = function entrySet_1(){
  return new AbstractHashMap$EntrySet_0(this);
}
;
_.equalsBridge = function equalsBridge(value1, value2){
  return maskUndefined(value1) === maskUndefined(value2) || value1 != null && equals__devirtual$(value1, value2);
}
;
_.get = function get_1(key){
  return $get_1(this, key);
}
;
_.getClass$ = function getClass_67(){
  return Ljava_util_AbstractHashMap_2_classLit;
}
;
_.size_0 = function size_3(){
  return this.size;
}
;
_.castableTypeMap$ = makeCastMap([Q$Map]);
_.hashCodeMap = null;
_.nullSlot = null;
_.nullSlotLive = false;
_.size = 0;
_.stringMap = null;
function AbstractHashMap$EntrySet_0(this$0){
  this.this$0 = this$0;
}

function AbstractHashMap$EntrySet(){
}

_ = AbstractHashMap$EntrySet_0.prototype = AbstractHashMap$EntrySet.prototype = new AbstractSet;
_.contains = function contains_1(o){
  var entry, key, value;
  if (instanceOf(o, Q$Map$Entry)) {
    entry = o;
    key = entry.getKey();
    if ($containsKey_0(this.this$0, key)) {
      value = $get_1(this.this$0, key);
      return $equals_0(entry.getValue(), value);
    }
  }
  return false;
}
;
_.getClass$ = function getClass_68(){
  return Ljava_util_AbstractHashMap$EntrySet_2_classLit;
}
;
_.iterator = function iterator_0(){
  return new AbstractHashMap$EntrySetIterator_0(this.this$0);
}
;
_.size_0 = function size_4(){
  return this.this$0.size;
}
;
_.castableTypeMap$ = makeCastMap([Q$Set]);
_.this$0 = null;
function AbstractHashMap$EntrySetIterator_0(this$0){
  var list;
  list = new ArrayList_0;
  this$0.nullSlotLive && $add(list, new AbstractHashMap$MapEntryNull_0(this$0));
  $addAllStringEntries(this$0, list);
  $addAllHashEntries(this$0, list);
  this.iter = new AbstractList$IteratorImpl_0(list);
}

function AbstractHashMap$EntrySetIterator(){
}

_ = AbstractHashMap$EntrySetIterator_0.prototype = AbstractHashMap$EntrySetIterator.prototype = new Object_0;
_.getClass$ = function getClass_69(){
  return Ljava_util_AbstractHashMap$EntrySetIterator_2_classLit;
}
;
_.hasNext = function hasNext_0(){
  return $hasNext(this.iter);
}
;
_.next_0 = function next_1(){
  return $next_0(this.iter);
}
;
_.iter = null;
function AbstractMapEntry(){
}

_ = AbstractMapEntry.prototype = new Object_0;
_.equals$ = function equals_7(other){
  var entry;
  if (instanceOf(other, Q$Map$Entry)) {
    entry = other;
    if (equalsWithNullCheck(this.getKey(), entry.getKey()) && equalsWithNullCheck(this.getValue(), entry.getValue())) {
      return true;
    }
  }
  return false;
}
;
_.getClass$ = function getClass_70(){
  return Ljava_util_AbstractMapEntry_2_classLit;
}
;
_.hashCode$ = function hashCode_8(){
  var keyHash, valueHash;
  keyHash = 0;
  valueHash = 0;
  this.getKey() != null && (keyHash = hashCode__devirtual$(this.getKey()));
  this.getValue() != null && (valueHash = hashCode__devirtual$(this.getValue()));
  return keyHash ^ valueHash;
}
;
_.toString$ = function toString_12(){
  return this.getKey() + '=' + this.getValue();
}
;
_.castableTypeMap$ = makeCastMap([Q$Map$Entry]);
function AbstractHashMap$MapEntryNull_0(this$0){
  this.this$0 = this$0;
}

function AbstractHashMap$MapEntryNull(){
}

_ = AbstractHashMap$MapEntryNull_0.prototype = AbstractHashMap$MapEntryNull.prototype = new AbstractMapEntry;
_.getClass$ = function getClass_71(){
  return Ljava_util_AbstractHashMap$MapEntryNull_2_classLit;
}
;
_.getKey = function getKey_0(){
  return null;
}
;
_.getValue = function getValue_0(){
  return this.this$0.nullSlot;
}
;
_.setValue = function setValue_0(object){
  return $putNullSlot(this.this$0, object);
}
;
_.castableTypeMap$ = makeCastMap([Q$Map$Entry]);
_.this$0 = null;
function AbstractHashMap$MapEntryString_0(this$0, key){
  this.this$0 = this$0;
  this.key_0 = key;
}

function AbstractHashMap$MapEntryString(){
}

_ = AbstractHashMap$MapEntryString_0.prototype = AbstractHashMap$MapEntryString.prototype = new AbstractMapEntry;
_.getClass$ = function getClass_72(){
  return Ljava_util_AbstractHashMap$MapEntryString_2_classLit;
}
;
_.getKey = function getKey_1(){
  return this.key_0;
}
;
_.getValue = function getValue_1(){
  return $getStringValue(this.this$0, this.key_0);
}
;
_.setValue = function setValue_1(object){
  return $putStringValue(this.this$0, this.key_0, object);
}
;
_.castableTypeMap$ = makeCastMap([Q$Map$Entry]);
_.key_0 = null;
_.this$0 = null;
function checkIndex(index, size){
  (index < 0 || index >= size) && indexOutOfBounds(index, size);
}

function indexOutOfBounds(index, size){
  throw new IndexOutOfBoundsException_1('Index: ' + index + ', Size: ' + size);
}

function AbstractList(){
}

_ = AbstractList.prototype = new AbstractCollection;
_.add = function add_0(obj){
  this.add_0(this.size_0(), obj);
  return true;
}
;
_.add_0 = function add_1(index, element){
  throw new UnsupportedOperationException_1('Add not supported on this list');
}
;
_.equals$ = function equals_8(o){
  var elem, elemOther, iter, iterOther, other;
  if (o === this) {
    return true;
  }
  if (!instanceOf(o, Q$List)) {
    return false;
  }
  other = o;
  if (this.size_0() != other.size_0()) {
    return false;
  }
  iter = this.iterator();
  iterOther = other.iterator();
  while (iter.i < iter.this$0.size_0()) {
    elem = $next_0(iter);
    elemOther = $next_0(iterOther);
    if (!(elem == null?elemOther == null:equals__devirtual$(elem, elemOther))) {
      return false;
    }
  }
  return true;
}
;
_.getClass$ = function getClass_73(){
  return Ljava_util_AbstractList_2_classLit;
}
;
_.hashCode$ = function hashCode_9(){
  var iter, k, obj;
  k = 1;
  iter = this.iterator();
  while (iter.i < iter.this$0.size_0()) {
    obj = $next_0(iter);
    k = 31 * k + (obj == null?0:hashCode__devirtual$(obj));
    k = ~~k;
  }
  return k;
}
;
_.iterator = function iterator_1(){
  return new AbstractList$IteratorImpl_0(this);
}
;
_.castableTypeMap$ = makeCastMap([Q$List]);
function $hasNext(this$static){
  return this$static.i < this$static.this$0.size_0();
}

function $next_0(this$static){
  if (this$static.i >= this$static.this$0.size_0()) {
    throw new NoSuchElementException_0;
  }
  return this$static.this$0.get_0(this$static.i++);
}

function AbstractList$IteratorImpl_0(this$0){
  this.this$0 = this$0;
}

function AbstractList$IteratorImpl(){
}

_ = AbstractList$IteratorImpl_0.prototype = AbstractList$IteratorImpl.prototype = new Object_0;
_.getClass$ = function getClass_74(){
  return Ljava_util_AbstractList$IteratorImpl_2_classLit;
}
;
_.hasNext = function hasNext_1(){
  return $hasNext(this);
}
;
_.next_0 = function next_2(){
  return $next_0(this);
}
;
_.i = 0;
_.this$0 = null;
function $iterator(this$static){
  var outerIter;
  outerIter = new AbstractHashMap$EntrySetIterator_0(this$static.val$entrySet.this$0);
  return new AbstractMap$1$1_0(outerIter);
}

function AbstractMap$1_0(this$0, val$entrySet){
  this.this$0 = this$0;
  this.val$entrySet = val$entrySet;
}

function AbstractMap$1(){
}

_ = AbstractMap$1_0.prototype = AbstractMap$1.prototype = new AbstractSet;
_.contains = function contains_2(key){
  return $containsKey_0(this.this$0, key);
}
;
_.getClass$ = function getClass_75(){
  return Ljava_util_AbstractMap$1_2_classLit;
}
;
_.iterator = function iterator_2(){
  return $iterator(this);
}
;
_.size_0 = function size_5(){
  return this.val$entrySet.this$0.size;
}
;
_.castableTypeMap$ = makeCastMap([Q$Set]);
_.this$0 = null;
_.val$entrySet = null;
function AbstractMap$1$1_0(val$outerIter){
  this.val$outerIter = val$outerIter;
}

function AbstractMap$1$1(){
}

_ = AbstractMap$1$1_0.prototype = AbstractMap$1$1.prototype = new Object_0;
_.getClass$ = function getClass_76(){
  return Ljava_util_AbstractMap$1$1_2_classLit;
}
;
_.hasNext = function hasNext_2(){
  return $hasNext(this.val$outerIter.iter);
}
;
_.next_0 = function next_3(){
  var entry;
  entry = $next_0(this.val$outerIter.iter);
  return entry.getKey();
}
;
_.val$outerIter = null;
function $add(this$static, o){
  setCheck(this$static.array, this$static.size++, o);
  return true;
}

function $add_0(this$static, index, o){
  (index < 0 || index > this$static.size) && indexOutOfBounds(index, this$static.size);
  splice_1(this$static.array, index, 0, o);
  ++this$static.size;
}

function $get_2(this$static, index){
  checkIndex(index, this$static.size);
  return this$static.array[index];
}

function $indexOf_0(this$static, o, index){
  for (; index < this$static.size; ++index) {
    if (equalsWithNullCheck(o, this$static.array[index])) {
      return index;
    }
  }
  return -1;
}

--></script>
<script><!--
function $remove(this$static, index){
  var previous;
  previous = (checkIndex(index, this$static.size) , this$static.array[index]);
  splice_0(this$static.array, index, 1);
  --this$static.size;
  return previous;
}

function ArrayList_0(){
  this.array = initDim(_3Ljava_lang_Object_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Object, 0, 0);
}

function splice_0(array, index, deleteCount){
  array.splice(index, deleteCount);
}

function splice_1(array, index, deleteCount, value){
  array.splice(index, deleteCount, value);
}

function ArrayList(){
}

_ = ArrayList_0.prototype = ArrayList.prototype = new AbstractList;
_.add = function add_2(o){
  return $add(this, o);
}
;
_.add_0 = function add_3(index, o){
  $add_0(this, index, o);
}
;
_.contains = function contains_3(o){
  return $indexOf_0(this, o, 0) != -1;
}
;
_.get_0 = function get_2(index){
  return $get_2(this, index);
}
;
_.getClass$ = function getClass_77(){
  return Ljava_util_ArrayList_2_classLit;
}
;
_.size_0 = function size_6(){
  return this.size;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$List]);
_.size = 0;
function insertionSort(array, low, high, comp){
  var i, j, t;
  for (i = low + 1; i < high; ++i) {
    for (j = i; j > low && comp.compare(array[j - 1], array[j]) > 0; --j) {
      t = array[j];
      setCheck(array, j, array[j - 1]);
      setCheck(array, j - 1, t);
    }
  }
}

function merge(src, srcLow, srcMid, srcHigh, dest, destLow, destHigh, comp){
  var topIdx;
  topIdx = srcMid;
  while (destLow < destHigh) {
    topIdx >= srcHigh || srcLow < srcMid && comp.compare(src[srcLow], src[topIdx]) <= 0?setCheck(dest, destLow++, src[srcLow++]):setCheck(dest, destLow++, src[topIdx++]);
  }
}

function mergeSort(x, fromIndex, toIndex, comp){
  var temp, a, result;
  temp = (a = x , result = a.slice(fromIndex, toIndex) , initValues(a.arrayClass$, a.castableTypeMap$, a.queryId$, result) , result);
  mergeSort_0(temp, x, fromIndex, toIndex, -fromIndex, comp);
}

function mergeSort_0(temp, array, low, high, ofs, comp){
  var length_0, tempHigh, tempLow, tempMid;
  length_0 = high - low;
  if (length_0 < 7) {
    insertionSort(array, low, high, comp);
    return;
  }
  tempLow = low + ofs;
  tempHigh = high + ofs;
  tempMid = tempLow + (~~(tempHigh - tempLow) >> 1);
  mergeSort_0(array, temp, tempLow, tempMid, -ofs, comp);
  mergeSort_0(array, temp, tempMid, tempHigh, -ofs, comp);
  if (comp.compare(temp[tempMid - 1], temp[tempMid]) <= 0) {
    while (low < high) {
      setCheck(array, low++, temp[tempLow++]);
    }
    return;
  }
  merge(temp, tempLow, tempMid, tempHigh, array, low, high, comp);
}

function sort(x, toIndex, c){
  verifySortIndices(toIndex, x.length);
  mergeSort(x, 0, toIndex, c?c:($clinit_Comparators() , $clinit_Comparators() , NATURAL));
}

function verifySortIndices(toIndex, length_0){
  if (0 > toIndex) {
    throw new IllegalArgumentException_0('fromIndex(0) > toIndex(' + toIndex + ')');
  }
  if (toIndex > length_0) {
    throw new ArrayIndexOutOfBoundsException_0('fromIndex(0) or toIndex(' + toIndex + ') out of bounds (0 - ' + length_0 + ')');
  }
}

function $clinit_Comparators(){
  $clinit_Comparators = nullMethod;
  NATURAL = new Comparators$1_0;
}

var NATURAL;
function Comparators$1_0(){
}

function Comparators$1(){
}

_ = Comparators$1_0.prototype = Comparators$1.prototype = new Object_0;
_.compare = function compare(o1, o2){
  return o1.compareTo$(o2);
}
;
_.getClass$ = function getClass_78(){
  return Ljava_util_Comparators$1_2_classLit;
}
;
function EmptyStackException_0(){
  $fillInStackTrace();
}

function EmptyStackException(){
}

_ = EmptyStackException_0.prototype = EmptyStackException.prototype = new RuntimeException;
_.getClass$ = function getClass_79(){
  return Ljava_util_EmptyStackException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function $equals_0(value1, value2){
  return maskUndefined(value1) === maskUndefined(value2) || value1 != null && equals__devirtual$(value1, value2);
}

function HashMap_0(){
  this.hashCodeMap = [];
  this.stringMap = {};
  this.nullSlotLive = false;
  this.nullSlot = null;
  this.size = 0;
}

function HashMap(){
}

_ = HashMap_0.prototype = HashMap.prototype = new AbstractHashMap;
_.getClass$ = function getClass_80(){
  return Ljava_util_HashMap_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Map]);
function HashSet_0(){
  this.map = new HashMap_0;
}

function HashSet(){
}

_ = HashSet_0.prototype = HashSet.prototype = new AbstractSet;
_.add = function add_4(o){
  var old;
  old = $put(this.map, o, this);
  return old == null;
}
;
_.contains = function contains_4(o){
  return $containsKey_0(this.map, o);
}
;
_.getClass$ = function getClass_81(){
  return Ljava_util_HashSet_2_classLit;
}
;
_.iterator = function iterator_3(){
  return $iterator($keySet(this.map));
}
;
_.size_0 = function size_7(){
  return this.map.size;
}
;
_.toString$ = function toString_13(){
  return $toString($keySet(this.map));
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Set]);
_.map = null;
function MapEntryImpl_0(key, value){
  this.key_0 = key;
  this.value = value;
}

function MapEntryImpl(){
}

_ = MapEntryImpl_0.prototype = MapEntryImpl.prototype = new AbstractMapEntry;
_.getClass$ = function getClass_82(){
  return Ljava_util_MapEntryImpl_2_classLit;
}
;
_.getKey = function getKey_2(){
  return this.key_0;
}
;
_.getValue = function getValue_2(){
  return this.value;
}
;
_.setValue = function setValue_2(value){
  var old;
  old = this.value;
  this.value = value;
  return old;
}
;
_.castableTypeMap$ = makeCastMap([Q$Map$Entry]);
_.key_0 = null;
_.value = null;
function NoSuchElementException_0(){
  $fillInStackTrace();
}

function NoSuchElementException(){
}

_ = NoSuchElementException_0.prototype = NoSuchElementException.prototype = new RuntimeException;
_.getClass$ = function getClass_83(){
  return Ljava_util_NoSuchElementException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
function Vector(){
}

_ = Vector.prototype = new AbstractList;
_.add = function add_5(o){
  return $add(this.arrayList, o);
}
;
_.add_0 = function add_6(index, o){
  $add_0(this.arrayList, index, o);
}
;
_.contains = function contains_5(elem){
  return $indexOf_0(this.arrayList, elem, 0) != -1;
}
;
_.get_0 = function get_3(index){
  return $get_2(this.arrayList, index);
}
;
_.getClass$ = function getClass_84(){
  return Ljava_util_Vector_2_classLit;
}
;
_.iterator = function iterator_4(){
  return new AbstractList$IteratorImpl_0(this.arrayList);
}
;
_.size_0 = function size_8(){
  return this.arrayList.size;
}
;
_.toString$ = function toString_14(){
  return $toString(this.arrayList);
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$List]);
_.arrayList = null;
function $pop(this$static){
  var sz;
  sz = this$static.arrayList.size;
  if (sz > 0) {
    return $remove(this$static.arrayList, sz - 1);
  }
   else {
    throw new EmptyStackException_0;
  }
}

function $push(this$static, o){
  $add(this$static.arrayList, o);
  return o;
}

function Stack_0(){
  this.arrayList = new ArrayList_0;
}

function Stack(){
}

_ = Stack_0.prototype = Stack.prototype = new Vector;
_.getClass$ = function getClass_85(){
  return Ljava_util_Stack_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$List]);
function equalsWithNullCheck(a, b){
  return maskUndefined(a) === maskUndefined(b) || a != null && equals__devirtual$(a, b);
}

function $checkCollision(coord, layer){
  var point, into;
  if (point = (into = new Point_0(coord[0], coord[1]) , screenToLayer(layer, into, into)) , point.x >= 0 && point.y >= 0 && point.x <= layer.width_1() && point.y <= layer.height_1()) {
    return true;
  }
  return false;
}

function $click(this$static, x, y){
  var icon, icon$iterator;
  for (icon$iterator = new AbstractList$IteratorImpl_0(this$static.icons); icon$iterator.i < icon$iterator.this$0.size_0();) {
    icon = $next_0(icon$iterator);
    if ($checkCollision(initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [x, y]), icon.iconUpImage)) {
      icon.onClick();
      break;
    }
  }
}

function MenuBar_0(){
  var buttonBG, item, item$iterator, itin;
  this.icons = new ArrayList_0;
  buttonBG = $getImage(platform_1.assets, 'images/buttonBG.png');
  this.buttonBGLayer = platform_1.graphics.createImageLayer(buttonBG);
  this.buttonBGLayer.setDepth(2);
  ($clinit_TestGame() , 900) != this.buttonBGLayer.height_1() && this.buttonBGLayer.setScale(900 / this.buttonBGLayer.height_1());
  platform_1.graphics.rootLayer_0().add_1(this.buttonBGLayer);
  $add(this.icons, new MenuBar$MoveButton_0(this, $getImage(platform_1.assets, 'images/clickButton.png'), $getImage(platform_1.assets, 'images/clickButtonDown.png')));
  $add(this.icons, new MenuBar$BoxButton_0(this, $getImage(platform_1.assets, 'images/boxButton.png'), $getImage(platform_1.assets, 'images/boxButtonDown.png')));
  $add(this.icons, new MenuBar$WeldButton_0(this, $getImage(platform_1.assets, 'images/weldButton.png'), $getImage(platform_1.assets, 'images/weldButtonDown.png')));
  $add(this.icons, new MenuBar$PauseButton_0(this, $getImage(platform_1.assets, 'images/pauseButton.png'), $getImage(platform_1.assets, 'images/pauseButtonDown.png')));
  itin = 1;
  for (item$iterator = new AbstractList$IteratorImpl_0(this.icons); item$iterator.i < item$iterator.this$0.size_0();) {
    item = $next_0(item$iterator);
    item.iconUpImage.setDepth(3);
    item.order = itin;
    item.iconUpImage.setTranslation(this.buttonBGLayer.width_1() / 3, (900 - item.iconUpImage.scaledHeight()) / (this.icons.size + 1) * itin++);
    platform_1.graphics.rootLayer_0().add_1(item.iconUpImage);
  }
}

function MenuBar(){
}

_ = MenuBar_0.prototype = MenuBar.prototype = new Object_0;
_.getClass$ = function getClass_86(){
  return Lnet_japura_monofuel_testgame_core_MenuBar_2_classLit;
}
;
_.buttonBGLayer = null;
function $onClick(this$static){
  var item, item$iterator;
  if (!this$static.isDown) {
    for (item$iterator = new AbstractList$IteratorImpl_0(this$static.this$0.icons); item$iterator.i < item$iterator.this$0.size_0();) {
      item = $next_0(item$iterator);
      item != this$static && !$equals(item.name_0, 'Pause') && !$equals(this$static.name_0, 'Pause') && $setUp(item);
    }
    this$static.iconDownImage.setDepth(3);
    this$static.iconDownImage.setTranslation(this$static.this$0.buttonBGLayer.width_1() / 3, (($clinit_TestGame() , 900) - this$static.iconDownImage.scaledHeight()) / (this$static.this$0.icons.size + 1) * this$static.order);
    platform_1.graphics.rootLayer_0().add_1(this$static.iconDownImage);
    this$static.isDown = true;
  }
}

function $setUp(this$static){
  var $e0;
  try {
    platform_1.graphics.rootLayer_0().remove(this$static.iconDownImage);
  }
   catch ($e0) {
    $e0 = caught($e0);
    if (!instanceOf($e0, Q$Exception))
      throw $e0;
  }
  this$static.iconUpImage.setDepth(3);
  this$static.iconUpImage.setTranslation(this$static.this$0.buttonBGLayer.width_1() / 3, (($clinit_TestGame() , 900) - this$static.iconUpImage.scaledHeight()) / (this$static.this$0.icons.size + 1) * this$static.order);
  platform_1.graphics.rootLayer_0().add_1(this$static.iconUpImage);
  this$static.isDown = false;
}

function MenuBar$Button_0(this$0, thisName, icon, iconDown){
  this.this$0 = this$0;
  this.iconDownImage = platform_1.graphics.createImageLayer(iconDown);
  this.iconUpImage = platform_1.graphics.createImageLayer(icon);
  this.name_0 = thisName;
}

function MenuBar$Button(){
}

_ = MenuBar$Button.prototype = new Object_0;
_.getClass$ = function getClass_87(){
  return Lnet_japura_monofuel_testgame_core_MenuBar$Button_2_classLit;
}
;
_.onClick = function onClick(){
  $onClick(this);
}
;
_.iconDownImage = null;
_.iconUpImage = null;
_.isDown = false;
_.name_0 = null;
_.order = 0;
_.this$0 = null;
function MenuBar$BoxButton_0(this$0, icon, iconDown){
  MenuBar$Button_0.call(this, this$0, 'Box', icon, iconDown);
}

function MenuBar$BoxButton(){
}

_ = MenuBar$BoxButton_0.prototype = MenuBar$BoxButton.prototype = new MenuBar$Button;
_.getClass$ = function getClass_88(){
  return Lnet_japura_monofuel_testgame_core_MenuBar$BoxButton_2_classLit;
}
;
_.onClick = function onClick_0(){
  $onClick(this);
  $clinit_TestGame();
  mode_0 = 0;
}
;
function MenuBar$MoveButton_0(this$0, icon, iconDown){
  MenuBar$Button_0.call(this, this$0, 'Move', icon, iconDown);
}

function MenuBar$MoveButton(){
}

_ = MenuBar$MoveButton_0.prototype = MenuBar$MoveButton.prototype = new MenuBar$Button;
_.getClass$ = function getClass_89(){
  return Lnet_japura_monofuel_testgame_core_MenuBar$MoveButton_2_classLit;
}
;
_.onClick = function onClick_1(){
  $onClick(this);
  $clinit_TestGame();
  mode_0 = 2;
}
;
function MenuBar$PauseButton_0(this$0, icon, iconDown){
  MenuBar$Button_0.call(this, this$0, 'Pause', icon, iconDown);
}

function MenuBar$PauseButton(){
}

_ = MenuBar$PauseButton_0.prototype = MenuBar$PauseButton.prototype = new MenuBar$Button;
_.getClass$ = function getClass_90(){
  return Lnet_japura_monofuel_testgame_core_MenuBar$PauseButton_2_classLit;
}
;
_.onClick = function onClick_2(){
  if (this.paused) {
    $setUp(this);
    this.paused = false;
  }
   else {
    $onClick(this);
    this.paused = true;
  }
  pause(this.paused);
}
;
_.paused = false;
function MenuBar$WeldButton_0(this$0, icon, iconDown){
  MenuBar$Button_0.call(this, this$0, 'Weld', icon, iconDown);
}

function MenuBar$WeldButton(){
}

_ = MenuBar$WeldButton_0.prototype = MenuBar$WeldButton.prototype = new MenuBar$Button;
_.getClass$ = function getClass_91(){
  return Lnet_japura_monofuel_testgame_core_MenuBar$WeldButton_2_classLit;
}
;
_.onClick = function onClick_3(){
  $onClick(this);
  $clinit_TestGame();
  mode_0 = 1;
}
;
function $createLayer(this$static, createImage){
  this$static.image = createImage;
  this$static.image.setDepth(1);
  this$static.image.setScale_0(this$static.bodySize[0] / 0.05000000074505806 * 2 / this$static.image.width_1(), this$static.bodySize[1] / 0.05000000074505806 * 2 / this$static.image.height_1());
  this$static.image.setTranslation(this$static.body_0.m_xf.position_0.x / 0.05000000074505806, this$static.body_0.m_xf.position_0.y / 0.05000000074505806);
  this$static.image.setOrigin(this$static.image.height_1() / 2, this$static.image.width_1() / 2);
}

function Shape_0(world, type, size, location_0){
  this.bodySize = initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [size[0] * 0.05000000074505806, size[1] * 0.05000000074505806]);
  this.bodyLocation = initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [location_0[0] * 0.05000000074505806, location_0[1] * 0.05000000074505806]);
  this.shapeBodyDef = new BodyDef_0;
  $equals(type, 'STATIC')?(this.shapeBodyDef.type = ($clinit_BodyType() , STATIC_0)):$equals(type, 'DYNAMIC') && (this.shapeBodyDef.type = ($clinit_BodyType() , DYNAMIC));
  this.shapeBodyDef.position_0.x = this.bodyLocation[0];
  this.shapeBodyDef.position_0.y = this.bodyLocation[1];
  this.body_0 = $createBody(world, this.shapeBodyDef);
  this.shape = new PolygonShape_0;
  $setAsBox(this.shape, this.bodySize[0], this.bodySize[1]);
  this.fd = new FixtureDef_0;
  this.fd.shape = this.shape;
  this.fd.density = 1;
  this.fd.friction = 0.6000000238418579;
  this.fd.restitution = 0.4000000059604645;
  $createFixture(this.body_0, this.fd);
  this.oldAngle = this.body_0.m_sweep.a_0;
  this.oldLocation = initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [this.body_0.m_xf.position_0.x, this.body_0.m_xf.position_0.y]);
}

function Shape(){
}

_ = Shape_0.prototype = Shape.prototype = new Object_0;
_.getClass$ = function getClass_92(){
  return Lnet_japura_monofuel_testgame_core_Shape_2_classLit;
}
;
_.body_0 = null;
_.bodyLocation = null;
_.bodySize = null;
_.fd = null;
_.image = null;
_.oldAngle = 0;
_.oldLocation = null;
_.shape = null;
_.shapeBodyDef = null;
function $clinit_TestGame(){
  $clinit_TestGame = nullMethod;
  shapeList = new ArrayList_0;
}

function $click_0(x, y){
  var index;
  mode_0 == 0 && (index = shapeList.size , $add(shapeList, new Shape_0(world_0, 'DYNAMIC', initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [32, 32]), initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [x + 16, y + 16]))) , $createLayer($get_2(shapeList, index), platform_1.graphics.createImageLayer(grassTile)) , platform_1.graphics.rootLayer_0().add_1($get_2(shapeList, index).image) , undefined);
}

function $init(this$static){
  var bgImage, bgLayer, gameMenu, gravity, item, item$iterator;
  platform_1.graphics.setSize(1440, 900);
  bgImage = $getImage(platform_1.assets, 'images/bg.png');
  bgLayer = platform_1.graphics.createImageLayer(bgImage);
  bgLayer.setScale_0(900 / bgLayer.height_1(), 1440 / bgLayer.width_1());
  bgLayer.setDepth(0);
  platform_1.graphics.rootLayer_0().add_1(bgLayer);
  gameMenu = new MenuBar_0;
  grassTile = $getImage(platform_1.assets, 'images/grass.png');
  $setListener(platform_1.mouse, new TestGame$1_0(this$static));
  $setListener_0(platform_1.pointer, new TestGame$2_0(gameMenu));
  gravity = new Vec2_1(0, 50);
  world_0 = new World_0(gravity);
  $add(shapeList, new Shape_0(world_0, 'STATIC', initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [1440, 32]), initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [720, 868])));
  $createLayer($get_2(shapeList, 0), platform_1.graphics.createImageLayer(grassTile));
  $add(shapeList, new Shape_0(world_0, 'STATIC', initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [32, 900]), initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [gameMenu.buttonBGLayer.scaledWidth(), 0])));
  $createLayer($get_2(shapeList, 1), platform_1.graphics.createImageLayer(grassTile));
  $add(shapeList, new Shape_0(world_0, 'STATIC', initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [1440, 32]), initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [720, 32])));
  $createLayer($get_2(shapeList, 2), platform_1.graphics.createImageLayer(grassTile));
  $add(shapeList, new Shape_0(world_0, 'STATIC', initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [32, 900]), initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [1408, 0])));
  $createLayer($get_2(shapeList, 3), platform_1.graphics.createImageLayer(grassTile));
  for (item$iterator = new AbstractList$IteratorImpl_0(shapeList); item$iterator.i < item$iterator.this$0.size_0();) {
    item = $next_0(item$iterator);
    platform_1.graphics.rootLayer_0().add_1(item.image);
  }
  loaded = true;
}

function $paint(alpha){
  var item, item$iterator, a, x, y;
  if (loaded) {
    for (item$iterator = new AbstractList$IteratorImpl_0(shapeList); item$iterator.i < item$iterator.this$0.size_0();) {
      item = $next_0(item$iterator);
      x = item.body_0.m_xf.position_0.x / 0.05000000074505806 * alpha + item.oldLocation[0] / 0.05000000074505806 * (1 - alpha);
      y = item.body_0.m_xf.position_0.y / 0.05000000074505806 * alpha + item.oldLocation[1] / 0.05000000074505806 * (1 - alpha);
      a = item.body_0.m_sweep.a_0 * alpha + item.oldAngle * (1 - alpha);
      item.image.setTranslation(x, y);
      item.image.setRotation(a);
    }
  }
}

function $update(delta){
  var item, item$iterator;
  if (loaded) {
    paused || $step(world_0, delta / 1000);
    for (item$iterator = new AbstractList$IteratorImpl_0(shapeList); item$iterator.i < item$iterator.this$0.size_0();) {
      item = $next_0(item$iterator);
      item.oldLocation[0] = item.body_0.m_xf.position_0.x;
      item.oldLocation[1] = item.body_0.m_xf.position_0.y;
      item.oldAngle = item.body_0.m_sweep.a_0;
    }
  }
}

function TestGame_0(){
  $clinit_TestGame();
}

function pause(status_0){
  $clinit_TestGame();
  paused = status_0;
}

function TestGame(){
}

_ = TestGame_0.prototype = TestGame.prototype = new Object_0;
_.getClass$ = function getClass_93(){
  return Lnet_japura_monofuel_testgame_core_TestGame_2_classLit;
}
;
_.scale_0 = 2;
var grassTile = null, loaded = false, mode_0 = 0, paused = false, shapeList, world_0 = null;
function Mouse$Adapter(){
}

_ = Mouse$Adapter.prototype = new Object_0;
_.getClass$ = function getClass_94(){
  return Lplayn_core_Mouse$Adapter_2_classLit;
}
;
function $onMouseWheelScroll(this$static, event_0){
  (event_0.velocity > 0 || this$static.this$0.scale_0 > 1) && (this$static.this$0.scale_0 += event_0.velocity / 4);
}

function TestGame$1_0(this$0){
  this.this$0 = this$0;
}

function TestGame$1(){
}

_ = TestGame$1_0.prototype = TestGame$1.prototype = new Mouse$Adapter;
_.getClass$ = function getClass_95(){
  return Lnet_japura_monofuel_testgame_core_TestGame$1_2_classLit;
}
;
_.this$0 = null;
function Pointer$Adapter(){
}

_ = Pointer$Adapter.prototype = new Object_0;
_.getClass$ = function getClass_96(){
  return Lplayn_core_Pointer$Adapter_2_classLit;
}
;
function $onPointerEnd(this$static, event_0){
  do {
    $clinit_TestGame();
    if (event_0.x > this$static.val$gameMenu.buttonBGLayer.scaledWidth()) {
      $click_0(event_0.x, event_0.y);
      break;
    }
    $click(this$static.val$gameMenu, event_0.x, event_0.y);
  }
   while (false);
}

function TestGame$2_0(val$gameMenu){
  this.val$gameMenu = val$gameMenu;
}

function TestGame$2(){
}

_ = TestGame$2_0.prototype = TestGame$2.prototype = new Pointer$Adapter;
_.getClass$ = function getClass_97(){
  return Lnet_japura_monofuel_testgame_core_TestGame$2_2_classLit;
}
;
_.val$gameMenu = null;
function $start(){
  var platform, platform_0;
  platform = ($clinit_HtmlPlatform() , platform_0 = new HtmlPlatform_0(null) , platform_1 = platform_0 , $init_3(platform_0.analytics) , $init_4(platform_0.audio) , captureEvent('keydown', new HtmlKeyboard$1_0) , captureEvent('keypress', new HtmlKeyboard$2_0) , captureEvent('keyup', new HtmlKeyboard$3_0) , platform_0);
  platform.assets.pathPrefix = 'testgame/';
  run(new TestGame_0);
}

function $shouldCollide(fixtureA, fixtureB){
  var collide, filterA, filterB;
  filterA = fixtureA.m_filter;
  filterB = fixtureB.m_filter;
  if (filterA.groupIndex == filterB.groupIndex && filterA.groupIndex != 0) {
    return filterA.groupIndex > 0;
  }
  collide = (filterA.maskBits & filterB.categoryBits) != 0 && (filterA.categoryBits & filterB.maskBits) != 0;
  return collide;
}

function ContactFilter_0(){
}

function ContactFilter(){
}

_ = ContactFilter_0.prototype = ContactFilter.prototype = new Object_0;
_.getClass$ = function getClass_98(){
  return Lorg_jbox2d_callbacks_ContactFilter_2_classLit;
}
;
function ContactImpulse_0(){
  initDim(_3F_classLit, makeCastMap([Q$Serializable]), -1, ($clinit_Settings() , 2), 1);
  initDim(_3F_classLit, makeCastMap([Q$Serializable]), -1, 2, 1);
}

function ContactImpulse(){
}

_ = ContactImpulse_0.prototype = ContactImpulse.prototype = new Object_0;
_.getClass$ = function getClass_99(){
  return Lorg_jbox2d_callbacks_ContactImpulse_2_classLit;
}
;
function $combine(this$static, aabb1, aab){
  this$static.lowerBound.x = aabb1.lowerBound.x < aab.lowerBound.x?aabb1.lowerBound.x:aab.lowerBound.x;
  this$static.lowerBound.y = aabb1.lowerBound.y < aab.lowerBound.y?aabb1.lowerBound.y:aab.lowerBound.y;
  this$static.upperBound.x = aabb1.upperBound.x > aab.upperBound.x?aabb1.upperBound.x:aab.upperBound.x;
  this$static.upperBound.y = aabb1.upperBound.y > aab.upperBound.y?aabb1.upperBound.y:aab.upperBound.y;
}

function $contains(this$static, aabb){
  return this$static.lowerBound.x > aabb.lowerBound.x && this$static.lowerBound.y > aabb.lowerBound.y && aabb.upperBound.x > this$static.upperBound.x && aabb.upperBound.y > this$static.upperBound.y;
}

function $getCenterToOut(this$static, out){
  out.x = (this$static.lowerBound.x + this$static.upperBound.x) * 0.5;
  out.y = (this$static.lowerBound.y + this$static.upperBound.y) * 0.5;
}

function $set_2(this$static, aabb){
  $set_15(this$static.lowerBound, aabb.lowerBound);
  $set_15(this$static.upperBound, aabb.upperBound);
}

function AABB_0(){
  this.lowerBound = new Vec2_0;
  this.upperBound = new Vec2_0;
}

function testOverlap(a, b){
  if (b.lowerBound.x - a.upperBound.x > 0 || b.lowerBound.y - a.upperBound.y > 0) {
    return false;
  }
  if (a.lowerBound.x - b.upperBound.x > 0 || a.lowerBound.y - b.upperBound.y > 0) {
    return false;
  }
  return true;
}

function AABB(){
}

_ = AABB_0.prototype = AABB.prototype = new Object_0;
_.getClass$ = function getClass_100(){
  return Lorg_jbox2d_collision_AABB_2_classLit;
}
;
_.toString$ = function toString_15(){
  var s;
  s = 'AABB[' + this.lowerBound + ' . ' + this.upperBound + ']';
  return s;
}
;
_.castableTypeMap$ = makeCastMap([Q$AABB]);
_.lowerBound = null;
_.upperBound = null;
function $collideCircles(this$static, manifold, xfA, xfB){
  var distSqr, radius;
  manifold.pointCount = 0;
  mulToOut_0(xfA, null.nullField, this$static.pA);
  mulToOut_0(xfB, null.nullField, this$static.pB);
  $subLocal($set_15(this$static.d, this$static.pB), this$static.pA);
  distSqr = dot_0(this$static.d, this$static.d);
  radius = null.nullField + null.nullField;
  if (distSqr > radius * radius) {
    return;
  }
  manifold.type = ($clinit_Manifold$ManifoldType() , CIRCLES);
  $set_15(manifold.localPoint, null.nullField);
  $setZero(manifold.localNormal);
  manifold.pointCount = 1;
  $set_15(manifold.points[0].localPoint, null.nullField);
  $zero(manifold.points[0].id);
}

function $collidePolygonAndCircle(this$static, manifold, polygon, xfA, xfB){
  var i, normalIndex, normals, radius, s, separation, u1, u2, v1, v2, vertIndex2, vertexCount, vertices;
  manifold.pointCount = 0;
  mulToOut_0(xfB, null.nullField, this$static.c);
  mulTransToOut_0(xfA, this$static.c, this$static.cLocal);
  normalIndex = 0;
  separation = 1.401298464324817E-45;
  radius = polygon.m_radius + null.nullField;
  vertexCount = polygon.m_vertexCount;
  vertices = polygon.m_vertices;
  normals = polygon.m_normals;
  for (i = 0; i < vertexCount; ++i) {
    $subLocal($set_15(this$static.temp, this$static.cLocal), vertices[i]);
    s = dot_0(normals[i], this$static.temp);
    if (s > radius) {
      return;
    }
    if (s > separation) {
      separation = s;
      normalIndex = i;
    }
  }
  vertIndex2 = normalIndex + 1 < vertexCount?normalIndex + 1:0;
  v1 = vertices[normalIndex];
  v2 = vertices[vertIndex2];
  if (separation < 1.1920928955078125E-7) {
    manifold.pointCount = 1;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_A);
    $set_15(manifold.localNormal, normals[normalIndex]);
    $mulLocal($addLocal($set_15(manifold.localPoint, v1), v2), 0.5);
    $set_15(manifold.points[0].localPoint, null.nullField);
    $zero(manifold.points[0].id);
    return;
  }
  $subLocal($set_15(this$static.temp, this$static.cLocal), v1);
  $subLocal($set_15(this$static.temp2, v2), v1);
  u1 = dot_0(this$static.temp, this$static.temp2);
  $subLocal($set_15(this$static.temp, this$static.cLocal), v2);
  $subLocal($set_15(this$static.temp2, v1), v2);
  u2 = dot_0(this$static.temp, this$static.temp2);
  if (u1 <= 0) {
    if (distanceSquared(this$static.cLocal, v1) > radius * radius) {
      return;
    }
    manifold.pointCount = 1;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_A);
    $subLocal($set_15(manifold.localNormal, this$static.cLocal), v1);
    $normalize_0(manifold.localNormal);
    $set_15(manifold.localPoint, v1);
    $set_15(manifold.points[0].localPoint, null.nullField);
    $zero(manifold.points[0].id);
  }
   else if (u2 <= 0) {
    if (distanceSquared(this$static.cLocal, v2) > radius * radius) {
      return;
    }
    manifold.pointCount = 1;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_A);
    $subLocal($set_15(manifold.localNormal, this$static.cLocal), v2);
    $normalize_0(manifold.localNormal);
    $set_15(manifold.localPoint, v2);
    $set_15(manifold.points[0].localPoint, null.nullField);
    $zero(manifold.points[0].id);
  }
   else {
    $mulLocal($addLocal($set_15(this$static.temp, v1), v2), 0.5);
    $subLocal($set_15(this$static.temp2, this$static.cLocal), this$static.temp);
    separation = dot_0(this$static.temp2, normals[normalIndex]);
    if (separation > radius) {
      return;
    }
    manifold.pointCount = 1;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_A);
    $set_15(manifold.localNormal, normals[normalIndex]);
    $set_15(manifold.localPoint, this$static.temp);
    $set_15(manifold.points[0].localPoint, null.nullField);
    $zero(manifold.points[0].id);
  }
}

--></script>
<script><!--
function $collidePolygons(this$static, manifold, polyA, xfA, polyB, xfB){
  var count1, cp, edge1, flip, frontOffset, i, np, pointCount, poly1, poly2, separation, sideOffset1, sideOffset2, totalRadius, vertices1, xf1, xf2;
  manifold.pointCount = 0;
  totalRadius = polyA.m_radius + polyB.m_radius;
  $findMaxSeparation(this$static, this$static.results1, polyA, xfA, polyB, xfB);
  if (this$static.results1.separation > totalRadius) {
    return;
  }
  $findMaxSeparation(this$static, this$static.results2, polyB, xfB, polyA, xfA);
  if (this$static.results2.separation > totalRadius) {
    return;
  }
  if (this$static.results2.separation > 0.9800000190734863 * this$static.results1.separation + 0.0010000000474974513) {
    poly1 = polyB;
    poly2 = polyA;
    xf1 = xfB;
    xf2 = xfA;
    edge1 = this$static.results2.edgeIndex;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_B);
    flip = 1;
  }
   else {
    poly1 = polyA;
    poly2 = polyB;
    xf1 = xfA;
    xf2 = xfB;
    edge1 = this$static.results1.edgeIndex;
    manifold.type = ($clinit_Manifold$ManifoldType() , FACE_A);
    flip = 0;
  }
  $findIncidentEdge(this$static, this$static.incidentEdge, poly1, xf1, edge1, poly2, xf2);
  count1 = poly1.m_vertexCount;
  vertices1 = poly1.m_vertices;
  $set_15(this$static.v11, vertices1[edge1]);
  $set_15(this$static.v12, edge1 + 1 < count1?vertices1[edge1 + 1]:vertices1[0]);
  $subLocal($set_15(this$static.localTangent, this$static.v12), this$static.v11);
  $normalize_0(this$static.localTangent);
  crossToOut(this$static.localTangent, 1, this$static.localNormal);
  $mulLocal($addLocal($set_15(this$static.planePoint, this$static.v11), this$static.v12), 0.5);
  mulToOut(xf1.R, this$static.localTangent, this$static.tangent);
  crossToOut(this$static.tangent, 1, this$static.normal);
  mulToOut_0(xf1, this$static.v11, this$static.v11);
  mulToOut_0(xf1, this$static.v12, this$static.v12);
  frontOffset = dot_0(this$static.normal, this$static.v11);
  sideOffset1 = -dot_0(this$static.tangent, this$static.v11) + totalRadius;
  sideOffset2 = dot_0(this$static.tangent, this$static.v12) + totalRadius;
  $negateLocal(this$static.tangent);
  np = clipSegmentToLine(this$static.clipPoints1, this$static.incidentEdge, this$static.tangent, sideOffset1);
  $negateLocal(this$static.tangent);
  if (np < 2) {
    return;
  }
  np = clipSegmentToLine(this$static.clipPoints2, this$static.clipPoints1, this$static.tangent, sideOffset2);
  if (np < 2) {
    return;
  }
  $set_15(manifold.localNormal, this$static.localNormal);
  $set_15(manifold.localPoint, this$static.planePoint);
  pointCount = 0;
  for (i = 0; i < ($clinit_Settings() , 2); ++i) {
    separation = dot_0(this$static.normal, this$static.clipPoints2[i].v) - frontOffset;
    if (separation <= totalRadius) {
      cp = manifold.points[pointCount];
      mulTransToOut_0(xf2, this$static.clipPoints2[i].v, cp.localPoint);
      $set_4(cp.id, this$static.clipPoints2[i].id);
      cp.id.features.flip = flip;
      ++pointCount;
    }
  }
  manifold.pointCount = pointCount;
}

function $edgeSeparation(this$static, poly1, xf1, edge1, poly2, xf2){
  var count2, dot, i, index, minDot, normals1, separation, vertices1, vertices2;
  vertices1 = poly1.m_vertices;
  normals1 = poly1.m_normals;
  count2 = poly2.m_vertexCount;
  vertices2 = poly2.m_vertices;
  mulToOut(xf1.R, normals1[edge1], this$static.normal1World);
  mulTransToOut(xf2.R, this$static.normal1World, this$static.normal1);
  index = 0;
  minDot = 3.4028234663852886E38;
  for (i = 0; i < count2; ++i) {
    dot = dot_0(vertices2[i], this$static.normal1);
    if (dot < minDot) {
      minDot = dot;
      index = i;
    }
  }
  mulToOut_0(xf1, vertices1[edge1], this$static.v1);
  mulToOut_0(xf2, vertices2[index], this$static.v2);
  separation = dot_0($subLocal(this$static.v2, this$static.v1), this$static.normal1World);
  return separation;
}

function $findIncidentEdge(this$static, c, poly1, xf1, edge1, poly2, xf2){
  var count2, dot, i, i2, index, minDot, normals1, normals2, vertices2;
  normals1 = poly1.m_normals;
  count2 = poly2.m_vertexCount;
  vertices2 = poly2.m_vertices;
  normals2 = poly2.m_normals;
  mulToOut(xf1.R, normals1[edge1], this$static.normal1);
  mulTransToOut(xf2.R, this$static.normal1, this$static.normal1);
  index = 0;
  minDot = 3.4028234663852886E38;
  for (i = 0; i < count2; ++i) {
    dot = dot_0(this$static.normal1, normals2[i]);
    if (dot < minDot) {
      minDot = dot;
      index = i;
    }
  }
  i2 = index + 1 < count2?index + 1:0;
  mulToOut_0(xf2, vertices2[index], c[0].v);
  c[0].id.features.referenceEdge = edge1;
  c[0].id.features.incidentEdge = index;
  c[0].id.features.incidentVertex = 0;
  mulToOut_0(xf2, vertices2[i2], c[1].v);
  c[1].id.features.referenceEdge = edge1;
  c[1].id.features.incidentEdge = i2;
  c[1].id.features.incidentVertex = 1;
}

function $findMaxSeparation(this$static, results, poly1, xf1, poly2, xf2){
  var bestEdge, bestSeparation, count1, dot, edge, i, increment, maxDot, nextEdge, normals1, prevEdge, s, sNext, sPrev;
  count1 = poly1.m_vertexCount;
  normals1 = poly1.m_normals;
  mulToOut_0(xf2, poly2.m_centroid, this$static.d);
  mulToOut_0(xf1, poly1.m_centroid, this$static.temp);
  $subLocal(this$static.d, this$static.temp);
  mulTransToOut(xf1.R, this$static.d, this$static.dLocal1);
  edge = 0;
  maxDot = 1.401298464324817E-45;
  for (i = 0; i < count1; ++i) {
    dot = dot_0(normals1[i], this$static.dLocal1);
    if (dot > maxDot) {
      maxDot = dot;
      edge = i;
    }
  }
  s = $edgeSeparation(this$static, poly1, xf1, edge, poly2, xf2);
  prevEdge = edge - 1 >= 0?edge - 1:count1 - 1;
  sPrev = $edgeSeparation(this$static, poly1, xf1, prevEdge, poly2, xf2);
  nextEdge = edge + 1 < count1?edge + 1:0;
  sNext = $edgeSeparation(this$static, poly1, xf1, nextEdge, poly2, xf2);
  if (sPrev > s && sPrev > sNext) {
    increment = -1;
    bestEdge = prevEdge;
    bestSeparation = sPrev;
  }
   else if (sNext > s) {
    increment = 1;
    bestEdge = nextEdge;
    bestSeparation = sNext;
  }
   else {
    results.edgeIndex = edge;
    results.separation = s;
    return;
  }
  for (;;) {
    increment == -1?(edge = bestEdge - 1 >= 0?bestEdge - 1:count1 - 1):(edge = bestEdge + 1 < count1?bestEdge + 1:0);
    s = $edgeSeparation(this$static, poly1, xf1, edge, poly2, xf2);
    if (s > bestSeparation) {
      bestEdge = edge;
      bestSeparation = s;
    }
     else {
      break;
    }
  }
  results.edgeIndex = bestEdge;
  results.separation = bestSeparation;
}

function $testOverlap(this$static, shapeA, shapeB, xfA, xfB){
  $set_6(this$static.input.proxyA, shapeA);
  $set_6(this$static.input.proxyB, shapeB);
  $set_13(this$static.input.transformA, xfA);
  $set_13(this$static.input.transformB, xfB);
  this$static.input.useRadii = true;
  this$static.cache.count = 0;
  $distance(this$static.pool.dist, this$static.output, this$static.cache, this$static.input);
  return this$static.output.distance < 1.1920928955078125E-6;
}

function Collision_0(argPool){
  this.input = new DistanceInput_0;
  this.cache = new Distance$SimplexCache_0;
  this.output = new DistanceOutput_0;
  this.d = new Vec2_0;
  this.pA = new Vec2_0;
  this.pB = new Vec2_0;
  this.c = new Vec2_0;
  this.cLocal = new Vec2_0;
  this.temp = new Vec2_0;
  this.temp2 = new Vec2_0;
  this.normal1World = new Vec2_0;
  this.normal1 = new Vec2_0;
  this.v1 = new Vec2_0;
  this.v2 = new Vec2_0;
  this.dLocal1 = new Vec2_0;
  this.results1 = new Collision$EdgeResults_0;
  this.results2 = new Collision$EdgeResults_0;
  this.incidentEdge = initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Collision$ClipVertex, 2, 0);
  this.localTangent = new Vec2_0;
  this.localNormal = new Vec2_0;
  this.planePoint = new Vec2_0;
  this.tangent = new Vec2_0;
  this.normal = new Vec2_0;
  this.v11 = new Vec2_0;
  this.v12 = new Vec2_0;
  this.clipPoints1 = initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Collision$ClipVertex, 2, 0);
  this.clipPoints2 = initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Collision$ClipVertex, 2, 0);
  this.incidentEdge[0] = new Collision$ClipVertex_0;
  this.incidentEdge[1] = new Collision$ClipVertex_0;
  this.clipPoints1[0] = new Collision$ClipVertex_0;
  this.clipPoints1[1] = new Collision$ClipVertex_0;
  this.clipPoints2[0] = new Collision$ClipVertex_0;
  this.clipPoints2[1] = new Collision$ClipVertex_0;
  this.pool = argPool;
}

function clipSegmentToLine(vOut, vIn, normal, offset){
  var distance0, distance1, interp, numOut;
  numOut = 0;
  distance0 = dot_0(normal, vIn[0].v) - offset;
  distance1 = dot_0(normal, vIn[1].v) - offset;
  distance0 <= 0 && $set_3(vOut[numOut++], vIn[0]);
  distance1 <= 0 && $set_3(vOut[numOut++], vIn[1]);
  if (distance0 * distance1 < 0) {
    interp = distance0 / (distance0 - distance1);
    $addLocal($mulLocal($subLocal($set_15(vOut[numOut].v, vIn[1].v), vIn[0].v), interp), vIn[0].v);
    distance0 > 0?$set_4(vOut[numOut].id, vIn[0].id):$set_4(vOut[numOut].id, vIn[1].id);
    ++numOut;
  }
  return numOut;
}

function Collision(){
}

_ = Collision_0.prototype = Collision.prototype = new Object_0;
_.getClass$ = function getClass_101(){
  return Lorg_jbox2d_collision_Collision_2_classLit;
}
;
_.pool = null;
function $set_3(this$static, cv){
  $set_15(this$static.v, cv.v);
  $set_4(this$static.id, cv.id);
}

function Collision$ClipVertex_0(){
  this.v = new Vec2_0;
  this.id = new ContactID_0;
}

function Collision$ClipVertex(){
}

_ = Collision$ClipVertex_0.prototype = Collision$ClipVertex.prototype = new Object_0;
_.getClass$ = function getClass_102(){
  return Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Collision$ClipVertex]);
_.id = null;
_.v = null;
function Collision$EdgeResults_0(){
}

function Collision$EdgeResults(){
}

_ = Collision$EdgeResults_0.prototype = Collision$EdgeResults.prototype = new Object_0;
_.getClass$ = function getClass_103(){
  return Lorg_jbox2d_collision_Collision$EdgeResults_2_classLit;
}
;
_.edgeIndex = 0;
_.separation = 0;
function $isEqual(this$static, cid){
  return $isEqual_0(cid.features, this$static.features);
}

function $set_4(this$static, c){
  $set_5(this$static.features, c.features);
}

function $zero(this$static){
  this$static.features.flip = 0;
  this$static.features.incidentEdge = 0;
  this$static.features.incidentVertex = 0;
  this$static.features.referenceEdge = 0;
}

function ContactID_0(){
  this.features = new ContactID$Features_0;
}

function ContactID(){
}

_ = ContactID_0.prototype = ContactID.prototype = new Object_0;
_.getClass$ = function getClass_104(){
  return Lorg_jbox2d_collision_ContactID_2_classLit;
}
;
_.features = null;
function $isEqual_0(this$static, f){
  return this$static.referenceEdge == f.referenceEdge && this$static.incidentEdge == f.incidentEdge && this$static.incidentVertex == f.incidentVertex && this$static.flip == f.flip;
}

function $set_5(this$static, f){
  this$static.referenceEdge = f.referenceEdge;
  this$static.incidentEdge = f.incidentEdge;
  this$static.incidentVertex = f.incidentVertex;
  this$static.flip = f.flip;
}

function ContactID$Features_0(){
  this.referenceEdge = this.incidentEdge = this.incidentVertex = this.flip = 0;
}

function ContactID$Features(){
}

_ = ContactID$Features_0.prototype = ContactID$Features.prototype = new Object_0;
_.getClass$ = function getClass_105(){
  return Lorg_jbox2d_collision_ContactID$Features_2_classLit;
}
;
_.toString$ = function toString_16(){
  var s;
  s = 'Features: (' + this.flip + ' ,' + this.incidentEdge + ' ,' + this.incidentVertex + ' ,' + this.referenceEdge + ')';
  return s;
}
;
_.flip = 0;
_.incidentEdge = 0;
_.incidentVertex = 0;
_.referenceEdge = 0;
function $distance(this$static, output, cache, input){
  var duplicate, i, iter, proxyA, proxyB, rA, rB, saveCount, transformA, transformB, vertex, vertices;
  ++GJK_CALLS;
  proxyA = input.proxyA;
  proxyB = input.proxyB;
  transformA = input.transformA;
  transformB = input.transformB;
  $readCache(this$static.simplex, cache, proxyA, transformA, proxyB, transformB);
  vertices = this$static.simplex.vertices;
  $getClosestPoint(this$static.simplex, this$static.closestPoint);
  $lengthSquared(this$static.closestPoint);
  iter = 0;
  while (iter < GJK_MAX_ITERS) {
    saveCount = this$static.simplex.m_count;
    for (i = 0; i < saveCount; ++i) {
      this$static.saveA[i] = vertices[i].indexA;
      this$static.saveB[i] = vertices[i].indexB;
    }
    switch (this$static.simplex.m_count) {
      case 2:
        $solve2(this$static.simplex);
        break;
      case 3:
        $solve3(this$static.simplex);
    }
    if (this$static.simplex.m_count == 3) {
      break;
    }
    $getClosestPoint(this$static.simplex, this$static.closestPoint);
    $lengthSquared(this$static.closestPoint);
    $getSearchDirection(this$static.simplex, this$static.d);
    if ($lengthSquared(this$static.d) < 1.4210854715202004E-14) {
      break;
    }
    vertex = vertices[this$static.simplex.m_count];
    mulTransToOut(transformA.R, $negateLocal(this$static.d), this$static.temp);
    vertex.indexA = $getSupport(proxyA, this$static.temp);
    mulToOut_0(transformA, $getVertex(proxyA, vertex.indexA), vertex.wA);
    mulTransToOut(transformB.R, $negateLocal(this$static.d), this$static.temp);
    vertex.indexB = $getSupport(proxyB, this$static.temp);
    mulToOut_0(transformB, $getVertex(proxyB, vertex.indexB), vertex.wB);
    $subLocal($set_15(vertex.w, vertex.wB), vertex.wA);
    ++iter;
    ++GJK_ITERS;
    duplicate = false;
    for (i = 0; i < saveCount; ++i) {
      if (vertex.indexA == this$static.saveA[i] && vertex.indexB == this$static.saveB[i]) {
        duplicate = true;
        break;
      }
    }
    if (duplicate) {
      break;
    }
    ++this$static.simplex.m_count;
  }
  GJK_MAX_ITERS = max_0(GJK_MAX_ITERS, iter);
  $getWitnessPoints(this$static.simplex, output.pointA, output.pointB);
  output.distance = ($clinit_MathUtils() , $clinit_MathUtils() , sqrt(distanceSquared(output.pointA, output.pointB)));
  $writeCache(this$static.simplex, cache);
  if (input.useRadii) {
    rA = proxyA.m_radius;
    rB = proxyB.m_radius;
    if (output.distance > rA + rB && output.distance > 1.1920928955078125E-7) {
      output.distance -= rA + rB;
      $subLocal($set_15(this$static.normal, output.pointB), output.pointA);
      $normalize_0(this$static.normal);
      $mulLocal($set_15(this$static.temp, this$static.normal), rA);
      $addLocal(output.pointA, this$static.temp);
      $mulLocal($set_15(this$static.temp, this$static.normal), rB);
      $subLocal(output.pointB, this$static.temp);
    }
     else {
      $mulLocal($addLocal(output.pointA, output.pointB), 0.5);
      $set_15(output.pointB, output.pointA);
      output.distance = 0;
    }
  }
}

function Distance_0(){
  this.simplex = new Distance$Simplex_0;
  this.saveA = initDim(_3I_classLit, makeCastMap([Q$Serializable]), -1, 3, 1);
  this.saveB = initDim(_3I_classLit, makeCastMap([Q$Serializable]), -1, 3, 1);
  this.closestPoint = new Vec2_0;
  this.d = new Vec2_0;
  this.temp = new Vec2_0;
  this.normal = new Vec2_0;
}

function Distance(){
}

_ = Distance_0.prototype = Distance.prototype = new Object_0;
_.getClass$ = function getClass_106(){
  return Lorg_jbox2d_collision_Distance_2_classLit;
}
;
var GJK_CALLS = 0, GJK_ITERS = 0, GJK_MAX_ITERS = 20;
function $getSupport(this$static, d){
  var bestIndex, bestValue, i, value;
  bestIndex = 0;
  bestValue = dot_0(this$static.m_vertices[0], d);
  for (i = 1; i < this$static.m_count; ++i) {
    value = dot_0(this$static.m_vertices[i], d);
    if (value > bestValue) {
      bestIndex = i;
      bestValue = value;
    }
  }
  return bestIndex;
}

function $getVertex(this$static, index){
  return this$static.m_vertices[index];
}

function $set_6(this$static, shape){
  var i;
  switch (shape.m_type.ordinal) {
    case 1:
      $set_15(this$static.m_vertices[0], null.nullField);
      this$static.m_count = 1;
      this$static.m_radius = null.nullField;
      break;
    case 2:
      this$static.m_count = shape.m_vertexCount;
      this$static.m_radius = shape.m_radius;
      for (i = 0; i < this$static.m_count; ++i) {
        $set_15(this$static.m_vertices[i], shape.m_vertices[i]);
      }

  }
}

function Distance$DistanceProxy_0(){
  var i;
  this.m_vertices = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, ($clinit_Settings() , 8), 0);
  for (i = 0; i < this.m_vertices.length; ++i) {
    this.m_vertices[i] = new Vec2_0;
  }
  this.m_count = 0;
  this.m_radius = 0;
}

function Distance$DistanceProxy(){
}

_ = Distance$DistanceProxy_0.prototype = Distance$DistanceProxy.prototype = new Object_0;
_.getClass$ = function getClass_107(){
  return Lorg_jbox2d_collision_Distance$DistanceProxy_2_classLit;
}
;
_.m_count = 0;
_.m_radius = 0;
_.m_vertices = null;
function $getClosestPoint(this$static, out){
  switch (this$static.m_count) {
    case 3:
    default:case 0:
      out.x = 0;
      out.y = 0;
      return;
    case 1:
      $set_15(out, this$static.m_v1.w);
      return;
    case 2:
      $mulLocal($set_15(this$static.case22, this$static.m_v2.w), this$static.m_v2.a_0);
      $addLocal($mulLocal($set_15(this$static.case2, this$static.m_v1.w), this$static.m_v1.a_0), this$static.case22);
      $set_15(out, this$static.case2);
      return;
  }
}

function $getMetric(this$static){
  switch (this$static.m_count) {
    case 1:
    default:case 0:
      return 0;
    case 2:
      return $clinit_MathUtils() , $clinit_MathUtils() , sqrt(distanceSquared(this$static.m_v1.w, this$static.m_v2.w));
    case 3:
      $subLocal($set_15(this$static.case3, this$static.m_v2.w), this$static.m_v1.w);
      $subLocal($set_15(this$static.case33, this$static.m_v3.w), this$static.m_v1.w);
      return cross(this$static.case3, this$static.case33);
  }
}

function $getSearchDirection(this$static, out){
  var sgn;
  switch (this$static.m_count) {
    case 1:
      $negateLocal($set_15(out, this$static.m_v1.w));
      return;
    case 2:
      $subLocal($set_15(this$static.e12, this$static.m_v2.w), this$static.m_v1.w);
      $negateLocal($set_15(out, this$static.m_v1.w));
      sgn = cross(this$static.e12, out);
      if (sgn > 0) {
        crossToOut_0(1, this$static.e12, out);
        return;
      }
       else {
        crossToOut(this$static.e12, 1, out);
        return;
      }

    default:out.x = 0;
      out.y = 0;
      return;
  }
}

function $getWitnessPoints(this$static, pA, pB){
  switch (this$static.m_count) {
    case 1:
      $set_15(pA, this$static.m_v1.wA);
      $set_15(pB, this$static.m_v1.wB);
      break;
    case 2:
      $mulLocal($set_15(this$static.case2, this$static.m_v1.wA), this$static.m_v1.a_0);
      $addLocal($mulLocal($set_15(pA, this$static.m_v2.wA), this$static.m_v2.a_0), this$static.case2);
      $mulLocal($set_15(this$static.case2, this$static.m_v1.wB), this$static.m_v1.a_0);
      $addLocal($mulLocal($set_15(pB, this$static.m_v2.wB), this$static.m_v2.a_0), this$static.case2);
      break;
    case 3:
      $mulLocal($set_15(pA, this$static.m_v1.wA), this$static.m_v1.a_0);
      $mulLocal($set_15(this$static.case3, this$static.m_v2.wA), this$static.m_v2.a_0);
      $mulLocal($set_15(this$static.case33, this$static.m_v3.wA), this$static.m_v3.a_0);
      $addLocal($addLocal(pA, this$static.case3), this$static.case33);
      $set_15(pB, pA);
  }
}

function $readCache(this$static, cache, proxyA, transformA, proxyB, transformB){
  var i, metric1, metric2, v, wALocal, wBLocal;
  this$static.m_count = cache.count;
  for (i = 0; i < this$static.m_count; ++i) {
    v = this$static.vertices[i];
    v.indexA = cache.indexA[i];
    v.indexB = cache.indexB[i];
    wALocal = $getVertex(proxyA, v.indexA);
    wBLocal = $getVertex(proxyB, v.indexB);
    mulToOut_0(transformA, wALocal, v.wA);
    mulToOut_0(transformB, wBLocal, v.wB);
    $subLocal($set_15(v.w, v.wB), v.wA);
    v.a_0 = 0;
  }
  if (this$static.m_count > 1) {
    metric1 = cache.metric;
    metric2 = $getMetric(this$static);
    (metric2 < 0.5 * metric1 || 2 * metric1 < metric2 || metric2 < 1.1920928955078125E-7) && (this$static.m_count = 0);
  }
  if (this$static.m_count == 0) {
    v = this$static.vertices[0];
    v.indexA = 0;
    v.indexB = 0;
    wALocal = proxyA.m_vertices[0];
    wBLocal = proxyB.m_vertices[0];
    mulToOut_0(transformA, wALocal, v.wA);
    mulToOut_0(transformB, wBLocal, v.wB);
    $subLocal($set_15(v.w, v.wB), v.wA);
    this$static.m_count = 1;
  }
}

function $solve2(this$static){
  var d12_1, d12_2, inv_d12, w1, w2;
  w1 = this$static.m_v1.w;
  w2 = this$static.m_v2.w;
  $subLocal($set_15(this$static.e12, w2), w1);
  d12_2 = -dot_0(w1, this$static.e12);
  if (d12_2 <= 0) {
    this$static.m_v1.a_0 = 1;
    this$static.m_count = 1;
    return;
  }
  d12_1 = dot_0(w2, this$static.e12);
  if (d12_1 <= 0) {
    this$static.m_v2.a_0 = 1;
    this$static.m_count = 1;
    $set_7(this$static.m_v1, this$static.m_v2);
    return;
  }
  inv_d12 = 1 / (d12_1 + d12_2);
  this$static.m_v1.a_0 = d12_1 * inv_d12;
  this$static.m_v2.a_0 = d12_2 * inv_d12;
  this$static.m_count = 2;
}

function $solve3(this$static){
  var d123_1, d123_2, d123_3, d12_2, d13_2, d23_2, inv_d12, inv_d123, inv_d13, inv_d23, n123, w1e12, w1e13, w2e12, w2e23, w3e13, w3e23;
  $set_15(this$static.w1, this$static.m_v1.w);
  $set_15(this$static.w2, this$static.m_v2.w);
  $set_15(this$static.w3, this$static.m_v3.w);
  $subLocal($set_15(this$static.e12, this$static.w2), this$static.w1);
  w1e12 = dot_0(this$static.w1, this$static.e12);
  w2e12 = dot_0(this$static.w2, this$static.e12);
  d12_2 = -w1e12;
  $subLocal($set_15(this$static.e13, this$static.w3), this$static.w1);
  w1e13 = dot_0(this$static.w1, this$static.e13);
  w3e13 = dot_0(this$static.w3, this$static.e13);
  d13_2 = -w1e13;
  $subLocal($set_15(this$static.e23, this$static.w3), this$static.w2);
  w2e23 = dot_0(this$static.w2, this$static.e23);
  w3e23 = dot_0(this$static.w3, this$static.e23);
  d23_2 = -w2e23;
  n123 = cross(this$static.e12, this$static.e13);
  d123_1 = n123 * cross(this$static.w2, this$static.w3);
  d123_2 = n123 * cross(this$static.w3, this$static.w1);
  d123_3 = n123 * cross(this$static.w1, this$static.w2);
  if (d12_2 <= 0 && d13_2 <= 0) {
    this$static.m_v1.a_0 = 1;
    this$static.m_count = 1;
    return;
  }
  if (w2e12 > 0 && d12_2 > 0 && d123_3 <= 0) {
    inv_d12 = 1 / (w2e12 + d12_2);
    this$static.m_v1.a_0 = w2e12 * inv_d12;
    this$static.m_v2.a_0 = d12_2 * inv_d12;
    this$static.m_count = 2;
    return;
  }
  if (w3e13 > 0 && d13_2 > 0 && d123_2 <= 0) {
    inv_d13 = 1 / (w3e13 + d13_2);
    this$static.m_v1.a_0 = w3e13 * inv_d13;
    this$static.m_v3.a_0 = d13_2 * inv_d13;
    this$static.m_count = 2;
    $set_7(this$static.m_v2, this$static.m_v3);
    return;
  }
  if (w2e12 <= 0 && d23_2 <= 0) {
    this$static.m_v2.a_0 = 1;
    this$static.m_count = 1;
    $set_7(this$static.m_v1, this$static.m_v2);
    return;
  }
  if (w3e13 <= 0 && w3e23 <= 0) {
    this$static.m_v3.a_0 = 1;
    this$static.m_count = 1;
    $set_7(this$static.m_v1, this$static.m_v3);
    return;
  }
  if (w3e23 > 0 && d23_2 > 0 && d123_1 <= 0) {
    inv_d23 = 1 / (w3e23 + d23_2);
    this$static.m_v2.a_0 = w3e23 * inv_d23;
    this$static.m_v3.a_0 = d23_2 * inv_d23;
    this$static.m_count = 2;
    $set_7(this$static.m_v1, this$static.m_v3);
    return;
  }
  inv_d123 = 1 / (d123_1 + d123_2 + d123_3);
  this$static.m_v1.a_0 = d123_1 * inv_d123;
  this$static.m_v2.a_0 = d123_2 * inv_d123;
  this$static.m_v3.a_0 = d123_3 * inv_d123;
  this$static.m_count = 3;
}

function $writeCache(this$static, cache){
  var i;
  cache.metric = $getMetric(this$static);
  cache.count = this$static.m_count;
  for (i = 0; i < this$static.m_count; ++i) {
    cache.indexA[i] = this$static.vertices[i].indexA;
    cache.indexB[i] = this$static.vertices[i].indexB;
  }
}

function Distance$Simplex_0(){
  this.m_v1 = new Distance$SimplexVertex_0;
  this.m_v2 = new Distance$SimplexVertex_0;
  this.m_v3 = new Distance$SimplexVertex_0;
  this.vertices = initValues(_3Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Distance$SimplexVertex, [this.m_v1, this.m_v2, this.m_v3]);
  this.e12 = new Vec2_0;
  this.case2 = new Vec2_0;
  this.case22 = new Vec2_0;
  this.case3 = new Vec2_0;
  this.case33 = new Vec2_0;
  this.e13 = new Vec2_0;
  this.e23 = new Vec2_0;
  this.w1 = new Vec2_0;
  this.w2 = new Vec2_0;
  this.w3 = new Vec2_0;
}

function Distance$Simplex(){
}

_ = Distance$Simplex_0.prototype = Distance$Simplex.prototype = new Object_0;
_.getClass$ = function getClass_108(){
  return Lorg_jbox2d_collision_Distance$Simplex_2_classLit;
}
;
_.m_count = 0;
function Distance$SimplexCache_0(){
  this.indexA = initDim(_3I_classLit, makeCastMap([Q$Serializable]), -1, 3, 1);
  this.indexB = initDim(_3I_classLit, makeCastMap([Q$Serializable]), -1, 3, 1);
  this.metric = 0;
  this.count = 0;
  this.indexA[0] = 2147483647;
  this.indexA[1] = 2147483647;
  this.indexA[2] = 2147483647;
  this.indexB[0] = 2147483647;
  this.indexB[1] = 2147483647;
  this.indexB[2] = 2147483647;
}

function Distance$SimplexCache(){
}

_ = Distance$SimplexCache_0.prototype = Distance$SimplexCache.prototype = new Object_0;
_.getClass$ = function getClass_109(){
  return Lorg_jbox2d_collision_Distance$SimplexCache_2_classLit;
}
;
_.count = 0;
_.metric = 0;
function $set_7(this$static, sv){
  $set_15(this$static.wA, sv.wA);
  $set_15(this$static.wB, sv.wB);
  $set_15(this$static.w, sv.w);
  this$static.a_0 = sv.a_0;
  this$static.indexA = sv.indexA;
  this$static.indexB = sv.indexB;
}

function Distance$SimplexVertex_0(){
  this.wA = new Vec2_0;
  this.wB = new Vec2_0;
  this.w = new Vec2_0;
}

function Distance$SimplexVertex(){
}

_ = Distance$SimplexVertex_0.prototype = Distance$SimplexVertex.prototype = new Object_0;
_.getClass$ = function getClass_110(){
  return Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Distance$SimplexVertex]);
_.a_0 = 0;
_.indexA = 0;
_.indexB = 0;
function DistanceInput_0(){
  this.proxyA = new Distance$DistanceProxy_0;
  this.proxyB = new Distance$DistanceProxy_0;
  this.transformA = new Transform_0;
  this.transformB = new Transform_0;
}

function DistanceInput(){
}

_ = DistanceInput_0.prototype = DistanceInput.prototype = new Object_0;
_.getClass$ = function getClass_111(){
  return Lorg_jbox2d_collision_DistanceInput_2_classLit;
}
;
_.useRadii = false;
function DistanceOutput_0(){
  this.pointA = new Vec2_0;
  this.pointB = new Vec2_0;
}

function DistanceOutput(){
}

_ = DistanceOutput_0.prototype = DistanceOutput.prototype = new Object_0;
_.getClass$ = function getClass_112(){
  return Lorg_jbox2d_collision_DistanceOutput_2_classLit;
}
;
_.distance = 0;
function $set_8(this$static, cp){
  var i;
  for (i = 0; i < cp.pointCount; ++i) {
    $set_9(this$static.points[i], cp.points[i]);
  }
  this$static.type = cp.type;
  $set_15(this$static.localNormal, cp.localNormal);
  $set_15(this$static.localPoint, cp.localPoint);
  this$static.pointCount = cp.pointCount;
}

function Manifold_0(){
  var i;
  this.points = initDim(_3Lorg_jbox2d_collision_ManifoldPoint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$ManifoldPoint, ($clinit_Settings() , 2), 0);
  for (i = 0; i < 2; ++i) {
    this.points[i] = new ManifoldPoint_0;
  }
  this.localNormal = new Vec2_0;
  this.localPoint = new Vec2_0;
  this.pointCount = 0;
}

function Manifold(){
}

_ = Manifold_0.prototype = Manifold.prototype = new Object_0;
_.getClass$ = function getClass_113(){
  return Lorg_jbox2d_collision_Manifold_2_classLit;
}
;
_.localNormal = null;
_.localPoint = null;
_.pointCount = 0;
_.points = null;
_.type = null;
function $clinit_Manifold$ManifoldType(){
  $clinit_Manifold$ManifoldType = nullMethod;
  CIRCLES = new Manifold$ManifoldType_0('CIRCLES', 0);
  FACE_A = new Manifold$ManifoldType_0('FACE_A', 1);
  FACE_B = new Manifold$ManifoldType_0('FACE_B', 2);
  $VALUES_4 = initValues(_3Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Manifold$ManifoldType, [CIRCLES, FACE_A, FACE_B]);
}

function Manifold$ManifoldType_0(enum$name, enum$ordinal){
  Enum_0.call(this, enum$name, enum$ordinal);
}

function values_4(){
  $clinit_Manifold$ManifoldType();
  return $VALUES_4;
}

function Manifold$ManifoldType(){
}

_ = Manifold$ManifoldType_0.prototype = Manifold$ManifoldType.prototype = new Enum;
_.getClass$ = function getClass_114(){
  return Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$Manifold$ManifoldType]);
var $VALUES_4, CIRCLES, FACE_A, FACE_B;
function $set_9(this$static, cp){
  $set_15(this$static.localPoint, cp.localPoint);
  this$static.normalImpulse = cp.normalImpulse;
  this$static.tangentImpulse = cp.tangentImpulse;
  $set_4(this$static.id, cp.id);
}

function ManifoldPoint_0(){
  this.localPoint = new Vec2_0;
  this.normalImpulse = this.tangentImpulse = 0;
  this.id = new ContactID_0;
}

function ManifoldPoint(){
}

_ = ManifoldPoint_0.prototype = ManifoldPoint.prototype = new Object_0;
_.getClass$ = function getClass_115(){
  return Lorg_jbox2d_collision_ManifoldPoint_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$ManifoldPoint]);
_.id = null;
_.localPoint = null;
_.normalImpulse = 0;
_.tangentImpulse = 0;
function RayCastInput_0(){
  new Vec2_0;
  new Vec2_0;
}

function RayCastInput(){
}

_ = RayCastInput_0.prototype = RayCastInput.prototype = new Object_0;
_.getClass$ = function getClass_116(){
  return Lorg_jbox2d_collision_RayCastInput_2_classLit;
}
;
function RayCastOutput_0(){
  new Vec2_0;
}

--></script>
<script><!--
function RayCastOutput(){
}

_ = RayCastOutput_0.prototype = RayCastOutput.prototype = new Object_0;
_.getClass$ = function getClass_117(){
  return Lorg_jbox2d_collision_RayCastOutput_2_classLit;
}
;
function $evaluate(this$static, indexA, indexB, t){
  var separation;
  $getTransform(this$static.m_sweepA, this$static.xfa, t);
  $getTransform(this$static.m_sweepB, this$static.xfb, t);
  switch (this$static.m_type.ordinal) {
    case 0:
      {
        mulTransToOut(this$static.xfa.R, this$static.m_axis, this$static.axisA);
        mulTransToOut(this$static.xfb.R, $negateLocal(this$static.m_axis), this$static.axisB);
        $negateLocal(this$static.m_axis);
        $set_15(this$static.localPointA, $getVertex(this$static.m_proxyA, indexA));
        $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, indexB));
        mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
        mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
        separation = dot_0($subLocal(this$static.pointB, this$static.pointA), this$static.m_axis);
        return separation;
      }

    case 1:
      {
        mulToOut(this$static.xfa.R, this$static.m_axis, this$static.normal);
        mulToOut_0(this$static.xfa, this$static.m_localPoint, this$static.pointA);
        mulTransToOut(this$static.xfb.R, $negateLocal(this$static.normal), this$static.axisB);
        $negateLocal(this$static.normal);
        $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, indexB));
        mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
        separation = dot_0($subLocal(this$static.pointB, this$static.pointA), this$static.normal);
        return separation;
      }

    case 2:
      {
        mulToOut(this$static.xfb.R, this$static.m_axis, this$static.normal);
        mulToOut_0(this$static.xfb, this$static.m_localPoint, this$static.pointB);
        mulTransToOut(this$static.xfa.R, $negateLocal(this$static.normal), this$static.axisA);
        $negateLocal(this$static.normal);
        $set_15(this$static.localPointA, $getVertex(this$static.m_proxyA, indexA));
        mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
        separation = dot_0($subLocal(this$static.pointA, this$static.pointB), this$static.normal);
        return separation;
      }

    default:return 0;
  }
}

function $findMinSeparation(this$static, indexes, t){
  var separation;
  $getTransform(this$static.m_sweepA, this$static.xfa, t);
  $getTransform(this$static.m_sweepB, this$static.xfb, t);
  switch (this$static.m_type.ordinal) {
    case 0:
      {
        mulTransToOut(this$static.xfa.R, this$static.m_axis, this$static.axisA);
        mulTransToOut(this$static.xfb.R, $negateLocal(this$static.m_axis), this$static.axisB);
        $negateLocal(this$static.m_axis);
        indexes[0] = $getSupport(this$static.m_proxyA, this$static.axisA);
        indexes[1] = $getSupport(this$static.m_proxyB, this$static.axisB);
        $set_15(this$static.localPointA, $getVertex(this$static.m_proxyA, indexes[0]));
        $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, indexes[1]));
        mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
        mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
        separation = dot_0($subLocal(this$static.pointB, this$static.pointA), this$static.m_axis);
        return separation;
      }

    case 1:
      {
        mulToOut(this$static.xfa.R, this$static.m_axis, this$static.normal);
        mulToOut_0(this$static.xfa, this$static.m_localPoint, this$static.pointA);
        mulTransToOut(this$static.xfb.R, $negateLocal(this$static.normal), this$static.axisB);
        $negateLocal(this$static.normal);
        indexes[0] = -1;
        indexes[1] = $getSupport(this$static.m_proxyB, this$static.axisB);
        $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, indexes[1]));
        mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
        separation = dot_0($subLocal(this$static.pointB, this$static.pointA), this$static.normal);
        return separation;
      }

    case 2:
      {
        mulToOut(this$static.xfb.R, this$static.m_axis, this$static.normal);
        mulToOut_0(this$static.xfb, this$static.m_localPoint, this$static.pointB);
        mulTransToOut(this$static.xfa.R, $negateLocal(this$static.normal), this$static.axisA);
        $negateLocal(this$static.normal);
        indexes[1] = -1;
        indexes[0] = $getSupport(this$static.m_proxyA, this$static.axisA);
        $set_15(this$static.localPointA, $getVertex(this$static.m_proxyA, indexes[0]));
        mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
        separation = dot_0($subLocal(this$static.pointA, this$static.pointB), this$static.normal);
        return separation;
      }

    default:indexes[0] = -1;
      indexes[1] = -1;
      return 0;
  }
}

function $initialize(this$static, cache, proxyA, sweepA, proxyB, sweepB, t1){
  var count, s;
  this$static.m_proxyA = proxyA;
  this$static.m_proxyB = proxyB;
  count = cache.count;
  this$static.m_sweepA = sweepA;
  this$static.m_sweepB = sweepB;
  $getTransform(this$static.m_sweepA, this$static.xfa, t1);
  $getTransform(this$static.m_sweepB, this$static.xfb, t1);
  if (count == 1) {
    this$static.m_type = ($clinit_Type() , POINTS);
    $set_15(this$static.localPointA, $getVertex(this$static.m_proxyA, cache.indexA[0]));
    $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, cache.indexB[0]));
    mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
    mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
    $subLocal($set_15(this$static.m_axis, this$static.pointB), this$static.pointA);
    s = $normalize_0(this$static.m_axis);
    return s;
  }
   else if (cache.indexA[0] == cache.indexA[1]) {
    this$static.m_type = ($clinit_Type() , FACE_B_0);
    $set_15(this$static.localPointB1, $getVertex(this$static.m_proxyB, cache.indexB[0]));
    $set_15(this$static.localPointB2, $getVertex(this$static.m_proxyB, cache.indexB[1]));
    $subLocal($set_15(this$static.temp, this$static.localPointB2), this$static.localPointB1);
    crossToOut(this$static.temp, 1, this$static.m_axis);
    $normalize_0(this$static.m_axis);
    mulToOut(this$static.xfb.R, this$static.m_axis, this$static.normal);
    $mulLocal($addLocal($set_15(this$static.m_localPoint, this$static.localPointB1), this$static.localPointB2), 0.5);
    mulToOut_0(this$static.xfb, this$static.m_localPoint, this$static.pointB);
    $set_15(this$static.localPointA, $getVertex(proxyA, cache.indexA[0]));
    mulToOut_0(this$static.xfa, this$static.localPointA, this$static.pointA);
    $subLocal($set_15(this$static.temp, this$static.pointA), this$static.pointB);
    s = dot_0(this$static.temp, this$static.normal);
    if (s < 0) {
      $negateLocal(this$static.m_axis);
      s = -s;
    }
    return s;
  }
   else {
    this$static.m_type = ($clinit_Type() , FACE_A_0);
    $set_15(this$static.localPointA1, $getVertex(this$static.m_proxyA, cache.indexA[0]));
    $set_15(this$static.localPointA2, $getVertex(this$static.m_proxyA, cache.indexA[1]));
    $subLocal($set_15(this$static.temp, this$static.localPointA2), this$static.localPointA1);
    crossToOut(this$static.temp, 1, this$static.m_axis);
    $normalize_0(this$static.m_axis);
    mulToOut(this$static.xfa.R, this$static.m_axis, this$static.normal);
    $mulLocal($addLocal($set_15(this$static.m_localPoint, this$static.localPointA1), this$static.localPointA2), 0.5);
    mulToOut_0(this$static.xfa, this$static.m_localPoint, this$static.pointA);
    $set_15(this$static.localPointB, $getVertex(this$static.m_proxyB, cache.indexB[0]));
    mulToOut_0(this$static.xfb, this$static.localPointB, this$static.pointB);
    $subLocal($set_15(this$static.temp, this$static.pointB), this$static.pointA);
    s = dot_0(this$static.temp, this$static.normal);
    if (s < 0) {
      $negateLocal(this$static.m_axis);
      s = -s;
    }
    return s;
  }
}

function SeparationFunction_0(){
  this.m_localPoint = new Vec2_0;
  this.m_axis = new Vec2_0;
  this.localPointA = new Vec2_0;
  this.localPointB = new Vec2_0;
  this.pointA = new Vec2_0;
  this.pointB = new Vec2_0;
  this.localPointA1 = new Vec2_0;
  this.localPointA2 = new Vec2_0;
  this.normal = new Vec2_0;
  this.localPointB1 = new Vec2_0;
  this.localPointB2 = new Vec2_0;
  this.temp = new Vec2_0;
  this.xfa = new Transform_0;
  this.xfb = new Transform_0;
  this.axisA = new Vec2_0;
  this.axisB = new Vec2_0;
}

function SeparationFunction(){
}

_ = SeparationFunction_0.prototype = SeparationFunction.prototype = new Object_0;
_.getClass$ = function getClass_118(){
  return Lorg_jbox2d_collision_SeparationFunction_2_classLit;
}
;
_.m_proxyA = null;
_.m_proxyB = null;
_.m_sweepA = null;
_.m_sweepB = null;
_.m_type = null;
function $timeOfImpact(this$static, output, input){
  var a1, a2, done, iter, proxyA, proxyB, pushBackIter, rootIterCount, s, s1, s2, t, t1, t2, tMax, target, tolerance, totalRadius;
  ++toiCalls;
  output.state = ($clinit_TimeOfImpact$TOIOutputState() , UNKNOWN);
  output.t = input.tMax;
  proxyA = input.proxyA;
  proxyB = input.proxyB;
  $set_12(this$static.sweepA, input.sweepA);
  $set_12(this$static.sweepB, input.sweepB);
  $normalize(this$static.sweepA);
  $normalize(this$static.sweepB);
  tMax = input.tMax;
  totalRadius = proxyA.m_radius + proxyB.m_radius;
  target = max(($clinit_Settings() , 0.004999999888241291), totalRadius - 3 * 0.004999999888241291);
  tolerance = 0.25 * 0.004999999888241291;
  t1 = 0;
  iter = 0;
  this$static.cache.count = 0;
  this$static.distanceInput.proxyA = input.proxyA;
  this$static.distanceInput.proxyB = input.proxyB;
  this$static.distanceInput.useRadii = false;
  for (;;) {
    $getTransform(this$static.sweepA, this$static.xfA, t1);
    $getTransform(this$static.sweepB, this$static.xfB, t1);
    this$static.distanceInput.transformA = this$static.xfA;
    this$static.distanceInput.transformB = this$static.xfB;
    $distance(this$static.pool.dist, this$static.distanceOutput, this$static.cache, this$static.distanceInput);
    if (this$static.distanceOutput.distance <= 0) {
      output.state = OVERLAPPED;
      output.t = 0;
      break;
    }
    if (this$static.distanceOutput.distance < target + tolerance) {
      output.state = TOUCHING;
      output.t = t1;
      break;
    }
    $initialize(this$static.fcn, this$static.cache, proxyA, this$static.sweepA, proxyB, this$static.sweepB, t1);
    done = false;
    t2 = tMax;
    pushBackIter = 0;
    for (;;) {
      s2 = $findMinSeparation(this$static.fcn, this$static.indexes, t2);
      if (s2 > target + tolerance) {
        output.state = SEPARATED;
        output.t = tMax;
        done = true;
        break;
      }
      if (s2 > target - tolerance) {
        t1 = t2;
        break;
      }
      s1 = $evaluate(this$static.fcn, this$static.indexes[0], this$static.indexes[1], t1);
      if (s1 < target - tolerance) {
        output.state = FAILED;
        output.t = t1;
        done = true;
        break;
      }
      if (s1 <= target + tolerance) {
        output.state = TOUCHING;
        output.t = t1;
        done = true;
        break;
      }
      rootIterCount = 0;
      a1 = t1;
      a2 = t2;
      for (;;) {
        (rootIterCount & 1) == 1?(t = a1 + (target - s1) * (a2 - a1) / (s2 - s1)):(t = 0.5 * (a1 + a2));
        s = $evaluate(this$static.fcn, this$static.indexes[0], this$static.indexes[1], t);
        if (($clinit_MathUtils() , s - target > 0?s - target:-(s - target)) < tolerance) {
          t2 = t;
          break;
        }
        if (s > target) {
          a1 = t;
          s1 = s;
        }
         else {
          a2 = t;
          s2 = s;
        }
        ++rootIterCount;
        ++toiRootIters;
        if (rootIterCount == 50) {
          break;
        }
      }
      toiMaxRootIters = max_0(toiMaxRootIters, rootIterCount);
      ++pushBackIter;
      if (pushBackIter == 8) {
        break;
      }
    }
    ++iter;
    ++toiIters;
    if (done) {
      break;
    }
    if (iter == 1000) {
      output.state = FAILED;
      output.t = t1;
      break;
    }
  }
  toiMaxIters = max_0(toiMaxIters, iter);
}

function TimeOfImpact_0(argPool){
  this.cache = new Distance$SimplexCache_0;
  this.distanceInput = new DistanceInput_0;
  this.xfA = new Transform_0;
  this.xfB = new Transform_0;
  this.distanceOutput = new DistanceOutput_0;
  this.fcn = new SeparationFunction_0;
  this.indexes = initDim(_3I_classLit, makeCastMap([Q$Serializable]), -1, 2, 1);
  this.sweepA = new Sweep_0;
  this.sweepB = new Sweep_0;
  this.pool = argPool;
}

function TimeOfImpact(){
}

_ = TimeOfImpact_0.prototype = TimeOfImpact.prototype = new Object_0;
_.getClass$ = function getClass_119(){
  return Lorg_jbox2d_collision_TimeOfImpact_2_classLit;
}
;
_.pool = null;
var toiCalls = 0, toiIters = 0, toiMaxIters = 0, toiMaxRootIters = 0, toiRootIters = 0;
function TimeOfImpact$TOIInput_0(){
  this.proxyA = new Distance$DistanceProxy_0;
  this.proxyB = new Distance$DistanceProxy_0;
  this.sweepA = new Sweep_0;
  this.sweepB = new Sweep_0;
}

function TimeOfImpact$TOIInput(){
}

_ = TimeOfImpact$TOIInput_0.prototype = TimeOfImpact$TOIInput.prototype = new Object_0;
_.getClass$ = function getClass_120(){
  return Lorg_jbox2d_collision_TimeOfImpact$TOIInput_2_classLit;
}
;
_.tMax = 0;
function TimeOfImpact$TOIOutput_0(){
}

function TimeOfImpact$TOIOutput(){
}

_ = TimeOfImpact$TOIOutput_0.prototype = TimeOfImpact$TOIOutput.prototype = new Object_0;
_.getClass$ = function getClass_121(){
  return Lorg_jbox2d_collision_TimeOfImpact$TOIOutput_2_classLit;
}
;
_.state = null;
_.t = 0;
function $clinit_TimeOfImpact$TOIOutputState(){
  $clinit_TimeOfImpact$TOIOutputState = nullMethod;
  UNKNOWN = new TimeOfImpact$TOIOutputState_0('UNKNOWN', 0);
  FAILED = new TimeOfImpact$TOIOutputState_0('FAILED', 1);
  OVERLAPPED = new TimeOfImpact$TOIOutputState_0('OVERLAPPED', 2);
  TOUCHING = new TimeOfImpact$TOIOutputState_0('TOUCHING', 3);
  SEPARATED = new TimeOfImpact$TOIOutputState_0('SEPARATED', 4);
  $VALUES_5 = initValues(_3Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$TimeOfImpact$TOIOutputState, [UNKNOWN, FAILED, OVERLAPPED, TOUCHING, SEPARATED]);
}

function TimeOfImpact$TOIOutputState_0(enum$name, enum$ordinal){
  Enum_0.call(this, enum$name, enum$ordinal);
}

function values_5(){
  $clinit_TimeOfImpact$TOIOutputState();
  return $VALUES_5;
}

function TimeOfImpact$TOIOutputState(){
}

_ = TimeOfImpact$TOIOutputState_0.prototype = TimeOfImpact$TOIOutputState.prototype = new Enum;
_.getClass$ = function getClass_122(){
  return Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$TimeOfImpact$TOIOutputState]);
var $VALUES_5, FAILED, OVERLAPPED, SEPARATED, TOUCHING, UNKNOWN;
function $clinit_Type(){
  $clinit_Type = nullMethod;
  POINTS = new Type_0('POINTS', 0);
  FACE_A_0 = new Type_0('FACE_A', 1);
  FACE_B_0 = new Type_0('FACE_B', 2);
  $VALUES_6 = initValues(_3Lorg_jbox2d_collision_Type_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Type, [POINTS, FACE_A_0, FACE_B_0]);
}

function Type_0(enum$name, enum$ordinal){
  Enum_0.call(this, enum$name, enum$ordinal);
}

function values_6(){
  $clinit_Type();
  return $VALUES_6;
}

function Type(){
}

_ = Type_0.prototype = Type.prototype = new Enum;
_.getClass$ = function getClass_123(){
  return Lorg_jbox2d_collision_Type_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$Type]);
var $VALUES_6, FACE_A_0, FACE_B_0, POINTS;
function $initialize_0(this$static, manifold, xfA, radiusA, xfB, radiusB){
  var R, cAx, cAy, cBx, cBy, clipPoint, i, planePoint, pointA, pointB, scalar, v;
  if (manifold.pointCount == 0) {
    return;
  }
  switch (manifold.type.ordinal) {
    case 0:
      {
        pointA = this$static.pool3;
        pointB = this$static.pool4;
        this$static.normal.x = 1;
        this$static.normal.y = 0;
        pointA.x = xfA.position_0.x + xfA.R.m11 * manifold.localPoint.x + xfA.R.m21 * manifold.localPoint.y;
        pointA.y = xfA.position_0.y + xfA.R.m12 * manifold.localPoint.x + xfA.R.m22 * manifold.localPoint.y;
        pointB.x = xfB.position_0.x + xfB.R.m11 * manifold.points[0].localPoint.x + xfB.R.m21 * manifold.points[0].localPoint.y;
        pointB.y = xfB.position_0.y + xfB.R.m12 * manifold.points[0].localPoint.x + xfB.R.m22 * manifold.points[0].localPoint.y;
        if (distanceSquared(pointA, pointB) > 1.4210854715202004E-14) {
          this$static.normal.x = pointB.x - pointA.x;
          this$static.normal.y = pointB.y - pointA.y;
          $normalize_0(this$static.normal);
        }
        cAx = this$static.normal.x * radiusA + pointA.x;
        cAy = this$static.normal.y * radiusA + pointA.y;
        cBx = -this$static.normal.x * radiusB + pointB.x;
        cBy = -this$static.normal.y * radiusB + pointB.y;
        this$static.points[0].x = (cAx + cBx) * 0.5;
        this$static.points[0].y = (cAy + cBy) * 0.5;
      }

      break;
    case 1:
      {
        planePoint = this$static.pool3;
        this$static.normal.x = xfA.R.m11 * manifold.localNormal.x + xfA.R.m21 * manifold.localNormal.y;
        this$static.normal.y = xfA.R.m12 * manifold.localNormal.x + xfA.R.m22 * manifold.localNormal.y;
        planePoint.x = xfA.position_0.x + xfA.R.m11 * manifold.localPoint.x + xfA.R.m21 * manifold.localPoint.y;
        planePoint.y = xfA.position_0.y + xfA.R.m12 * manifold.localPoint.x + xfA.R.m22 * manifold.localPoint.y;
        clipPoint = this$static.pool4;
        for (i = 0; i < manifold.pointCount; ++i) {
          clipPoint.x = xfB.position_0.x + xfB.R.m11 * manifold.points[i].localPoint.x + xfB.R.m21 * manifold.points[i].localPoint.y;
          clipPoint.y = xfB.position_0.y + xfB.R.m12 * manifold.points[i].localPoint.x + xfB.R.m22 * manifold.points[i].localPoint.y;
          scalar = radiusA - ((clipPoint.x - planePoint.x) * this$static.normal.x + (clipPoint.y - planePoint.y) * this$static.normal.y);
          cAx = this$static.normal.x * scalar + clipPoint.x;
          cAy = this$static.normal.y * scalar + clipPoint.y;
          cBx = -this$static.normal.x * radiusB + clipPoint.x;
          cBy = -this$static.normal.y * radiusB + clipPoint.y;
          this$static.points[i].x = (cAx + cBx) * 0.5;
          this$static.points[i].y = (cAy + cBy) * 0.5;
        }
      }

      break;
    case 2:
      planePoint = this$static.pool3;
      R = xfB.R;
      this$static.normal.x = R.m11 * manifold.localNormal.x + R.m21 * manifold.localNormal.y;
      this$static.normal.y = R.m12 * manifold.localNormal.x + R.m22 * manifold.localNormal.y;
      v = manifold.localPoint;
      planePoint.x = xfB.position_0.x + xfB.R.m11 * v.x + xfB.R.m21 * v.y;
      planePoint.y = xfB.position_0.y + xfB.R.m12 * v.x + xfB.R.m22 * v.y;
      clipPoint = this$static.pool4;
      for (i = 0; i < manifold.pointCount; ++i) {
        clipPoint.x = xfA.position_0.x + xfA.R.m11 * manifold.points[i].localPoint.x + xfA.R.m21 * manifold.points[i].localPoint.y;
        clipPoint.y = xfA.position_0.y + xfA.R.m12 * manifold.points[i].localPoint.x + xfA.R.m22 * manifold.points[i].localPoint.y;
        scalar = radiusB - ((clipPoint.x - planePoint.x) * this$static.normal.x + (clipPoint.y - planePoint.y) * this$static.normal.y);
        cBx = this$static.normal.x * scalar + clipPoint.x;
        cBy = this$static.normal.y * scalar + clipPoint.y;
        cAx = -this$static.normal.x * radiusA + clipPoint.x;
        cAy = -this$static.normal.y * radiusA + clipPoint.y;
        this$static.points[i].x = (cAx + cBx) * 0.5;
        this$static.points[i].y = (cAy + cBy) * 0.5;
      }

      this$static.normal.x = -this$static.normal.x;
      this$static.normal.y = -this$static.normal.y;
  }
}

function WorldManifold_0(){
  var i;
  this.pool3 = new Vec2_0;
  this.pool4 = new Vec2_0;
  this.normal = new Vec2_0;
  this.points = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, ($clinit_Settings() , 2), 0);
  for (i = 0; i < 2; ++i) {
    this.points[i] = new Vec2_0;
  }
}

function WorldManifold(){
}

_ = WorldManifold_0.prototype = WorldManifold.prototype = new Object_0;
_.getClass$ = function getClass_124(){
  return Lorg_jbox2d_collision_WorldManifold_2_classLit;
}
;
_.normal = null;
_.points = null;
function $bufferMove(this$static, node){
  var i, old;
  if (this$static.m_moveCount == this$static.m_moveCapacity) {
    old = this$static.m_moveBuffer;
    this$static.m_moveCapacity *= 2;
    this$static.m_moveBuffer = initDim(_3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$DynamicTreeNode, this$static.m_moveCapacity, 0);
    for (i = 0; i < old.length; ++i) {
      this$static.m_moveBuffer[i] = old[i];
    }
  }
  this$static.m_moveBuffer[this$static.m_moveCount] = node;
  ++this$static.m_moveCount;
}

function $createProxy(this$static, aabb, userData){
  var node;
  node = $createProxy_0(this$static.m_tree, aabb, userData);
  ++this$static.m_proxyCount;
  $bufferMove(this$static, node);
  return node;
}

function $moveProxy(this$static, proxy, aabb, displacement){
  var buffer;
  buffer = $moveProxy_0(this$static.m_tree, proxy, aabb, displacement);
  buffer && $bufferMove(this$static, proxy);
}

function $testOverlap_0(proxyA, proxyB){
  var a, b;
  a = proxyA.aabb;
  b = proxyB.aabb;
  if (b.lowerBound.x - a.upperBound.x > 0 || b.lowerBound.y - a.upperBound.y > 0) {
    return false;
  }
  if (a.lowerBound.x - b.upperBound.x > 0 || a.lowerBound.y - b.upperBound.y > 0) {
    return false;
  }
  return true;
}

function $treeCallback(this$static, proxy){
  var i, oldBuffer;
  if (proxy == this$static.m_queryProxy) {
    return true;
  }
  if (this$static.m_pairCount == this$static.m_pairCapacity) {
    oldBuffer = this$static.m_pairBuffer;
    this$static.m_pairCapacity *= 2;
    this$static.m_pairBuffer = initDim(_3Lorg_jbox2d_collision_broadphase_Pair_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Pair, this$static.m_pairCapacity, 0);
    for (i = 0; i < oldBuffer.length; ++i) {
      this$static.m_pairBuffer[i] = oldBuffer[i];
    }
    for (i = oldBuffer.length; i < this$static.m_pairCapacity; ++i) {
      this$static.m_pairBuffer[i] = new Pair_0;
    }
  }
  if (proxy.key_0 < this$static.m_queryProxy.key_0) {
    this$static.m_pairBuffer[this$static.m_pairCount].proxyA = proxy;
    this$static.m_pairBuffer[this$static.m_pairCount].proxyB = this$static.m_queryProxy;
  }
   else {
    this$static.m_pairBuffer[this$static.m_pairCount].proxyA = this$static.m_queryProxy;
    this$static.m_pairBuffer[this$static.m_pairCount].proxyB = proxy;
  }
  ++this$static.m_pairCount;
  return true;
}

function $updatePairs(this$static, callback){
  var i, pair, primaryPair, userDataA, userDataB;
  this$static.m_pairCount = 0;
  for (i = 0; i < this$static.m_moveCount; ++i) {
    this$static.m_queryProxy = this$static.m_moveBuffer[i];
    if (!this$static.m_queryProxy) {
      continue;
    }
    $query(this$static.m_tree, this$static, this$static.m_queryProxy.aabb);
  }
  this$static.m_moveCount = 0;
  $clinit_Settings();
  for (i = 0; i < this$static.m_pairCount; ++i) {
    this$static.m_pairBuffer[i].stableIdx = i;
  }
  sort(this$static.m_pairBuffer, this$static.m_pairCount, new Pair$StableComparator_0);
  i = 0;
  while (i < this$static.m_pairCount) {
    primaryPair = this$static.m_pairBuffer[i];
    userDataA = primaryPair.proxyA.userData;
    userDataB = primaryPair.proxyB.userData;
    $addPair(callback, userDataA, userDataB);
    ++i;
    while (i < this$static.m_pairCount) {
      pair = this$static.m_pairBuffer[i];
      if (pair.proxyA != primaryPair.proxyA || pair.proxyB != primaryPair.proxyB) {
        break;
      }
      ++i;
    }
  }
  $rebalance(this$static.m_tree, 4);
}

function BroadPhase_0(){
  var i;
  this.m_proxyCount = 0;
  this.m_pairCapacity = 16;
  this.m_pairCount = 0;
  this.m_pairBuffer = initDim(_3Lorg_jbox2d_collision_broadphase_Pair_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Pair, this.m_pairCapacity, 0);
  for (i = 0; i < this.m_pairCapacity; ++i) {
    this.m_pairBuffer[i] = new Pair_0;
  }
  this.m_moveCapacity = 16;
  this.m_moveCount = 0;
  this.m_moveBuffer = initDim(_3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$DynamicTreeNode, this.m_moveCapacity, 0);
  this.m_tree = new DynamicTree_0;
  this.m_queryProxy = null;
}

function BroadPhase(){
}

_ = BroadPhase_0.prototype = BroadPhase.prototype = new Object_0;
_.getClass$ = function getClass_125(){
  return Lorg_jbox2d_collision_broadphase_BroadPhase_2_classLit;
}
;
_.m_moveBuffer = null;
_.m_moveCapacity = 0;
_.m_moveCount = 0;
_.m_pairBuffer = null;
_.m_pairCapacity = 0;
_.m_pairCount = 0;
_.m_proxyCount = 0;
_.m_queryProxy = null;
_.m_tree = null;
function $allocateNode(this$static){
  var node;
  if (this$static.nodeStack.arrayList.size == 0) {
    $push(this$static.nodeStack, new DynamicTreeNode_0);
    $push(this$static.nodeStack, new DynamicTreeNode_0);
    $push(this$static.nodeStack, new DynamicTreeNode_0);
    $push(this$static.nodeStack, new DynamicTreeNode_0);
    $push(this$static.nodeStack, new DynamicTreeNode_0);
    $push(this$static.nodeStack, new DynamicTreeNode_0);
  }
  node = $pop(this$static.nodeStack);
  node.parent_0 = null;
  node.child1 = null;
  node.child2 = null;
  node.userData = null;
  node.key_0 = this$static.nodeCounter++;
  ++this$static.m_nodeCount;
  return node;
}

function $computeHeight(this$static, argNode){
  var height1, height2;
  if (!argNode) {
    return 0;
  }
  height1 = $computeHeight(this$static, argNode.child1);
  height2 = $computeHeight(this$static, argNode.child2);
  return 1 + ($clinit_MathUtils() , height1 > height2?height1:height2);
}

function $createProxy_0(this$static, argAABB, argUserData){
  var height, iterationCount, proxy, tryCount;
  proxy = $allocateNode(this$static);
  proxy.aabb.lowerBound.x = argAABB.lowerBound.x - ($clinit_Settings() , 0.10000000149011612);
  proxy.aabb.lowerBound.y = argAABB.lowerBound.y - 0.10000000149011612;
  proxy.aabb.upperBound.x = argAABB.upperBound.x + 0.10000000149011612;
  proxy.aabb.upperBound.y = argAABB.upperBound.y + 0.10000000149011612;
  proxy.userData = argUserData;
  $insertLeaf(this$static, proxy);
  iterationCount = ~~this$static.m_nodeCount >> 4;
  tryCount = 0;
  height = $computeHeight(this$static, this$static.m_root);
  while (height > 64 && tryCount < 10) {
    $rebalance(this$static, iterationCount);
    height = $computeHeight(this$static, this$static.m_root);
    ++tryCount;
  }
  return proxy;
}

function $insertLeaf(this$static, argNode){
  var child1, child2, node1, node2, norm1, norm2, sibling;
  ++this$static.m_insertionCount;
  if (!this$static.m_root) {
    this$static.m_root = argNode;
    argNode.parent_0 = null;
    return;
  }
  $getCenterToOut(argNode.aabb, this$static.center);
  sibling = this$static.m_root;
  if (sibling.child1) {
    do {
      child1 = sibling.child1;
      child2 = sibling.child2;
      $getCenterToOut(child1.aabb, this$static.delta1);
      $getCenterToOut(child2.aabb, this$static.delta2);
      $absLocal($subLocal(this$static.delta1, this$static.center));
      $absLocal($subLocal(this$static.delta2, this$static.center));
      norm1 = this$static.delta1.x + this$static.delta1.y;
      norm2 = this$static.delta2.x + this$static.delta2.y;
      norm1 < norm2?(sibling = child1):(sibling = child2);
    }
     while (sibling.child1);
  }
  node1 = sibling.parent_0;
  node2 = $allocateNode(this$static);
  node2.parent_0 = node1;
  node2.userData = null;
  $combine(node2.aabb, argNode.aabb, sibling.aabb);
  if (node1) {
    sibling.parent_0.child1 == sibling?(node1.child1 = node2):(node1.child2 = node2);
    node2.child1 = sibling;
    node2.child2 = argNode;
    sibling.parent_0 = node2;
    argNode.parent_0 = node2;
    do {
      if ($contains(node1.aabb, node2.aabb)) {
        break;
      }
      $combine(node1.aabb, node1.child1.aabb, node1.child2.aabb);
      node2 = node1;
      node1 = node1.parent_0;
    }
     while (node1);
  }
   else {
    node2.child1 = sibling;
    node2.child2 = argNode;
    sibling.parent_0 = node2;
    argNode.parent_0 = node2;
    this$static.m_root = node2;
  }
}

function $moveProxy_0(this$static, argProxy, argAABB, displacement){
  if ($contains(argProxy.aabb, argAABB)) {
    return false;
  }
  $removeLeaf(this$static, argProxy);
  argAABB.lowerBound.x -= ($clinit_Settings() , 0.10000000149011612);
  argAABB.lowerBound.y -= 0.10000000149011612;
  argAABB.upperBound.x += 0.10000000149011612;
  argAABB.upperBound.y += 0.10000000149011612;
  $mulLocal($set_15(this$static.d, displacement), 2);
  this$static.d.x < 0?(argAABB.lowerBound.x += this$static.d.x):(argAABB.upperBound.x += this$static.d.x);
  this$static.d.y < 0?(argAABB.lowerBound.y += this$static.d.y):(argAABB.upperBound.y += this$static.d.y);
  $set_2(argProxy.aabb, argAABB);
  $insertLeaf(this$static, argProxy);
  return true;
}

function $query(this$static, argCallback, argAABB){
  $query_0(this$static, argCallback, argAABB, this$static.m_root, 1);
}

--></script>
<script><!--
function $query_0(this$static, argCallback, argAABB, argNode, count){
  var proceed;
  if (!argNode) {
    return true;
  }
  if (testOverlap(argAABB, argNode.aabb)) {
    if (!argNode.child1) {
      proceed = $treeCallback(argCallback, argNode);
      if (!proceed) {
        return false;
      }
    }
     else {
      if (count < 128) {
        proceed = $query_0(this$static, argCallback, argAABB, argNode.child1, ++count);
        if (!proceed) {
          return false;
        }
      }
      if (count < 128) {
        proceed = $query_0(this$static, argCallback, argAABB, argNode.child2, ++count);
        if (!proceed) {
          return false;
        }
      }
    }
  }
  return true;
}

function $rebalance(this$static, argIterations){
  var bit, currNode, goLeft, i;
  if (!this$static.m_root) {
    return;
  }
  for (i = 0; i < argIterations; ++i) {
    currNode = this$static.m_root;
    bit = 0;
    while (currNode.child1) {
      goLeft = ~~this$static.m_path >> bit & 1;
      goLeft == 0?(currNode = currNode.child1):(currNode = currNode.child2);
      bit = bit + 1 & 31;
    }
    ++this$static.m_path;
    $removeLeaf(this$static, currNode);
    $insertLeaf(this$static, currNode);
  }
}

function $removeLeaf(this$static, argNode){
  var node1, node2, sibling;
  if (argNode == this$static.m_root) {
    this$static.m_root = null;
    this$static.lastLeaf == argNode && (this$static.lastLeaf = null);
    return;
  }
  node2 = argNode.parent_0;
  node1 = node2.parent_0;
  node2.child1 == argNode?(sibling = node2.child2):(sibling = node2.child1);
  if (node1) {
    node1.child1 == node2?(node1.child1 = sibling):(node1.child2 = sibling);
    sibling.parent_0 = node1;
    $push(this$static.nodeStack, node2);
    --this$static.m_nodeCount;
    while (node1) {
      $set_2(this$static.oldAABB, node1.aabb);
      $combine(node1.aabb, node1.child1.aabb, node1.child2.aabb);
      if ($contains(this$static.oldAABB, node1.aabb)) {
        break;
      }
      node1 = node1.parent_0;
    }
  }
   else {
    this$static.m_root = sibling;
    sibling.parent_0 = null;
    $push(this$static.nodeStack, node2);
    --this$static.m_nodeCount;
  }
  this$static.lastLeaf == argNode && (this$static.lastLeaf = this$static.m_root);
}

function DynamicTree_0(){
  var i;
  this.nodeStack = new Stack_0;
  this.drawVecs = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, 4, 0);
  this.d = new Vec2_0;
  new OrderedStackVec2_0(388);
  new AABB_0;
  new RayCastInput_0;
  this.center = new Vec2_0;
  this.delta1 = new Vec2_0;
  this.delta2 = new Vec2_0;
  this.oldAABB = new AABB_0;
  new Vec2_0;
  this.m_root = null;
  this.m_nodeCount = 0;
  this.m_insertionCount = 0;
  this.m_path = 0;
  this.lastLeaf = null;
  for (i = 0; i < this.drawVecs.length; ++i) {
    this.drawVecs[i] = new Vec2_0;
  }
}

function DynamicTree(){
}

_ = DynamicTree_0.prototype = DynamicTree.prototype = new Object_0;
_.getClass$ = function getClass_126(){
  return Lorg_jbox2d_collision_broadphase_DynamicTree_2_classLit;
}
;
_.lastLeaf = null;
_.m_insertionCount = 0;
_.m_nodeCount = 0;
_.m_path = 0;
_.m_root = null;
_.nodeCounter = 0;
function DynamicTreeNode_0(){
  this.aabb = new AABB_0;
}

function DynamicTreeNode(){
}

_ = DynamicTreeNode_0.prototype = DynamicTreeNode.prototype = new Object_0;
_.getClass$ = function getClass_127(){
  return Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$DynamicTreeNode]);
_.child1 = null;
_.child2 = null;
_.key_0 = 0;
_.parent_0 = null;
_.userData = null;
function $compareTo(this$static, pair2){
  if (this$static.proxyA.key_0 < pair2.proxyA.key_0) {
    return -1;
  }
  if (this$static.proxyA.key_0 == pair2.proxyA.key_0) {
    return this$static.proxyB.key_0 < pair2.proxyB.key_0?-1:this$static.proxyB.key_0 == pair2.proxyB.key_0?0:1;
  }
  return 1;
}

function Pair_0(){
}

function Pair(){
}

_ = Pair_0.prototype = Pair.prototype = new Object_0;
_.getClass$ = function getClass_128(){
  return Lorg_jbox2d_collision_broadphase_Pair_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Pair]);
_.proxyA = null;
_.proxyB = null;
_.stableIdx = 0;
function Pair$StableComparator_0(){
}

function Pair$StableComparator(){
}

_ = Pair$StableComparator_0.prototype = Pair$StableComparator.prototype = new Object_0;
_.compare = function compare_0(pair1, pair2){
  var stdRtn;
  return stdRtn = $compareTo(pair1, pair2) , stdRtn == 0?pair1.stableIdx < pair2.stableIdx?-1:pair1.stableIdx > pair2.stableIdx?1:0:stdRtn;
}
;
_.getClass$ = function getClass_129(){
  return Lorg_jbox2d_collision_broadphase_Pair$StableComparator_2_classLit;
}
;
function MassData_0(){
  this.mass = this.I = 0;
  this.center = new Vec2_0;
}

function MassData(){
}

_ = MassData_0.prototype = MassData.prototype = new Object_0;
_.getClass$ = function getClass_130(){
  return Lorg_jbox2d_collision_shapes_MassData_2_classLit;
}
;
_.I = 0;
_.center = null;
_.mass = 0;
function Shape_1(){
}

_ = Shape_1.prototype = new Object_0;
_.getClass$ = function getClass_131(){
  return Lorg_jbox2d_collision_shapes_Shape_2_classLit;
}
;
_.m_radius = 0;
_.m_type = null;
function $clone(this$static){
  var i, shape;
  shape = new PolygonShape_0;
  $set_15(shape.m_centroid, this$static.m_centroid);
  for (i = 0; i < shape.m_normals.length; ++i) {
    $set_15(shape.m_normals[i], this$static.m_normals[i]);
    $set_15(shape.m_vertices[i], this$static.m_vertices[i]);
  }
  shape.m_radius = this$static.m_radius;
  shape.m_vertexCount = this$static.m_vertexCount;
  return shape;
}

function $computeAABB(this$static, argAabb, argXf){
  var i, lower, upper, v;
  lower = this$static.pool1;
  upper = this$static.pool2;
  v = this$static.pool3;
  mulToOut_0(argXf, this$static.m_vertices[0], lower);
  $set_15(upper, lower);
  for (i = 1; i < this$static.m_vertexCount; ++i) {
    mulToOut_0(argXf, this$static.m_vertices[i], v);
    lower.x = lower.x < v.x?lower.x:v.x;
    lower.y = lower.y < v.y?lower.y:v.y;
    upper.x = upper.x > v.x?upper.x:v.x;
    upper.y = upper.y > v.y?upper.y:v.y;
  }
  argAabb.lowerBound.x = lower.x - this$static.m_radius;
  argAabb.lowerBound.y = lower.y - this$static.m_radius;
  argAabb.upperBound.x = upper.x + this$static.m_radius;
  argAabb.upperBound.y = upper.y + this$static.m_radius;
}

function $computeMass(this$static, massData, density){
  var D, I, area, center, e1, e2, ex1, ex2, ey1, ey2, i, intx2, inty2, p2, p3, pRef, px, py, triangleArea;
  if (this$static.m_vertexCount == 2) {
    $mulLocal($addLocal($set_15(massData.center, this$static.m_vertices[0]), this$static.m_vertices[1]), 0.5);
    massData.mass = 0;
    massData.I = 0;
    return;
  }
  center = this$static.pool1;
  center.x = 0;
  center.y = 0;
  area = 0;
  I = 0;
  pRef = this$static.pool2;
  pRef.x = 0;
  pRef.y = 0;
  e1 = this$static.pool3;
  e2 = this$static.pool4;
  for (i = 0; i < this$static.m_vertexCount; ++i) {
    p2 = this$static.m_vertices[i];
    p3 = i + 1 < this$static.m_vertexCount?this$static.m_vertices[i + 1]:this$static.m_vertices[0];
    $set_15(e1, p2);
    $subLocal(e1, pRef);
    $set_15(e2, p3);
    $subLocal(e2, pRef);
    D = e1.x * e2.y - e1.y * e2.x;
    triangleArea = 0.5 * D;
    area += triangleArea;
    center.x += triangleArea * 0.3333333432674408 * (pRef.x + p2.x + p3.x);
    center.y += triangleArea * 0.3333333432674408 * (pRef.y + p2.y + p3.y);
    px = pRef.x;
    py = pRef.y;
    ex1 = e1.x;
    ey1 = e1.y;
    ex2 = e2.x;
    ey2 = e2.y;
    intx2 = 0.3333333432674408 * (0.25 * (ex1 * ex1 + ex2 * ex1 + ex2 * ex2) + (px * ex1 + px * ex2)) + 0.5 * px * px;
    inty2 = 0.3333333432674408 * (0.25 * (ey1 * ey1 + ey2 * ey1 + ey2 * ey2) + (py * ey1 + py * ey2)) + 0.5 * py * py;
    I += D * (intx2 + inty2);
  }
  massData.mass = density * area;
  $mulLocal(center, 1 / area);
  $set_15(massData.center, center);
  massData.I = I * density;
}

function $setAsBox(this$static, hx, hy){
  this$static.m_vertexCount = 4;
  $set_14(this$static.m_vertices[0], -hx, -hy);
  $set_14(this$static.m_vertices[1], hx, -hy);
  $set_14(this$static.m_vertices[2], hx, hy);
  $set_14(this$static.m_vertices[3], -hx, hy);
  $set_14(this$static.m_normals[0], 0, -1);
  $set_14(this$static.m_normals[1], 1, 0);
  $set_14(this$static.m_normals[2], 0, 1);
  $set_14(this$static.m_normals[3], -1, 0);
  $setZero(this$static.m_centroid);
}

function PolygonShape_0(){
  var i;
  this.m_type = ($clinit_ShapeType() , UNKNOWN_0);
  this.m_centroid = new Vec2_0;
  this.pool1 = new Vec2_0;
  this.pool2 = new Vec2_0;
  this.pool3 = new Vec2_0;
  this.pool4 = new Vec2_0;
  new Vec2_0;
  new Vec2_0;
  new Transform_0;
  this.m_type = POLYGON;
  this.m_vertexCount = 0;
  this.m_vertices = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, ($clinit_Settings() , 8), 0);
  for (i = 0; i < this.m_vertices.length; ++i) {
    this.m_vertices[i] = new Vec2_0;
  }
  this.m_normals = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, 8, 0);
  for (i = 0; i < this.m_normals.length; ++i) {
    this.m_normals[i] = new Vec2_0;
  }
  this.m_radius = 0.009999999776482582;
  $setZero(this.m_centroid);
}

function PolygonShape(){
}

_ = PolygonShape_0.prototype = PolygonShape.prototype = new Shape_1;
_.getClass$ = function getClass_132(){
  return Lorg_jbox2d_collision_shapes_PolygonShape_2_classLit;
}
;
_.m_normals = null;
_.m_vertexCount = 0;
_.m_vertices = null;
function $clinit_ShapeType(){
  $clinit_ShapeType = nullMethod;
  UNKNOWN_0 = new ShapeType_0('UNKNOWN', 0, -1);
  CIRCLE = new ShapeType_0('CIRCLE', 1, 0);
  POLYGON = new ShapeType_0('POLYGON', 2, 1);
  $VALUES_7 = initValues(_3Lorg_jbox2d_collision_shapes_ShapeType_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$ShapeType, [UNKNOWN_0, CIRCLE, POLYGON]);
}

function ShapeType_0(enum$name, enum$ordinal, argValue){
  Enum_0.call(this, enum$name, enum$ordinal);
  this.intValue = argValue;
}

function values_7(){
  $clinit_ShapeType();
  return $VALUES_7;
}

function ShapeType(){
}

_ = ShapeType_0.prototype = ShapeType.prototype = new Enum;
_.getClass$ = function getClass_133(){
  return Lorg_jbox2d_collision_shapes_ShapeType_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$ShapeType]);
_.intValue = 0;
var $VALUES_7, CIRCLE, POLYGON, UNKNOWN_0;
function $invertLocal(this$static){
  var a, b, c, d, det;
  a = this$static.m11;
  b = this$static.m21;
  c = this$static.m12;
  d = this$static.m22;
  det = a * d - b * c;
  det != 0 && (det = 1 / det);
  this$static.m11 = det * d;
  this$static.m21 = -det * b;
  this$static.m12 = -det * c;
  this$static.m22 = det * a;
  return this$static;
}

function $set_10(this$static, m){
  this$static.m11 = m.m11;
  this$static.m12 = m.m12;
  this$static.m21 = m.m21;
  this$static.m22 = m.m22;
  return this$static;
}

function $set_11(this$static, angle){
  var c, s;
  c = Math.cos(angle);
  s = Math.sin(angle);
  this$static.m11 = c;
  this$static.m21 = -s;
  this$static.m12 = s;
  this$static.m22 = c;
}

function $setIdentity(this$static){
  this$static.m11 = 1;
  this$static.m21 = 0;
  this$static.m12 = 0;
  this$static.m22 = 1;
}

function Mat22_0(){
}

function mulToOut(R, v, out){
  var tempy;
  tempy = R.m12 * v.x + R.m22 * v.y;
  out.x = R.m11 * v.x + R.m21 * v.y;
  out.y = tempy;
}

function mulTransToOut(R, v, out){
  var outx;
  outx = v.x * R.m11 + v.y * R.m12;
  out.y = v.x * R.m21 + v.y * R.m22;
  out.x = outx;
}

function Mat22(){
}

_ = Mat22_0.prototype = Mat22.prototype = new Object_0;
_.getClass$ = function getClass_134(){
  return Lorg_jbox2d_common_Mat22_2_classLit;
}
;
_.toString$ = function toString_17(){
  var s;
  s = '';
  s += '[' + this.m11 + ',' + this.m21 + ']\n';
  s += '[' + this.m12 + ',' + this.m22 + ']';
  return s;
}
;
_.castableTypeMap$ = makeCastMap([Q$Mat22]);
_.m11 = 0;
_.m12 = 0;
_.m21 = 0;
_.m22 = 0;
function $clinit_MathUtils(){
  $clinit_MathUtils = nullMethod;
  var i;
  sinLUT = initDim(_3F_classLit, makeCastMap([Q$Serializable]), -1, ($clinit_Settings() , SINCOS_LUT_LENGTH), 1);
  cosLUT = initDim(_3F_classLit, makeCastMap([Q$Serializable]), -1, SINCOS_LUT_LENGTH, 1);
  for (i = 0; i < SINCOS_LUT_LENGTH; ++i) {
    sinLUT[i] = Math.sin(i * 1.1000000085914508E-4);
    cosLUT[i] = Math.cos(i * 1.1000000085914508E-4);
  }
}

function abs_0(x){
  $clinit_MathUtils();
  return x > 0?x:-x;
}

function clamp(a, low, high){
  $clinit_MathUtils();
  return low > (a < high?a:high)?low:a < high?a:high;
}

function distanceSquared(v1, v2){
  $clinit_MathUtils();
  var dx, dy;
  dx = v1.x - v2.x;
  dy = v1.y - v2.y;
  return dx * dx + dy * dy;
}

function floor(x){
  $clinit_MathUtils();
  var y;
  y = round_int(x);
  x < 0 && x != y && --y;
  return y;
}

function max(a, b){
  $clinit_MathUtils();
  return a > b?a:b;
}

function max_0(a, b){
  $clinit_MathUtils();
  return a > b?a:b;
}

function min(a, b){
  $clinit_MathUtils();
  return a < b?a:b;
}

var cosLUT, sinLUT;
function $clinit_Settings(){
  $clinit_Settings = nullMethod;
  SINCOS_LUT_LENGTH = round_int(Math.ceil(57119.86598277577));
}

function mixFriction(friction1, friction2){
  $clinit_Settings();
  return $clinit_MathUtils() , Math.sqrt(friction1 * friction2);
}

function mixRestitution(restitution1, restitution2){
  $clinit_Settings();
  return restitution1 > restitution2?restitution1:restitution2;
}

var SINCOS_LUT_LENGTH;
function $advance(this$static, t){
  this$static.c0.x = (1 - t) * this$static.c0.x + t * this$static.c.x;
  this$static.c0.y = (1 - t) * this$static.c0.y + t * this$static.c.y;
  this$static.a0 = (1 - t) * this$static.a0 + t * this$static.a_0;
}

function $getTransform(this$static, xf, alpha){
  xf.position_0.x = (1 - alpha) * this$static.c0.x + alpha * this$static.c.x;
  xf.position_0.y = (1 - alpha) * this$static.c0.y + alpha * this$static.c.y;
  $set_11(xf.R, (1 - alpha) * this$static.a0 + alpha * this$static.a_0);
  xf.position_0.x -= xf.R.m11 * this$static.localCenter.x + xf.R.m21 * this$static.localCenter.y;
  xf.position_0.y -= xf.R.m12 * this$static.localCenter.x + xf.R.m22 * this$static.localCenter.y;
}

function $normalize(this$static){
  var d;
  d = 6.2831854820251465 * floor(this$static.a0 / 6.2831854820251465);
  this$static.a0 -= d;
  this$static.a_0 -= d;
}

function $set_12(this$static, argCloneFrom){
  $set_15(this$static.localCenter, argCloneFrom.localCenter);
  $set_15(this$static.c0, argCloneFrom.c0);
  $set_15(this$static.c, argCloneFrom.c);
  this$static.a0 = argCloneFrom.a0;
  this$static.a_0 = argCloneFrom.a_0;
  return this$static;
}

function Sweep_0(){
  this.localCenter = new Vec2_0;
  this.c0 = new Vec2_0;
  this.c = new Vec2_0;
}

function Sweep(){
}

_ = Sweep_0.prototype = Sweep.prototype = new Object_0;
_.getClass$ = function getClass_135(){
  return Lorg_jbox2d_common_Sweep_2_classLit;
}
;
_.toString$ = function toString_18(){
  var s;
  s = 'Sweep:\nlocalCenter: ' + this.localCenter + '\n';
  s += 'c0: ' + this.c0 + ', c: ' + this.c + '\n';
  s += 'a0: ' + this.a0 + ', a: ' + this.a_0 + '\n';
  return s;
}
;
_.a_0 = 0;
_.a0 = 0;
_.c = null;
_.c0 = null;
_.localCenter = null;
function $clinit_Transform(){
  $clinit_Transform = nullMethod;
  identity = new Transform_0;
  $setIdentity_0(identity);
}

function $set_13(this$static, xf){
  $set_15(this$static.position_0, xf.position_0);
  $set_10(this$static.R, xf.R);
  return this$static;
}

function $setIdentity_0(this$static){
  $setZero(this$static.position_0);
  $setIdentity(this$static.R);
}

function Transform_0(){
  $clinit_Transform();
  this.position_0 = new Vec2_0;
  this.R = new Mat22_0;
}

function mulToOut_0(T, v, out){
  $clinit_Transform();
  var tempy;
  tempy = T.position_0.y + T.R.m12 * v.x + T.R.m22 * v.y;
  out.x = T.position_0.x + T.R.m11 * v.x + T.R.m21 * v.y;
  out.y = tempy;
}

function mulTransToOut_0(T, v, out){
  $clinit_Transform();
  var tempy, v1x, v1y;
  v1x = v.x - T.position_0.x;
  v1y = v.y - T.position_0.y;
  tempy = v1x * T.R.m21 + v1y * T.R.m22;
  out.x = v1x * T.R.m11 + v1y * T.R.m12;
  out.y = tempy;
}

function Transform(){
}

_ = Transform_0.prototype = Transform.prototype = new Object_0;
_.getClass$ = function getClass_136(){
  return Lorg_jbox2d_common_Transform_2_classLit;
}
;
_.toString$ = function toString_19(){
  var s;
  s = 'XForm:\n';
  s += 'Position: ' + this.position_0 + '\n';
  s += 'R: \n' + this.R + '\n';
  return s;
}
;
_.R = null;
_.position_0 = null;
var identity = null;
function $absLocal(this$static){
  this$static.x = abs_0(this$static.x);
  this$static.y = abs_0(this$static.y);
}

function $addLocal(this$static, v){
  this$static.x += v.x;
  this$static.y += v.y;
  return this$static;
}

function $length(this$static){
  return $clinit_MathUtils() , sqrt(this$static.x * this$static.x + this$static.y * this$static.y);
}

function $lengthSquared(this$static){
  return this$static.x * this$static.x + this$static.y * this$static.y;
}

function $mulLocal(this$static, a){
  this$static.x *= a;
  this$static.y *= a;
  return this$static;
}

function $negateLocal(this$static){
  this$static.x = -this$static.x;
  this$static.y = -this$static.y;
  return this$static;
}

function $normalize_0(this$static){
  var invLength, length_0;
  length_0 = ($clinit_MathUtils() , sqrt(this$static.x * this$static.x + this$static.y * this$static.y));
  if (length_0 < 1.1920928955078125E-7) {
    return 0;
  }
  invLength = 1 / length_0;
  this$static.x *= invLength;
  this$static.y *= invLength;
  return length_0;
}

function $set_14(this$static, x, y){
  this$static.x = x;
  this$static.y = y;
  return this$static;
}

function $set_15(this$static, v){
  this$static.x = v.x;
  this$static.y = v.y;
  return this$static;
}

function $setZero(this$static){
  this$static.x = 0;
  this$static.y = 0;
}

function $subLocal(this$static, v){
  this$static.x -= v.x;
  this$static.y -= v.y;
  return this$static;
}

function Vec2_0(){
  Vec2_1.call(this, 0, 0);
}

function Vec2_1(x, y){
  this.x = x;
  this.y = y;
}

function cross(a, b){
  return a.x * b.y - a.y * b.x;
}

function crossToOut(a, s, out){
  var tempy;
  tempy = -s * a.x;
  out.x = s * a.y;
  out.y = tempy;
}

function crossToOut_0(s, a, out){
  var tempY;
  tempY = s * a.x;
  out.x = -s * a.y;
  out.y = tempY;
}

function dot_0(a, b){
  return a.x * b.x + a.y * b.y;
}

function Vec2(){
}

_ = Vec2_1.prototype = Vec2_0.prototype = Vec2.prototype = new Object_0;
_.equals$ = function equals_9(obj){
  var other;
  if (this === obj)
    return true;
  if (obj == null)
    return false;
  if (Lorg_jbox2d_common_Vec2_2_classLit != getClass__devirtual$(obj))
    return false;
  other = obj;
  if (this.x != other.x)
    return false;
  if (this.y != other.y)
    return false;
  return true;
}
;
_.getClass$ = function getClass_137(){
  return Lorg_jbox2d_common_Vec2_2_classLit;
}
;
_.hashCode$ = function hashCode_10(){
  var result;
  result = 31 + round_int(this.x);
  result = 31 * result + round_int(this.y);
  return result;
}
;
_.toString$ = function toString_20(){
  return '(' + this.x + ',' + this.y + ')';
}
;
_.castableTypeMap$ = makeCastMap([Q$Vec2]);
_.x = 0;
_.y = 0;
function Vec3_0(){
  this.x = this.y = this.z = 0;
}

function Vec3(){
}

_ = Vec3_0.prototype = Vec3.prototype = new Object_0;
_.equals$ = function equals_10(obj){
  var other;
  if (this === obj)
    return true;
  if (obj == null)
    return false;
  if (Lorg_jbox2d_common_Vec3_2_classLit != getClass__devirtual$(obj))
    return false;
  other = obj;
  if (this.x != other.x)
    return false;
  if (this.y != other.y)
    return false;
  if (this.z != other.z)
    return false;
  return true;
}
;
_.getClass$ = function getClass_138(){
  return Lorg_jbox2d_common_Vec3_2_classLit;
}
;
_.hashCode$ = function hashCode_11(){
  var result;
  result = 31 + round_int(this.x);
  result = 31 * result + round_int(this.y);
  result = 31 * result + round_int(this.z);
  return result;
}
;
_.toString$ = function toString_21(){
  return '(' + this.x + ',' + this.y + ',' + this.z + ')';
}
;
_.castableTypeMap$ = makeCastMap([Q$Vec3]);
_.x = 0;
_.y = 0;
_.z = 0;
function $advance_0(this$static, t){
  $advance(this$static.m_sweep, t);
  $set_15(this$static.m_sweep.c, this$static.m_sweep.c0);
  this$static.m_sweep.a_0 = this$static.m_sweep.a0;
  $synchronizeTransform(this$static);
}

function $createFixture(this$static, def){
  var broadPhase, fixture;
  if ((this$static.m_world.m_flags & 2) == 2) {
    return null;
  }
  fixture = new Fixture_0;
  fixture.m_friction = def.friction;
  fixture.m_restitution = def.restitution;
  fixture.m_body = this$static;
  fixture.m_next = null;
  $set_16(fixture.m_filter, def.filter);
  fixture.m_isSensor = def.isSensor;
  fixture.m_shape = $clone(def.shape);
  fixture.m_density = def.density;
  if ((this$static.m_flags & 32) == 32) {
    broadPhase = this$static.m_world.m_contactManager.m_broadPhase;
    $createProxy_1(fixture, broadPhase, this$static.m_xf);
  }
  fixture.m_next = this$static.m_fixtureList;
  this$static.m_fixtureList = fixture;
  ++this$static.m_fixtureCount;
  fixture.m_body = this$static;
  fixture.m_density > 0 && $resetMassData(this$static);
  this$static.m_world.m_flags |= 1;
  return fixture;
}

function $getWorldPointToOut(this$static, localPoint, out){
  mulToOut_0(this$static.m_xf, localPoint, out);
}

function $getWorldVectorToOut(this$static, localVector, out){
  mulToOut(this$static.m_xf.R, localVector, out);
}

function $resetMassData(this$static){
  var center, f, massData, oldCenter, temp;
  this$static.m_mass = 0;
  this$static.m_invMass = 0;
  this$static.m_I = 0;
  this$static.m_invI = 0;
  $setZero(this$static.m_sweep.localCenter);
  if (this$static.m_type == ($clinit_BodyType() , STATIC_0) || this$static.m_type == KINEMATIC) {
    $set_15(this$static.m_sweep.c, this$static.m_xf.position_0);
    $set_15(this$static.m_sweep.c0, this$static.m_xf.position_0);
    return;
  }
  center = $pop_1(this$static.m_world.pool.vecs);
  center.x = 0;
  center.y = 0;
  temp = $pop_1(this$static.m_world.pool.vecs);
  massData = this$static.pmd;
  for (f = this$static.m_fixtureList; f; f = f.m_next) {
    if (f.m_density == 0) {
      continue;
    }
    $computeMass(f.m_shape, massData, f.m_density);
    this$static.m_mass += massData.mass;
    $mulLocal($set_15(temp, massData.center), massData.mass);
    $addLocal(center, temp);
    this$static.m_I += massData.I;
  }
  if (this$static.m_mass > 0) {
    this$static.m_invMass = 1 / this$static.m_mass;
    $mulLocal(center, this$static.m_invMass);
  }
   else {
    this$static.m_mass = 1;
    this$static.m_invMass = 1;
  }
  if (this$static.m_I > 0 && (this$static.m_flags & 16) == 0) {
    this$static.m_I -= this$static.m_mass * (center.x * center.x + center.y * center.y);
    this$static.m_invI = 1 / this$static.m_I;
  }
   else {
    this$static.m_I = 0;
    this$static.m_invI = 0;
  }
  oldCenter = $pop_1(this$static.m_world.pool.vecs);
  $set_15(oldCenter, this$static.m_sweep.c);
  $set_15(this$static.m_sweep.localCenter, center);
  mulToOut_0(this$static.m_xf, this$static.m_sweep.localCenter, this$static.m_sweep.c0);
  $set_15(this$static.m_sweep.c, this$static.m_sweep.c0);
  $subLocal($set_15(temp, this$static.m_sweep.c), oldCenter);
  crossToOut_0(this$static.m_angularVelocity, temp, temp);
  $addLocal(this$static.m_linearVelocity, temp);
  this$static.m_world.pool.vecs.index_0 -= 3;
}

function $setAwake(this$static, flag){
  if (flag) {
    if ((this$static.m_flags & 2) == 0) {
      this$static.m_flags |= 2;
      this$static.m_sleepTime = 0;
    }
  }
   else {
    this$static.m_flags &= -3;
    this$static.m_sleepTime = 0;
    $setZero(this$static.m_linearVelocity);
    this$static.m_angularVelocity = 0;
    $setZero(this$static.m_force);
    this$static.m_torque = 0;
  }
}

function $shouldCollide_0(this$static, other){
  if (this$static.m_type != ($clinit_BodyType() , DYNAMIC) && other.m_type != DYNAMIC) {
    return false;
  }
  return true;
}

function $synchronizeFixtures(this$static){
  var broadPhase, f, xf1;
  xf1 = this$static.pxf;
  $set_11(xf1.R, this$static.m_sweep.a0);
  mulToOut(xf1.R, this$static.m_sweep.localCenter, xf1.position_0);
  $addLocal($mulLocal(xf1.position_0, -1), this$static.m_sweep.c0);
  broadPhase = this$static.m_world.m_contactManager.m_broadPhase;
  for (f = this$static.m_fixtureList; f; f = f.m_next) {
    $synchronize(f, broadPhase, xf1, this$static.m_xf);
  }
}

function $synchronizeTransform(this$static){
  var c, s;
  c = ($clinit_MathUtils() , cos(this$static.m_sweep.a_0));
  s = sin(this$static.m_sweep.a_0);
  this$static.m_xf.R.m11 = c;
  this$static.m_xf.R.m21 = -s;
  this$static.m_xf.R.m12 = s;
  this$static.m_xf.R.m22 = c;
  this$static.m_xf.position_0.x = this$static.m_xf.R.m11 * this$static.m_sweep.localCenter.x + this$static.m_xf.R.m21 * this$static.m_sweep.localCenter.y;
  this$static.m_xf.position_0.y = this$static.m_xf.R.m12 * this$static.m_sweep.localCenter.x + this$static.m_xf.R.m22 * this$static.m_sweep.localCenter.y;
  this$static.m_xf.position_0.x *= -1;
  this$static.m_xf.position_0.y *= -1;
  this$static.m_xf.position_0.x += this$static.m_sweep.c.x;
  this$static.m_xf.position_0.y += this$static.m_sweep.c.y;
}

function Body_0(bd, world){
  this.m_xf = new Transform_0;
  this.m_sweep = new Sweep_0;
  this.m_linearVelocity = new Vec2_0;
  this.m_force = new Vec2_0;
  new FixtureDef_0;
  this.pmd = new MassData_0;
  this.pxf = new Transform_0;
  this.m_flags = 0;
  bd.bullet && (this.m_flags |= 8);
  bd.fixedRotation && (this.m_flags |= 16);
  bd.allowSleep && (this.m_flags |= 4);
  bd.awake && (this.m_flags |= 2);
  bd.active && (this.m_flags |= 32);
  this.m_world = world;
  $set_15(this.m_xf.position_0, bd.position_0);
  $set_11(this.m_xf.R, bd.angle);
  $setZero(this.m_sweep.localCenter);
  this.m_sweep.a0 = this.m_sweep.a_0 = bd.angle;
  mulToOut_0(this.m_xf, this.m_sweep.localCenter, this.m_sweep.c0);
  $set_15(this.m_sweep.c, this.m_sweep.c0);
  this.m_contactList = null;
  this.m_next = null;
  $set_15(this.m_linearVelocity, bd.linearVelocity);
  this.m_angularVelocity = bd.angularVelocity;
  this.m_linearDamping = bd.linearDamping;
  this.m_angularDamping = bd.angularDamping;
  $setZero(this.m_force);
  this.m_torque = 0;
  this.m_sleepTime = 0;
  this.m_type = bd.type;
  if (this.m_type == ($clinit_BodyType() , DYNAMIC)) {
    this.m_mass = 1;
    this.m_invMass = 1;
  }
   else {
    this.m_mass = 0;
    this.m_invMass = 0;
  }
  this.m_I = 0;
  this.m_invI = 0;
  this.m_fixtureList = null;
  this.m_fixtureCount = 0;
}

function Body(){
}

_ = Body_0.prototype = Body.prototype = new Object_0;
_.getClass$ = function getClass_139(){
  return Lorg_jbox2d_dynamics_Body_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Body]);
_.m_I = 0;
_.m_angularDamping = 0;
_.m_angularVelocity = 0;
_.m_contactList = null;
_.m_fixtureCount = 0;
_.m_fixtureList = null;
_.m_flags = 0;
_.m_invI = 0;
_.m_invMass = 0;
_.m_linearDamping = 0;
_.m_mass = 0;
_.m_next = null;
_.m_sleepTime = 0;
_.m_torque = 0;
_.m_type = null;
_.m_world = null;
function BodyDef_0(){
  this.position_0 = new Vec2_0;
  this.angle = 0;
  this.linearVelocity = new Vec2_0;
  this.angularVelocity = 0;
  this.linearDamping = 0;
  this.angularDamping = 0;
  this.allowSleep = true;
  this.awake = true;
  this.fixedRotation = false;
  this.bullet = false;
  this.type = ($clinit_BodyType() , STATIC_0);
  this.active = true;
}

function BodyDef(){
}

_ = BodyDef_0.prototype = BodyDef.prototype = new Object_0;
_.getClass$ = function getClass_140(){
  return Lorg_jbox2d_dynamics_BodyDef_2_classLit;
}
;
_.active = false;
_.allowSleep = false;
_.angle = 0;
_.angularDamping = 0;
_.angularVelocity = 0;
_.awake = false;
_.bullet = false;
_.fixedRotation = false;
_.linearDamping = 0;
_.linearVelocity = null;
_.position_0 = null;
_.type = null;
function $clinit_BodyType(){
  $clinit_BodyType = nullMethod;
  STATIC_0 = new BodyType_0('STATIC', 0);
  KINEMATIC = new BodyType_0('KINEMATIC', 1);
  DYNAMIC = new BodyType_0('DYNAMIC', 2);
  $VALUES_8 = initValues(_3Lorg_jbox2d_dynamics_BodyType_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$BodyType, [STATIC_0, KINEMATIC, DYNAMIC]);
}

function BodyType_0(enum$name, enum$ordinal){
  Enum_0.call(this, enum$name, enum$ordinal);
}

function values_8(){
  $clinit_BodyType();
  return $VALUES_8;
}

function BodyType(){
}

_ = BodyType_0.prototype = BodyType.prototype = new Enum;
_.getClass$ = function getClass_141(){
  return Lorg_jbox2d_dynamics_BodyType_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$BodyType]);
var $VALUES_8, DYNAMIC, KINEMATIC, STATIC_0;
--></script>
<script><!--
function $addPair(this$static, proxyUserDataA, proxyUserDataB){
  var bodyA, bodyB, c, edge, fA, fB, fixtureA, fixtureB;
  bodyA = proxyUserDataA.m_body;
  bodyB = proxyUserDataB.m_body;
  if (bodyA == bodyB) {
    return;
  }
  edge = bodyB.m_contactList;
  while (edge) {
    if (edge.other == bodyA) {
      fA = edge.contact.m_fixtureA;
      fB = edge.contact.m_fixtureB;
      if (fA == proxyUserDataA && fB == proxyUserDataB) {
        return;
      }
      if (fA == proxyUserDataB && fB == proxyUserDataA) {
        return;
      }
    }
    edge = edge.next;
  }
  if (!$shouldCollide_0(bodyB, bodyA)) {
    return;
  }
  if (!!this$static.m_contactFilter && !$shouldCollide(proxyUserDataA, proxyUserDataB)) {
    return;
  }
  c = $popContact(this$static.pool, proxyUserDataA, proxyUserDataB);
  fixtureA = c.m_fixtureA;
  fixtureB = c.m_fixtureB;
  bodyA = fixtureA.m_body;
  bodyB = fixtureB.m_body;
  c.m_prev = null;
  c.m_next = this$static.m_contactList;
  !!this$static.m_contactList && (this$static.m_contactList.m_prev = c);
  this$static.m_contactList = c;
  c.m_nodeA.contact = c;
  c.m_nodeA.other = bodyB;
  c.m_nodeA.prev = null;
  c.m_nodeA.next = bodyA.m_contactList;
  !!bodyA.m_contactList && (bodyA.m_contactList.prev = c.m_nodeA);
  bodyA.m_contactList = c.m_nodeA;
  c.m_nodeB.contact = c;
  c.m_nodeB.other = bodyA;
  c.m_nodeB.prev = null;
  c.m_nodeB.next = bodyB.m_contactList;
  !!bodyB.m_contactList && (bodyB.m_contactList.prev = c.m_nodeB);
  bodyB.m_contactList = c.m_nodeB;
  ++this$static.m_contactCount;
}

function $collide(this$static){
  var bodyA, bodyB, c, cNuke, fixtureA, fixtureB, overlap, proxyIdA, proxyIdB;
  c = this$static.m_contactList;
  while (c) {
    fixtureA = c.m_fixtureA;
    fixtureB = c.m_fixtureB;
    bodyA = fixtureA.m_body;
    bodyB = fixtureB.m_body;
    if ((bodyA.m_flags & 2) != 2 && (bodyB.m_flags & 2) != 2) {
      c = c.m_next;
      continue;
    }
    if ((c.m_flags & 8) == 8) {
      if (!$shouldCollide_0(bodyB, bodyA)) {
        cNuke = c;
        c = c.m_next;
        $destroy(this$static, cNuke);
        continue;
      }
      if (!!this$static.m_contactFilter && !$shouldCollide(fixtureA, fixtureB)) {
        cNuke = c;
        c = c.m_next;
        $destroy(this$static, cNuke);
        continue;
      }
      c.m_flags &= -9;
    }
    proxyIdA = fixtureA.m_proxy;
    proxyIdB = fixtureB.m_proxy;
    overlap = $testOverlap_0(proxyIdA, proxyIdB);
    if (!overlap) {
      cNuke = c;
      c = c.m_next;
      $destroy(this$static, cNuke);
      continue;
    }
    $update_0(c);
    c = c.m_next;
  }
}

function $destroy(this$static, c){
  var bodyA, bodyB, fixtureA, fixtureB;
  fixtureA = c.m_fixtureA;
  fixtureB = c.m_fixtureB;
  bodyA = fixtureA.m_body;
  bodyB = fixtureB.m_body;
  !!c.m_prev && (c.m_prev.m_next = c.m_next);
  !!c.m_next && (c.m_next.m_prev = c.m_prev);
  c == this$static.m_contactList && (this$static.m_contactList = c.m_next);
  !!c.m_nodeA.prev && (c.m_nodeA.prev.next = c.m_nodeA.next);
  !!c.m_nodeA.next && (c.m_nodeA.next.prev = c.m_nodeA.prev);
  c.m_nodeA == bodyA.m_contactList && (bodyA.m_contactList = c.m_nodeA.next);
  !!c.m_nodeB.prev && (c.m_nodeB.prev.next = c.m_nodeB.next);
  !!c.m_nodeB.next && (c.m_nodeB.next.prev = c.m_nodeB.prev);
  c.m_nodeB == bodyB.m_contactList && (bodyB.m_contactList = c.m_nodeB.next);
  $pushContact(this$static.pool, c);
  --this$static.m_contactCount;
}

function $findNewContacts(this$static){
  $updatePairs(this$static.m_broadPhase, this$static);
}

function ContactManager_0(argPool){
  this.m_contactList = null;
  this.m_contactCount = 0;
  this.m_contactFilter = new ContactFilter_0;
  this.m_broadPhase = new BroadPhase_0;
  this.pool = argPool;
}

function ContactManager(){
}

_ = ContactManager_0.prototype = ContactManager.prototype = new Object_0;
_.getClass$ = function getClass_142(){
  return Lorg_jbox2d_dynamics_ContactManager_2_classLit;
}
;
_.m_broadPhase = null;
_.m_contactCount = 0;
_.m_contactFilter = null;
_.m_contactList = null;
_.pool = null;
function $set_16(this$static, argOther){
  this$static.categoryBits = argOther.categoryBits;
  this$static.maskBits = argOther.maskBits;
  this$static.groupIndex = argOther.groupIndex;
}

function Filter_0(){
}

function Filter(){
}

_ = Filter_0.prototype = Filter.prototype = new Object_0;
_.getClass$ = function getClass_143(){
  return Lorg_jbox2d_dynamics_Filter_2_classLit;
}
;
_.categoryBits = 0;
_.groupIndex = 0;
_.maskBits = 0;
function $createProxy_1(this$static, broadPhase, xf){
  $computeAABB(this$static.m_shape, this$static.m_aabb, xf);
  this$static.m_proxy = $createProxy(broadPhase, this$static.m_aabb, this$static);
}

function $synchronize(this$static, broadPhase, transform1, transform2){
  var disp;
  if (!this$static.m_proxy) {
    return;
  }
  $computeAABB(this$static.m_shape, this$static.pool1, transform1);
  $computeAABB(this$static.m_shape, this$static.pool2, transform2);
  this$static.m_aabb.lowerBound.x = this$static.pool1.lowerBound.x < this$static.pool2.lowerBound.x?this$static.pool1.lowerBound.x:this$static.pool2.lowerBound.x;
  this$static.m_aabb.lowerBound.y = this$static.pool1.lowerBound.y < this$static.pool2.lowerBound.y?this$static.pool1.lowerBound.y:this$static.pool2.lowerBound.y;
  this$static.m_aabb.upperBound.x = this$static.pool1.upperBound.x > this$static.pool2.upperBound.x?this$static.pool1.upperBound.x:this$static.pool2.upperBound.x;
  this$static.m_aabb.upperBound.y = this$static.pool1.upperBound.y > this$static.pool2.upperBound.y?this$static.pool1.upperBound.y:this$static.pool2.upperBound.y;
  disp = this$static.pool1.lowerBound;
  disp.x = transform2.position_0.x - transform1.position_0.x;
  disp.y = transform2.position_0.y - transform1.position_0.y;
  $moveProxy(broadPhase, this$static.m_proxy, this$static.m_aabb, disp);
}

function Fixture_0(){
  this.m_aabb = new AABB_0;
  this.pool1 = new AABB_0;
  this.pool2 = new AABB_0;
  this.m_body = null;
  this.m_next = null;
  this.m_proxy = null;
  this.m_shape = null;
  this.m_filter = new Filter_0;
}

function Fixture(){
}

_ = Fixture_0.prototype = Fixture.prototype = new Object_0;
_.getClass$ = function getClass_144(){
  return Lorg_jbox2d_dynamics_Fixture_2_classLit;
}
;
_.m_body = null;
_.m_density = 0;
_.m_filter = null;
_.m_friction = 0;
_.m_isSensor = false;
_.m_next = null;
_.m_proxy = null;
_.m_restitution = 0;
_.m_shape = null;
function FixtureDef_0(){
  this.shape = null;
  this.friction = 0.20000000298023224;
  this.restitution = 0;
  this.density = 0;
  this.filter = new Filter_0;
  this.filter.categoryBits = 1;
  this.filter.maskBits = 65535;
  this.filter.groupIndex = 0;
  this.isSensor = false;
}

function FixtureDef(){
}

_ = FixtureDef_0.prototype = FixtureDef.prototype = new Object_0;
_.getClass$ = function getClass_145(){
  return Lorg_jbox2d_dynamics_FixtureDef_2_classLit;
}
;
_.density = 0;
_.filter = null;
_.friction = 0;
_.isSensor = false;
_.restitution = 0;
_.shape = null;
function $add_1(this$static, body){
  this$static.m_bodies[this$static.m_bodyCount++] = body;
}

function $add_2(this$static, contact){
  setCheck(this$static.m_contacts, this$static.m_contactCount++, contact);
}

function $clear(this$static){
  this$static.m_bodyCount = 0;
  this$static.m_contactCount = 0;
  this$static.m_jointCount = 0;
}

function $init_0(this$static, bodyCapacity, contactCapacity, jointCapacity){
  var i;
  this$static.m_bodyCapacity = bodyCapacity;
  this$static.m_contactCapacity = contactCapacity;
  this$static.m_jointCapacity = jointCapacity;
  this$static.m_bodyCount = 0;
  this$static.m_contactCount = 0;
  this$static.m_jointCount = 0;
  (this$static.m_bodies == null || this$static.m_bodyCapacity > this$static.m_bodies.length) && (this$static.m_bodies = initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Body, this$static.m_bodyCapacity, 0));
  (this$static.m_joints == null || this$static.m_jointCapacity > this$static.m_joints.length) && (this$static.m_joints = initDim(_3Lorg_jbox2d_dynamics_joints_Joint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Joint, this$static.m_jointCapacity, 0));
  (this$static.m_contacts == null || this$static.m_contactCapacity > this$static.m_contacts.length) && (this$static.m_contacts = initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Contact, this$static.m_contactCapacity, 0));
  if (this$static.m_velocities == null || this$static.m_bodyCapacity > this$static.m_velocities.length) {
    this$static.m_velocities = initDim(_3Lorg_jbox2d_dynamics_Velocity_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Velocity, this$static.m_bodyCapacity, 0);
    for (i = 0; i < this$static.m_velocities.length; ++i) {
      this$static.m_velocities[i] = new Velocity_0;
    }
  }
  if (this$static.m_positions == null || this$static.m_bodyCapacity > this$static.m_positions.length) {
    this$static.m_positions = initDim(_3Lorg_jbox2d_dynamics_Position_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Position, this$static.m_bodyCapacity, 0);
    for (i = 0; i < this$static.m_positions.length; ++i) {
      this$static.m_positions[i] = new Position_0;
    }
  }
}

function $solve(this$static, step, gravity, allowSleep){
  var a, a1, a2, angTolSqr, b, b1, bodyA, bodyB, contactsOkay, fixtureA, fixtureB, i, i1, i2, j, jointOkay, jointsOkay, linTolSqr, minSleepTime, nonStatic, ratio, rotation, temp;
  for (i = 0; i < this$static.m_bodyCount; ++i) {
    b = this$static.m_bodies[i];
    if (b.m_type != ($clinit_BodyType() , DYNAMIC)) {
      continue;
    }
    b.m_linearVelocity.x += (b.m_force.x * b.m_invMass + gravity.x) * step.dt;
    b.m_linearVelocity.y += (b.m_force.y * b.m_invMass + gravity.y) * step.dt;
    b.m_angularVelocity += step.dt * b.m_invI * b.m_torque;
    a = 1 - step.dt * b.m_linearDamping;
    a1 = 0 > (a < 1?a:1)?0:a < 1?a:1;
    b.m_linearVelocity.x *= a1;
    b.m_linearVelocity.y *= a1;
    a2 = 1 - step.dt * b.m_angularDamping;
    b1 = a2 < 1?a2:1;
    b.m_angularVelocity *= 0 > b1?0:b1;
  }
  i1 = -1;
  for (i2 = 0; i2 < this$static.m_contactCount; ++i2) {
    fixtureA = this$static.m_contacts[i2].m_fixtureA;
    fixtureB = this$static.m_contacts[i2].m_fixtureB;
    bodyA = fixtureA.m_body;
    bodyB = fixtureB.m_body;
    nonStatic = bodyA.m_type != ($clinit_BodyType() , STATIC_0) && bodyB.m_type != STATIC_0;
    if (nonStatic) {
      ++i1;
      temp = this$static.m_contacts[i1];
      setCheck(this$static.m_contacts, i1, this$static.m_contacts[i2]);
      setCheck(this$static.m_contacts, i2, temp);
    }
  }
  $init_2(this$static.contactSolver, this$static.m_contacts, this$static.m_contactCount, step.dtRatio);
  $warmStart(this$static.contactSolver);
  for (i = 0; i < this$static.m_jointCount; ++i) {
    null.nullMethod();
  }
  for (i = 0; i < step.velocityIterations; ++i) {
    for (j = 0; j < this$static.m_jointCount; ++j) {
      null.nullMethod();
    }
    $solveVelocityConstraints(this$static.contactSolver);
  }
  $storeImpulses(this$static.contactSolver);
  for (i = 0; i < this$static.m_bodyCount; ++i) {
    b = this$static.m_bodies[i];
    if (b.m_type == ($clinit_BodyType() , STATIC_0)) {
      continue;
    }
    $mulLocal($set_15(this$static.translation, b.m_linearVelocity), step.dt);
    if (dot_0(this$static.translation, this$static.translation) > ($clinit_Settings() , 4)) {
      ratio = 2 / $length(this$static.translation);
      $mulLocal(b.m_linearVelocity, ratio);
    }
    rotation = step.dt * b.m_angularVelocity;
    if (rotation * rotation > 2.4674012660980225) {
      ratio = 1.5707963705062866 / abs(rotation);
      b.m_angularVelocity *= ratio;
    }
    $set_15(b.m_sweep.c0, b.m_sweep.c);
    b.m_sweep.a0 = b.m_sweep.a_0;
    $mulLocal($set_15(this$static.temp, b.m_linearVelocity), step.dt);
    $addLocal(b.m_sweep.c, this$static.temp);
    b.m_sweep.a_0 += step.dt * b.m_angularVelocity;
    $synchronizeTransform(b);
  }
  for (i = 0; i < step.positionIterations; ++i) {
    contactsOkay = $solvePositionConstraints(this$static.contactSolver, ($clinit_Settings() , 0.20000000298023224));
    jointsOkay = true;
    for (j = 0; j < this$static.m_jointCount; ++j) {
      jointOkay = null.nullMethod($clinit_Settings());
      jointsOkay = jointsOkay && jointOkay;
    }
    if (contactsOkay && jointsOkay) {
      break;
    }
  }
  if (allowSleep) {
    minSleepTime = 3.4028234663852886E38;
    linTolSqr = ($clinit_Settings() , 0.009999999776482582) * 0.009999999776482582;
    angTolSqr = 0.03490658849477768 * 0.03490658849477768;
    for (i = 0; i < this$static.m_bodyCount; ++i) {
      b = this$static.m_bodies[i];
      if (b.m_type == ($clinit_BodyType() , STATIC_0)) {
        continue;
      }
      if ((b.m_flags & 4) == 0) {
        b.m_sleepTime = 0;
        minSleepTime = 0;
      }
      if ((b.m_flags & 4) == 0 || b.m_angularVelocity * b.m_angularVelocity > angTolSqr || dot_0(b.m_linearVelocity, b.m_linearVelocity) > linTolSqr) {
        b.m_sleepTime = 0;
        minSleepTime = 0;
      }
       else {
        b.m_sleepTime += step.dt;
        minSleepTime = min(minSleepTime, b.m_sleepTime);
      }
    }
    if (minSleepTime >= 0.5) {
      for (i = 0; i < this$static.m_bodyCount; ++i) {
        b = this$static.m_bodies[i];
        $setAwake(b, false);
      }
    }
  }
}

function Island_0(){
  this.temp = new Vec2_0;
  this.contactSolver = new ContactSolver_0;
  this.translation = new Vec2_0;
  new ContactImpulse_0;
}

function Island(){
}

_ = Island_0.prototype = Island.prototype = new Object_0;
_.getClass$ = function getClass_146(){
  return Lorg_jbox2d_dynamics_Island_2_classLit;
}
;
_.m_bodies = null;
_.m_bodyCapacity = 0;
_.m_bodyCount = 0;
_.m_contactCapacity = 0;
_.m_contactCount = 0;
_.m_contacts = null;
_.m_jointCapacity = 0;
_.m_jointCount = 0;
_.m_joints = null;
_.m_positions = null;
_.m_velocities = null;
function Position_0(){
  new Vec2_0;
}

function Position(){
}

_ = Position_0.prototype = Position.prototype = new Object_0;
_.getClass$ = function getClass_147(){
  return Lorg_jbox2d_dynamics_Position_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Position]);
function TimeStep_0(){
}

function TimeStep(){
}

_ = TimeStep_0.prototype = TimeStep.prototype = new Object_0;
_.getClass$ = function getClass_148(){
  return Lorg_jbox2d_dynamics_TimeStep_2_classLit;
}
;
_.dt = 0;
_.dtRatio = 0;
_.inv_dt = 0;
_.positionIterations = 0;
_.velocityIterations = 0;
function Velocity_0(){
  new Vec2_0;
}

function Velocity(){
}

_ = Velocity_0.prototype = Velocity.prototype = new Object_0;
_.getClass$ = function getClass_149(){
  return Lorg_jbox2d_dynamics_Velocity_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Velocity]);
function $clinit_World(){
  $clinit_World = nullMethod;
  new Integer_0(1234598372);
}

function $addType(this$static, creator, type1, type2){
  var register, register2;
  register = new ContactRegister_0;
  register.creator = creator;
  register.primary = true;
  this$static.contactStacks[type1.intValue][type2.intValue] = register;
  if (type1 != type2) {
    register2 = new ContactRegister_0;
    register2.creator = creator;
    register2.primary = false;
    this$static.contactStacks[type2.intValue][type1.intValue] = register2;
  }
}

function $clearForces(this$static){
  var body;
  for (body = this$static.m_bodyList; body; body = body.m_next) {
    $setZero(body.m_force);
    body.m_torque = 0;
  }
}

function $createBody(this$static, def){
  var b;
  if ((this$static.m_flags & 2) == 2) {
    return null;
  }
  b = new Body_0(def, this$static);
  b.m_next = this$static.m_bodyList;
  this$static.m_bodyList = b;
  ++this$static.m_bodyCount;
  return b;
}

function $popContact(this$static, fixtureA, fixtureB){
  var c, creator, reg, type1, type2;
  type1 = fixtureA.m_shape.m_type;
  type2 = fixtureB.m_shape.m_type;
  reg = this$static.contactStacks[type1.intValue][type2.intValue];
  creator = reg.creator;
  if (creator) {
    if (reg.primary) {
      c = $pop_0(creator);
      c.init(fixtureA, fixtureB);
      return c;
    }
     else {
      c = $pop_0(creator);
      c.init(fixtureB, fixtureA);
      return c;
    }
  }
   else {
    return null;
  }
}

function $pushContact(this$static, contact){
  var creator, type1, type2;
  if (contact.m_manifold.pointCount > 0) {
    $setAwake(contact.m_fixtureA.m_body, true);
    $setAwake(contact.m_fixtureB.m_body, true);
  }
  type1 = contact.m_fixtureA.m_shape.m_type;
  type2 = contact.m_fixtureB.m_shape.m_type;
  creator = this$static.contactStacks[type1.intValue][type2.intValue].creator;
  setCheck(creator.stack_0, --creator.index_0, contact);
}

function $solve_0(this$static, step){
  var b, c, ce, contact, i, other, seed, sensorA, sensorB, stackCount, stackSize;
  $init_0(this$static.island, this$static.m_bodyCount, this$static.m_contactManager.m_contactCount, this$static.m_jointCount);
  for (b = this$static.m_bodyList; b; b = b.m_next) {
    b.m_flags &= -2;
  }
  for (c = this$static.m_contactManager.m_contactList; c; c = c.m_next) {
    c.m_flags &= -2;
  }
  stackSize = this$static.m_bodyCount;
  this$static.stack_0.length < stackSize && (this$static.stack_0 = initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Body, stackSize, 0));
  for (seed = this$static.m_bodyList; seed; seed = seed.m_next) {
    if ((seed.m_flags & 1) == 1) {
      continue;
    }
    if ((seed.m_flags & 2) != 2 || (seed.m_flags & 32) != 32) {
      continue;
    }
    if (seed.m_type == ($clinit_BodyType() , STATIC_0)) {
      continue;
    }
    $clear(this$static.island);
    stackCount = 0;
    this$static.stack_0[stackCount++] = seed;
    seed.m_flags |= 1;
    while (stackCount > 0) {
      b = this$static.stack_0[--stackCount];
      $add_1(this$static.island, b);
      $setAwake(b, true);
      if (b.m_type == STATIC_0) {
        continue;
      }
      for (ce = b.m_contactList; ce; ce = ce.next) {
        contact = ce.contact;
        if ((contact.m_flags & 1) == 1) {
          continue;
        }
        if ((contact.m_flags & 4) != 4 || (contact.m_flags & 2) != 2) {
          continue;
        }
        sensorA = contact.m_fixtureA.m_isSensor;
        sensorB = contact.m_fixtureB.m_isSensor;
        if (sensorA || sensorB) {
          continue;
        }
        $add_2(this$static.island, contact);
        contact.m_flags |= 1;
        other = ce.other;
        if ((other.m_flags & 1) == 1) {
          continue;
        }
        this$static.stack_0[stackCount++] = other;
        other.m_flags |= 1;
      }
    }
    $solve(this$static.island, step, this$static.m_gravity, this$static.m_allowSleep);
    for (i = 0; i < this$static.island.m_bodyCount; ++i) {
      b = this$static.island.m_bodies[i];
      b.m_type == STATIC_0 && (b.m_flags &= -2);
    }
  }
  for (b = this$static.m_bodyList; b; b = b.m_next) {
    if ((b.m_flags & 1) == 0) {
      continue;
    }
    if (b.m_type == ($clinit_BodyType() , STATIC_0)) {
      continue;
    }
    $synchronizeFixtures(b);
  }
  $findNewContacts(this$static.m_contactManager);
}

function $solveTOI(this$static){
  var body, c;
  for (c = this$static.m_contactManager.m_contactList; c; c = c.m_next) {
    c.m_flags |= 4;
    c.m_toiCount = 0;
  }
  for (body = this$static.m_bodyList; body; body = body.m_next) {
    (body.m_flags & 1) == 0 || body.m_type == ($clinit_BodyType() , KINEMATIC) || body.m_type == ($clinit_BodyType() , STATIC_0)?(body.m_flags |= 64):(body.m_flags &= -65);
  }
  for (body = this$static.m_bodyList; body; body = body.m_next) {
    if ((body.m_flags & 64) == 64) {
      continue;
    }
    if ((body.m_flags & 8) == 8) {
      continue;
    }
    $solveTOI_0(this$static, body);
    body.m_flags |= 64;
  }
  for (body = this$static.m_bodyList; body; body = body.m_next) {
    if ((body.m_flags & 64) == 64) {
      continue;
    }
    if ((body.m_flags & 8) != 8) {
      continue;
    }
    $solveTOI_0(this$static, body);
    body.m_flags |= 64;
  }
}

function $solveTOI_0(this$static, body){
  var bodyA, bodyB, bullet, ce, contact, contactsOkay, count, fixtureA, fixtureB, found, i, iter, other, toi, toiContact, toiOther, type;
  toiContact = null;
  toi = 1;
  toiOther = null;
  iter = 0;
  bullet = (body.m_flags & 8) == 8;
  do {
    count = 0;
    found = false;
    for (ce = body.m_contactList; ce; ce = ce.next) {
      if (ce.contact == toiContact) {
        continue;
      }
      other = ce.other;
      type = other.m_type;
      if (bullet) {
        if ((other.m_flags & 64) == 0) {
          continue;
        }
        if (type != ($clinit_BodyType() , STATIC_0) && (ce.contact.m_flags & 16) != 0) {
          continue;
        }
      }
       else if (type == ($clinit_BodyType() , DYNAMIC)) {
        continue;
      }
      contact = ce.contact;
      if ((contact.m_flags & 4) != 4) {
        continue;
      }
      if (contact.m_toiCount > 10) {
        continue;
      }
      fixtureA = contact.m_fixtureA;
      fixtureB = contact.m_fixtureB;
      if (fixtureA.m_isSensor || fixtureB.m_isSensor) {
        continue;
      }
      bodyA = fixtureA.m_body;
      bodyB = fixtureB.m_body;
      $set_6(this$static.toiInput.proxyA, fixtureA.m_shape);
      $set_6(this$static.toiInput.proxyB, fixtureB.m_shape);
      $set_12(this$static.toiInput.sweepA, bodyA.m_sweep);
      $set_12(this$static.toiInput.sweepB, bodyB.m_sweep);
      this$static.toiInput.tMax = toi;
      $timeOfImpact(this$static.pool.toi, this$static.toiOutput, this$static.toiInput);
      if (this$static.toiOutput.state == ($clinit_TimeOfImpact$TOIOutputState() , TOUCHING) && this$static.toiOutput.t < toi) {
        toiContact = contact;
        toi = this$static.toiOutput.t;
        toiOther = other;
        found = true;
      }
      ++count;
    }
    ++iter;
  }
   while (found && count > 1 && iter < 50);
  if (!toiContact) {
    $advance_0(body, 1);
    return;
  }
  $set_12(this$static.backup, body.m_sweep);
  $advance_0(body, toi);
  $update_0(toiContact);
  if ((toiContact.m_flags & 4) != 4) {
    $set_12(body.m_sweep, this$static.backup);
    $solveTOI_0(this$static, body);
  }
  ++toiContact.m_toiCount;
  (this$static.m_contacts == null || this$static.m_contacts.length < ($clinit_Settings() , 32)) && (this$static.m_contacts = initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Contact, ($clinit_Settings() , 32), 0));
  count = 0;
  for (ce = body.m_contactList; !!ce && count < ($clinit_Settings() , 32); ce = ce.next) {
    other = ce.other;
    type = other.m_type;
    if (type == ($clinit_BodyType() , DYNAMIC)) {
      continue;
    }
    contact = ce.contact;
    if ((contact.m_flags & 4) != 4) {
      continue;
    }
    fixtureA = contact.m_fixtureA;
    fixtureB = contact.m_fixtureB;
    if (fixtureA.m_isSensor || fixtureB.m_isSensor) {
      continue;
    }
    contact != toiContact && $update_0(contact);
    if ((contact.m_flags & 4) != 4) {
      continue;
    }
    if ((contact.m_flags & 2) != 2) {
      continue;
    }
    setCheck(this$static.m_contacts, count, contact);
    ++count;
  }
  $initialize_2(this$static.toiSolver, this$static.m_contacts, count, body);
  for (i = 0; i < 20; ++i) {
    contactsOkay = $solve_1(this$static.toiSolver);
    if (contactsOkay) {
      break;
    }
  }
  toiOther.m_type != ($clinit_BodyType() , STATIC_0) && (toiContact.m_flags |= 16);
}

function $step(this$static, dt){
  if ((this$static.m_flags & 1) == 1) {
    $findNewContacts(this$static.m_contactManager);
    this$static.m_flags &= -2;
  }
  this$static.m_flags |= 2;
  this$static.step.dt = dt;
  this$static.step.velocityIterations = 1;
  this$static.step.positionIterations = 1;
  dt > 0?(this$static.step.inv_dt = 1 / dt):(this$static.step.inv_dt = 0);
  this$static.step.dtRatio = this$static.m_inv_dt0 * dt;
  $collide(this$static.m_contactManager);
  this$static.step.dt > 0 && $solve_0(this$static, this$static.step);
  this$static.m_continuousPhysics && this$static.step.dt > 0 && $solveTOI(this$static);
  this$static.step.dt > 0 && (this$static.m_inv_dt0 = this$static.step.inv_dt);
  (this$static.m_flags & 4) == 4 && $clearForces(this$static);
  this$static.m_flags &= -3;
}

function World_0(gravity){
  $clinit_World();
  World_1.call(this, gravity, new WorldPool_0);
}

function World_1(gravity, argPool){
  this.m_gravity = new Vec2_0;
  this.contactStacks = initDims([_3_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit, _3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit], [makeCastMap([Q$Serializable, Q$Object_$1]), makeCastMap([Q$Serializable, Q$Object_$1, Q$ContactRegister_$1])], [Q$ContactRegister_$1, Q$ContactRegister], [2, 2], 2, 0);
  this.step = new TimeStep_0;
  new Transform_0;
  new Vec2_0;
  new Vec2_0;
  new WorldRayCastWrapper_0;
  new RayCastInput_0;
  this.island = new Island_0;
  this.stack_0 = initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Body, 10, 0);
  this.toiInput = new TimeOfImpact$TOIInput_0;
  this.toiOutput = new TimeOfImpact$TOIOutput_0;
  this.backup = new Sweep_0;
  this.toiSolver = new TOISolver_0;
  this.m_contacts = initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Contact, ($clinit_Settings() , 32), 0);
  new Vec2_0;
  new Vec2_0;
  new Vec2_0;
  new Vec2_0;
  this.pool = argPool;
  this.m_bodyList = null;
  this.m_bodyCount = 0;
  this.m_jointCount = 0;
  this.m_continuousPhysics = true;
  this.m_allowSleep = true;
  $set_15(this.m_gravity, gravity);
  this.m_flags = 4;
  this.m_inv_dt0 = 0;
  this.m_contactManager = new ContactManager_0(this);
  $addType(this, this.pool.ccstack, ($clinit_ShapeType() , CIRCLE), CIRCLE);
  $addType(this, this.pool.cpstack, POLYGON, CIRCLE);
  $addType(this, this.pool.pcstack, POLYGON, POLYGON);
}

function World(){
}

_ = World_0.prototype = World.prototype = new Object_0;
_.getClass$ = function getClass_150(){
  return Lorg_jbox2d_dynamics_World_2_classLit;
}
;
_.m_allowSleep = false;
_.m_bodyCount = 0;
_.m_bodyList = null;
_.m_contactManager = null;
_.m_continuousPhysics = false;
_.m_flags = 0;
_.m_inv_dt0 = 0;
_.m_jointCount = 0;
_.pool = null;
function WorldRayCastWrapper_0(){
  new RayCastOutput_0;
  new Vec2_0;
  new Vec2_0;
}

function WorldRayCastWrapper(){
}

_ = WorldRayCastWrapper_0.prototype = WorldRayCastWrapper.prototype = new Object_0;
_.getClass$ = function getClass_151(){
  return Lorg_jbox2d_dynamics_WorldRayCastWrapper_2_classLit;
}
;
function $clinit_Contact(){
  $clinit_Contact = nullMethod;
  tloldManifold = new TLManifold_0;
}

function $init_1(this$static, fA, fB){
  this$static.m_flags = 0;
  this$static.m_fixtureA = fA;
  this$static.m_fixtureB = fB;
  this$static.m_manifold.pointCount = 0;
  this$static.m_prev = null;
  this$static.m_next = null;
  this$static.m_nodeA.contact = null;
  this$static.m_nodeA.prev = null;
  this$static.m_nodeA.next = null;
  this$static.m_nodeA.other = null;
  this$static.m_nodeB.contact = null;
  this$static.m_nodeB.prev = null;
  this$static.m_nodeB.next = null;
  this$static.m_nodeB.other = null;
  this$static.m_toiCount = 0;
}

function $update_0(this$static){
  var bodyA, bodyB, i, id2, j, mp1, mp2, oldManifold, sensor, sensorA, sensorB, shapeA, shapeB, touching, wasTouching, xfA, xfB;
  oldManifold = $get_0(tloldManifold);
  $set_8(oldManifold, this$static.m_manifold);
  this$static.m_flags |= 4;
  wasTouching = (this$static.m_flags & 2) == 2;
  sensorA = this$static.m_fixtureA.m_isSensor;
  sensorB = this$static.m_fixtureB.m_isSensor;
  sensor = sensorA || sensorB;
  bodyA = this$static.m_fixtureA.m_body;
  bodyB = this$static.m_fixtureB.m_body;
  xfA = bodyA.m_xf;
  xfB = bodyB.m_xf;
  if (sensor) {
    shapeA = this$static.m_fixtureA.m_shape;
    shapeB = this$static.m_fixtureB.m_shape;
    touching = $testOverlap(this$static.pool.collision, shapeA, shapeB, xfA, xfB);
    this$static.m_manifold.pointCount = 0;
  }
   else {
    this$static.evaluate(this$static.m_manifold, xfA, xfB);
    touching = this$static.m_manifold.pointCount > 0;
    for (i = 0; i < this$static.m_manifold.pointCount; ++i) {
      mp2 = this$static.m_manifold.points[i];
      mp2.normalImpulse = 0;
      mp2.tangentImpulse = 0;
      id2 = mp2.id;
      for (j = 0; j < oldManifold.pointCount; ++j) {
        mp1 = oldManifold.points[j];
        if ($isEqual(mp1.id, id2)) {
          mp2.normalImpulse = mp1.normalImpulse;
          mp2.tangentImpulse = mp1.tangentImpulse;
          break;
        }
      }
    }
    if (touching != wasTouching) {
      $setAwake(bodyA, true);
      $setAwake(bodyB, true);
    }
  }
  touching?(this$static.m_flags |= 2):(this$static.m_flags &= -3);
  return;
}

function Contact_0(argPool){
  this.m_fixtureA = null;
  this.m_fixtureB = null;
  this.m_nodeA = new ContactEdge_0;
  this.m_nodeB = new ContactEdge_0;
  this.m_manifold = new Manifold_0;
  this.pool = argPool;
}

function Contact(){
}

_ = Contact.prototype = new Object_0;
_.getClass$ = function getClass_152(){
  return Lorg_jbox2d_dynamics_contacts_Contact_2_classLit;
}
;
_.init = function init_0(fA, fB){
  $init_1(this, fA, fB);
}
;
_.castableTypeMap$ = makeCastMap([Q$Contact]);
_.m_fixtureA = null;
_.m_fixtureB = null;
_.m_flags = 0;
_.m_manifold = null;
_.m_next = null;
_.m_nodeA = null;
_.m_nodeB = null;
_.m_prev = null;
_.m_toiCount = 0;
_.pool = null;
var tloldManifold;
function CircleContact_0(argPool){
  $clinit_Contact();
  Contact_0.call(this, argPool);
}

function CircleContact(){
}

_ = CircleContact_0.prototype = CircleContact.prototype = new Contact;
_.evaluate = function evaluate(manifold, xfA, xfB){
  $collideCircles(this.pool.collision, manifold, (this.m_fixtureA.m_shape , xfA), (this.m_fixtureB.m_shape , xfB));
}
;
--></script>
<script><!--
_.getClass$ = function getClass_153(){
  return Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit;
}
;
_.init = function init_1(fixtureA, fixtureB){
  $init_1(this, fixtureA, fixtureB);
}
;
_.castableTypeMap$ = makeCastMap([Q$CircleContact, Q$Contact]);
function ContactConstraint_0(){
  var i;
  this.points = initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$ContactConstraintPoint, ($clinit_Settings() , 2), 0);
  for (i = 0; i < 2; ++i) {
    this.points[i] = new ContactConstraintPoint_0;
  }
  this.pointCount = 0;
  this.localNormal = new Vec2_0;
  this.localPoint = new Vec2_0;
  this.normal = new Vec2_0;
  this.normalMass = new Mat22_0;
  this.K = new Mat22_0;
}

function ContactConstraint(){
}

_ = ContactConstraint_0.prototype = ContactConstraint.prototype = new Object_0;
_.getClass$ = function getClass_154(){
  return Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$ContactConstraint]);
_.K = null;
_.bodyA = null;
_.bodyB = null;
_.friction = 0;
_.localNormal = null;
_.localPoint = null;
_.manifold = null;
_.normal = null;
_.normalMass = null;
_.pointCount = 0;
_.points = null;
_.radius = 0;
_.type = null;
function ContactConstraintPoint_0(){
  this.localPoint = new Vec2_0;
  this.rA = new Vec2_0;
  this.rB = new Vec2_0;
}

function ContactConstraintPoint(){
}

_ = ContactConstraintPoint_0.prototype = ContactConstraintPoint.prototype = new Object_0;
_.getClass$ = function getClass_155(){
  return Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$ContactConstraintPoint]);
_.localPoint = null;
_.normalImpulse = 0;
_.normalMass = 0;
_.rA = null;
_.rB = null;
_.tangentImpulse = 0;
_.tangentMass = 0;
_.velocityBias = 0;
function ContactEdge_0(){
}

function ContactEdge(){
}

_ = ContactEdge_0.prototype = ContactEdge.prototype = new Object_0;
_.getClass$ = function getClass_156(){
  return Lorg_jbox2d_dynamics_contacts_ContactEdge_2_classLit;
}
;
_.contact = null;
_.next = null;
_.other = null;
_.prev = null;
function ContactRegister_0(){
}

function ContactRegister(){
}

_ = ContactRegister_0.prototype = ContactRegister.prototype = new Object_0;
_.getClass$ = function getClass_157(){
  return Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$ContactRegister]);
_.creator = null;
_.primary = false;
function $init_2(this$static, contacts, contactCount, impulseRatio){
  var a, bodyA, bodyB, cc, ccp, ccp1, ccp2, contact, cp, fixtureA, fixtureB, friction, i, invIA, invIB, invMassA, invMassB, j, k11, k12, k22, kNormal, kTangent, manifold, newConstraints, radiusA, radiusB, restitution, rn1A, rn1B, rn2A, rn2B, rnA, rnB, rtA, rtB, shapeA, shapeB, vA, vB, vRel, wA, wB;
  this$static.m_constraintCount = contactCount;
  if (this$static.m_constraints.length <= contactCount) {
    newConstraints = initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$ContactConstraint, this$static.m_constraintCount * 2, 0);
    for (i = 0; i < newConstraints.length; ++i) {
      i < this$static.m_constraints.length?(newConstraints[i] = this$static.m_constraints[i]):(newConstraints[i] = new ContactConstraint_0);
    }
    this$static.m_constraints = newConstraints;
  }
  for (i = 0; i < this$static.m_constraintCount; ++i) {
    contact = contacts[i];
    fixtureA = contact.m_fixtureA;
    fixtureB = contact.m_fixtureB;
    shapeA = fixtureA.m_shape;
    shapeB = fixtureB.m_shape;
    radiusA = shapeA.m_radius;
    radiusB = shapeB.m_radius;
    bodyA = fixtureA.m_body;
    bodyB = fixtureB.m_body;
    manifold = contact.m_manifold;
    friction = mixFriction(fixtureA.m_friction, fixtureB.m_friction);
    restitution = mixRestitution(fixtureA.m_restitution, fixtureB.m_restitution);
    vA = bodyA.m_linearVelocity;
    vB = bodyB.m_linearVelocity;
    wA = bodyA.m_angularVelocity;
    wB = bodyB.m_angularVelocity;
    $initialize_0(this$static.worldManifold, manifold, bodyA.m_xf, radiusA, bodyB.m_xf, radiusB);
    cc = this$static.m_constraints[i];
    cc.bodyA = bodyA;
    cc.bodyB = bodyB;
    cc.manifold = manifold;
    cc.normal.x = this$static.worldManifold.normal.x;
    cc.normal.y = this$static.worldManifold.normal.y;
    cc.pointCount = manifold.pointCount;
    cc.friction = friction;
    cc.localNormal.x = manifold.localNormal.x;
    cc.localNormal.y = manifold.localNormal.y;
    cc.localPoint.x = manifold.localPoint.x;
    cc.localPoint.y = manifold.localPoint.y;
    cc.radius = radiusA + radiusB;
    cc.type = manifold.type;
    for (j = 0; j < cc.pointCount; ++j) {
      cp = manifold.points[j];
      ccp = cc.points[j];
      ccp.normalImpulse = impulseRatio * cp.normalImpulse;
      ccp.tangentImpulse = impulseRatio * cp.tangentImpulse;
      ccp.localPoint.x = cp.localPoint.x;
      ccp.localPoint.y = cp.localPoint.y;
      ccp.rA.x = this$static.worldManifold.points[j].x - bodyA.m_sweep.c.x;
      ccp.rA.y = this$static.worldManifold.points[j].y - bodyA.m_sweep.c.y;
      ccp.rB.x = this$static.worldManifold.points[j].x - bodyB.m_sweep.c.x;
      ccp.rB.y = this$static.worldManifold.points[j].y - bodyB.m_sweep.c.y;
      rnA = ccp.rA.x * cc.normal.y - ccp.rA.y * cc.normal.x;
      rnB = ccp.rB.x * cc.normal.y - ccp.rB.y * cc.normal.x;
      rnA *= rnA;
      rnB *= rnB;
      kNormal = bodyA.m_invMass + bodyB.m_invMass + bodyA.m_invI * rnA + bodyB.m_invI * rnB;
      ccp.normalMass = 1 / kNormal;
      this$static.tangent.x = cc.normal.y;
      this$static.tangent.y = -cc.normal.x;
      rtA = ccp.rA.x * this$static.tangent.y - ccp.rA.y * this$static.tangent.x;
      rtB = ccp.rB.x * this$static.tangent.y - ccp.rB.y * this$static.tangent.x;
      rtA *= rtA;
      rtB *= rtB;
      kTangent = bodyA.m_invMass + bodyB.m_invMass + bodyA.m_invI * rtA + bodyB.m_invI * rtB;
      ccp.tangentMass = 1 / kTangent;
      ccp.velocityBias = 0;
      this$static.temp2.x = -wA * ccp.rA.y;
      this$static.temp2.y = wA * ccp.rA.x;
      this$static.temp1.x = -wB * ccp.rB.y + vB.x - vA.x - this$static.temp2.x;
      this$static.temp1.y = wB * ccp.rB.x + vB.y - vA.y - this$static.temp2.y;
      a = cc.normal;
      vRel = a.x * this$static.temp1.x + a.y * this$static.temp1.y;
      vRel < -($clinit_Settings() , 1) && (ccp.velocityBias = -restitution * vRel);
    }
    if (cc.pointCount == 2) {
      ccp1 = cc.points[0];
      ccp2 = cc.points[1];
      invMassA = bodyA.m_invMass;
      invIA = bodyA.m_invI;
      invMassB = bodyB.m_invMass;
      invIB = bodyB.m_invI;
      rn1A = cross(ccp1.rA, cc.normal);
      rn1B = cross(ccp1.rB, cc.normal);
      rn2A = cross(ccp2.rA, cc.normal);
      rn2B = cross(ccp2.rB, cc.normal);
      k11 = invMassA + invMassB + invIA * rn1A * rn1A + invIB * rn1B * rn1B;
      k22 = invMassA + invMassB + invIA * rn2A * rn2A + invIB * rn2B * rn2B;
      k12 = invMassA + invMassB + invIA * rn1A * rn2A + invIB * rn1B * rn2B;
      if (k11 * k11 < 100 * (k11 * k22 - k12 * k12)) {
        cc.K.m11 = k11;
        cc.K.m12 = k12;
        cc.K.m21 = k12;
        cc.K.m22 = k22;
        cc.normalMass.m11 = cc.K.m11;
        cc.normalMass.m12 = cc.K.m12;
        cc.normalMass.m21 = cc.K.m21;
        cc.normalMass.m22 = cc.K.m22;
        $invertLocal(cc.normalMass);
      }
       else {
        cc.pointCount = 1;
      }
    }
  }
}

function $solvePositionConstraints(this$static, baumgarte){
  var C, K, bodyA, bodyB, c, i, impulse, invIA, invIB, invMassA, invMassB, j, minSeparation, normal, point, psm, rnA, rnB, separation;
  minSeparation = 0;
  for (i = 0; i < this$static.m_constraintCount; ++i) {
    c = this$static.m_constraints[i];
    bodyA = c.bodyA;
    bodyB = c.bodyB;
    invMassA = bodyA.m_mass * bodyA.m_invMass;
    invIA = bodyA.m_mass * bodyA.m_invI;
    invMassB = bodyB.m_mass * bodyB.m_invMass;
    invIB = bodyB.m_mass * bodyB.m_invI;
    for (j = 0; j < c.pointCount; ++j) {
      psm = this$static.psolver;
      $initialize_1(psm, c, j);
      normal = psm.normal;
      point = psm.point;
      separation = psm.separation;
      $subLocal($set_15(this$static.rA, point), bodyA.m_sweep.c);
      $subLocal($set_15(this$static.rB, point), bodyB.m_sweep.c);
      minSeparation = ($clinit_MathUtils() , minSeparation < separation?minSeparation:separation);
      C = clamp(baumgarte * (separation + ($clinit_Settings() , 0.004999999888241291)), -0.20000000298023224, 0);
      rnA = cross(this$static.rA, normal);
      rnB = cross(this$static.rB, normal);
      K = invMassA + invMassB + invIA * rnA * rnA + invIB * rnB * rnB;
      impulse = K > 0?-C / K:0;
      $mulLocal($set_15(this$static.P, normal), impulse);
      $mulLocal($set_15(this$static.temp1, this$static.P), invMassA);
      $subLocal(bodyA.m_sweep.c, this$static.temp1);
      bodyA.m_sweep.a_0 -= invIA * cross(this$static.rA, this$static.P);
      $synchronizeTransform(bodyA);
      $mulLocal($set_15(this$static.temp1, this$static.P), invMassB);
      $addLocal(bodyB.m_sweep.c, this$static.temp1);
      bodyB.m_sweep.a_0 += invIB * cross(this$static.rB, this$static.P);
      $synchronizeTransform(bodyB);
    }
  }
  return minSeparation >= -1.5 * ($clinit_Settings() , 0.004999999888241291);
}

function $solveVelocityConstraints(this$static){
  var Px, Py, a, a1, b, bodyA, bodyB, c, ccp, cp1, cp2, friction, i, invIA, invIB, invMassA, invMassB, j, lambda, maxFriction, newImpulse, vA, vB, vn, vn1, vn2, vt, wA, wB;
  for (i = 0; i < this$static.m_constraintCount; ++i) {
    c = this$static.m_constraints[i];
    bodyA = c.bodyA;
    bodyB = c.bodyB;
    wA = bodyA.m_angularVelocity;
    wB = bodyB.m_angularVelocity;
    vA = bodyA.m_linearVelocity;
    vB = bodyB.m_linearVelocity;
    invMassA = bodyA.m_invMass;
    invIA = bodyA.m_invI;
    invMassB = bodyB.m_invMass;
    invIB = bodyB.m_invI;
    this$static.tangent.x = c.normal.y;
    this$static.tangent.y = -c.normal.x;
    friction = c.friction;
    for (j = 0; j < c.pointCount; ++j) {
      ccp = c.points[j];
      a = ccp.rA;
      this$static.dv.x = -wB * ccp.rB.y + vB.x - vA.x + wA * a.y;
      this$static.dv.y = wB * ccp.rB.x + vB.y - vA.y - wA * a.x;
      vt = this$static.dv.x * this$static.tangent.x + this$static.dv.y * this$static.tangent.y;
      lambda = ccp.tangentMass * -vt;
      maxFriction = friction * ccp.normalImpulse;
      newImpulse = clamp(ccp.tangentImpulse + lambda, -maxFriction, maxFriction);
      lambda = newImpulse - ccp.tangentImpulse;
      Px = this$static.tangent.x * lambda;
      Py = this$static.tangent.y * lambda;
      vA.x -= Px * invMassA;
      vA.y -= Py * invMassA;
      wA -= invIA * (ccp.rA.x * Py - ccp.rA.y * Px);
      vB.x += Px * invMassB;
      vB.y += Py * invMassB;
      wB += invIB * (ccp.rB.x * Py - ccp.rB.y * Px);
      ccp.tangentImpulse = newImpulse;
    }
    if (c.pointCount == 1) {
      ccp = c.points[0];
      a1 = ccp.rA;
      this$static.dv.x = -wB * ccp.rB.y + vB.x - vA.x + wA * a1.y;
      this$static.dv.y = wB * ccp.rB.x + vB.y - vA.y - wA * a1.x;
      b = c.normal;
      vn = this$static.dv.x * b.x + this$static.dv.y * b.y;
      lambda = -ccp.normalMass * (vn - ccp.velocityBias);
      a = ccp.normalImpulse + lambda;
      newImpulse = a > 0?a:0;
      lambda = newImpulse - ccp.normalImpulse;
      Px = c.normal.x * lambda;
      Py = c.normal.y * lambda;
      vA.x -= Px * invMassA;
      vA.y -= Py * invMassA;
      wA -= invIA * (ccp.rA.x * Py - ccp.rA.y * Px);
      vB.x += Px * invMassB;
      vB.y += Py * invMassB;
      wB += invIB * (ccp.rB.x * Py - ccp.rB.y * Px);
      ccp.normalImpulse = newImpulse;
    }
     else {
      cp1 = c.points[0];
      cp2 = c.points[1];
      this$static.a_0.x = cp1.normalImpulse;
      this$static.a_0.y = cp2.normalImpulse;
      this$static.dv1.x = -wB * cp1.rB.y + vB.x - vA.x + wA * cp1.rA.y;
      this$static.dv1.y = wB * cp1.rB.x + vB.y - vA.y - wA * cp1.rA.x;
      this$static.dv2.x = -wB * cp2.rB.y + vB.x - vA.x + wA * cp2.rA.y;
      this$static.dv2.y = wB * cp2.rB.x + vB.y - vA.y - wA * cp2.rA.x;
      vn1 = this$static.dv1.x * c.normal.x + this$static.dv1.y * c.normal.y;
      vn2 = this$static.dv2.x * c.normal.x + this$static.dv2.y * c.normal.y;
      this$static.b.x = vn1 - cp1.velocityBias;
      this$static.b.y = vn2 - cp2.velocityBias;
      this$static.temp2.x = c.K.m11 * this$static.a_0.x + c.K.m21 * this$static.a_0.y;
      this$static.temp2.y = c.K.m12 * this$static.a_0.x + c.K.m22 * this$static.a_0.y;
      this$static.b.x -= this$static.temp2.x;
      this$static.b.y -= this$static.temp2.y;
      for (;;) {
        mulToOut(c.normalMass, this$static.b, this$static.x);
        $mulLocal(this$static.x, -1);
        if (this$static.x.x >= 0 && this$static.x.y >= 0) {
          $subLocal($set_15(this$static.d, this$static.x), this$static.a_0);
          $mulLocal($set_15(this$static.P1, c.normal), this$static.d.x);
          $mulLocal($set_15(this$static.P2, c.normal), this$static.d.y);
          $addLocal($set_15(this$static.temp1, this$static.P1), this$static.P2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassA);
          $subLocal(vA, this$static.temp2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassB);
          $addLocal(vB, this$static.temp2);
          wA -= invIA * (cross(cp1.rA, this$static.P1) + cross(cp2.rA, this$static.P2));
          wB += invIB * (cross(cp1.rB, this$static.P1) + cross(cp2.rB, this$static.P2));
          cp1.normalImpulse = this$static.x.x;
          cp2.normalImpulse = this$static.x.y;
          break;
        }
        this$static.x.x = -cp1.normalMass * this$static.b.x;
        this$static.x.y = 0;
        vn2 = c.K.m12 * this$static.x.x + this$static.b.y;
        if (this$static.x.x >= 0 && vn2 >= 0) {
          $subLocal($set_15(this$static.d, this$static.x), this$static.a_0);
          $mulLocal($set_15(this$static.P1, c.normal), this$static.d.x);
          $mulLocal($set_15(this$static.P2, c.normal), this$static.d.y);
          $addLocal($set_15(this$static.temp1, this$static.P1), this$static.P2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassA);
          $subLocal(vA, this$static.temp2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassB);
          $addLocal(vB, this$static.temp2);
          wA -= invIA * (cross(cp1.rA, this$static.P1) + cross(cp2.rA, this$static.P2));
          wB += invIB * (cross(cp1.rB, this$static.P1) + cross(cp2.rB, this$static.P2));
          cp1.normalImpulse = this$static.x.x;
          cp2.normalImpulse = this$static.x.y;
          break;
        }
        this$static.x.x = 0;
        this$static.x.y = -cp2.normalMass * this$static.b.y;
        vn1 = c.K.m21 * this$static.x.y + this$static.b.x;
        if (this$static.x.y >= 0 && vn1 >= 0) {
          $subLocal($set_15(this$static.d, this$static.x), this$static.a_0);
          $mulLocal($set_15(this$static.P1, c.normal), this$static.d.x);
          $mulLocal($set_15(this$static.P2, c.normal), this$static.d.y);
          $addLocal($set_15(this$static.temp1, this$static.P1), this$static.P2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassA);
          $subLocal(vA, this$static.temp2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassB);
          $addLocal(vB, this$static.temp2);
          wA -= invIA * (cross(cp1.rA, this$static.P1) + cross(cp2.rA, this$static.P2));
          wB += invIB * (cross(cp1.rB, this$static.P1) + cross(cp2.rB, this$static.P2));
          cp1.normalImpulse = this$static.x.x;
          cp2.normalImpulse = this$static.x.y;
          break;
        }
        this$static.x.x = 0;
        this$static.x.y = 0;
        vn1 = this$static.b.x;
        vn2 = this$static.b.y;
        if (vn1 >= 0 && vn2 >= 0) {
          $subLocal($set_15(this$static.d, this$static.x), this$static.a_0);
          $mulLocal($set_15(this$static.P1, c.normal), this$static.d.x);
          $mulLocal($set_15(this$static.P2, c.normal), this$static.d.y);
          $addLocal($set_15(this$static.temp1, this$static.P1), this$static.P2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassA);
          $subLocal(vA, this$static.temp2);
          $mulLocal($set_15(this$static.temp2, this$static.temp1), invMassB);
          $addLocal(vB, this$static.temp2);
          wA -= invIA * (cross(cp1.rA, this$static.P1) + cross(cp2.rA, this$static.P2));
          wB += invIB * (cross(cp1.rB, this$static.P1) + cross(cp2.rB, this$static.P2));
          cp1.normalImpulse = this$static.x.x;
          cp2.normalImpulse = this$static.x.y;
          break;
        }
        break;
      }
    }
    $set_15(bodyA.m_linearVelocity, vA);
    bodyA.m_angularVelocity = wA;
    $set_15(bodyB.m_linearVelocity, vB);
    bodyB.m_angularVelocity = wB;
  }
}

function $storeImpulses(this$static){
  var c, i, j, m;
  for (i = 0; i < this$static.m_constraintCount; ++i) {
    c = this$static.m_constraints[i];
    m = c.manifold;
    for (j = 0; j < c.pointCount; ++j) {
      m.points[j].normalImpulse = c.points[j].normalImpulse;
      m.points[j].tangentImpulse = c.points[j].tangentImpulse;
    }
  }
}

function $warmStart(this$static){
  var Px, Py, bodyA, bodyB, c, ccp, i, invIA, invIB, invMassA, invMassB, j, normal;
  for (i = 0; i < this$static.m_constraintCount; ++i) {
    c = this$static.m_constraints[i];
    bodyA = c.bodyA;
    bodyB = c.bodyB;
    invMassA = bodyA.m_invMass;
    invIA = bodyA.m_invI;
    invMassB = bodyB.m_invMass;
    invIB = bodyB.m_invI;
    normal = c.normal;
    crossToOut(normal, 1, this$static.tangent);
    for (j = 0; j < c.pointCount; ++j) {
      ccp = c.points[j];
      Px = ccp.normalImpulse * normal.x + ccp.tangentImpulse * this$static.tangent.x;
      Py = ccp.normalImpulse * normal.y + ccp.tangentImpulse * this$static.tangent.y;
      bodyA.m_angularVelocity -= invIA * (ccp.rA.x * Py - ccp.rA.y * Px);
      bodyA.m_linearVelocity.x -= Px * invMassA;
      bodyA.m_linearVelocity.y -= Py * invMassA;
      bodyB.m_angularVelocity += invIB * (ccp.rB.x * Py - ccp.rB.y * Px);
      bodyB.m_linearVelocity.x += Px * invMassB;
      bodyB.m_linearVelocity.y += Py * invMassB;
    }
  }
}

function ContactSolver_0(){
  var i;
  this.worldManifold = new WorldManifold_0;
  this.tangent = new Vec2_0;
  this.temp1 = new Vec2_0;
  this.temp2 = new Vec2_0;
  this.P = new Vec2_0;
  this.dv = new Vec2_0;
  this.a_0 = new Vec2_0;
  this.b = new Vec2_0;
  this.dv1 = new Vec2_0;
  this.dv2 = new Vec2_0;
  this.x = new Vec2_0;
  this.d = new Vec2_0;
  this.P1 = new Vec2_0;
  this.P2 = new Vec2_0;
  this.psolver = new PositionSolverManifold_0;
  this.rA = new Vec2_0;
  this.rB = new Vec2_0;
  this.m_constraints = initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$ContactConstraint, 256, 0);
  for (i = 0; i < this.m_constraints.length; ++i) {
    this.m_constraints[i] = new ContactConstraint_0;
  }
}

function ContactSolver(){
}

_ = ContactSolver_0.prototype = ContactSolver.prototype = new Object_0;
_.getClass$ = function getClass_158(){
  return Lorg_jbox2d_dynamics_contacts_ContactSolver_2_classLit;
}
;
_.m_constraintCount = 0;
_.m_constraints = null;
function PolygonAndCircleContact_0(argPool){
  $clinit_Contact();
  Contact_0.call(this, argPool);
}

function PolygonAndCircleContact(){
}

_ = PolygonAndCircleContact_0.prototype = PolygonAndCircleContact.prototype = new Contact;
_.evaluate = function evaluate_0(manifold, xfA, xfB){
  $collidePolygonAndCircle(this.pool.collision, this.m_manifold, this.m_fixtureA.m_shape, xfA, (this.m_fixtureB.m_shape , xfB));
}
;
_.getClass$ = function getClass_159(){
  return Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit;
}
;
_.init = function init_2(fixtureA, fixtureB){
  $init_1(this, fixtureA, fixtureB);
}
;
_.castableTypeMap$ = makeCastMap([Q$Contact, Q$PolygonAndCircleContact]);
function PolygonContact_0(argPool){
  $clinit_Contact();
  Contact_0.call(this, argPool);
}

function PolygonContact(){
}

_ = PolygonContact_0.prototype = PolygonContact.prototype = new Contact;
_.evaluate = function evaluate_1(manifold, xfA, xfB){
  $collidePolygons(this.pool.collision, this.m_manifold, this.m_fixtureA.m_shape, xfA, this.m_fixtureB.m_shape, xfB);
}
;
_.getClass$ = function getClass_160(){
  return Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit;
}
;
_.init = function init_3(fixtureA, fixtureB){
  $init_1(this, fixtureA, fixtureB);
}
;
_.castableTypeMap$ = makeCastMap([Q$Contact, Q$PolygonContact]);
function $initialize_1(this$static, cc, index){
  switch (cc.type.ordinal) {
    case 0:
      {
        $getWorldPointToOut(cc.bodyA, cc.localPoint, this$static.pointA);
        $getWorldPointToOut(cc.bodyB, cc.points[0].localPoint, this$static.pointB);
        if (distanceSquared(this$static.pointA, this$static.pointB) > 1.4210854715202004E-14) {
          $subLocal($set_15(this$static.normal, this$static.pointB), this$static.pointA);
          $normalize_0(this$static.normal);
        }
         else {
          $set_14(this$static.normal, 1, 0);
        }
        $mulLocal($addLocal($set_15(this$static.point, this$static.pointA), this$static.pointB), 0.5);
        $subLocal($set_15(this$static.temp, this$static.pointB), this$static.pointA);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        break;
      }

    case 1:
      {
        $getWorldVectorToOut(cc.bodyA, cc.localNormal, this$static.normal);
        $getWorldPointToOut(cc.bodyA, cc.localPoint, this$static.planePoint);
        $getWorldPointToOut(cc.bodyB, cc.points[index].localPoint, this$static.clipPoint);
        $subLocal($set_15(this$static.temp, this$static.clipPoint), this$static.planePoint);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        $set_15(this$static.point, this$static.clipPoint);
        break;
      }

    case 2:
      {
        $getWorldVectorToOut(cc.bodyB, cc.localNormal, this$static.normal);
        $getWorldPointToOut(cc.bodyB, cc.localPoint, this$static.planePoint);
        $getWorldPointToOut(cc.bodyA, cc.points[index].localPoint, this$static.clipPoint);
        $subLocal($set_15(this$static.temp, this$static.clipPoint), this$static.planePoint);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        $set_15(this$static.point, this$static.clipPoint);
        $negateLocal(this$static.normal);
      }

  }
}

function PositionSolverManifold_0(){
  this.normal = new Vec2_0;
  this.point = new Vec2_0;
  this.pointA = new Vec2_0;
  this.pointB = new Vec2_0;
  this.temp = new Vec2_0;
  this.planePoint = new Vec2_0;
  this.clipPoint = new Vec2_0;
}

function PositionSolverManifold(){
}

_ = PositionSolverManifold_0.prototype = PositionSolverManifold.prototype = new Object_0;
_.getClass$ = function getClass_161(){
  return Lorg_jbox2d_dynamics_contacts_PositionSolverManifold_2_classLit;
}
;
_.separation = 0;
function TOIConstraint_0(){
  var i;
  this.localPoints = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, ($clinit_Settings() , 2), 0);
  this.localNormal = new Vec2_0;
  this.localPoint = new Vec2_0;
  for (i = 0; i < this.localPoints.length; ++i) {
    this.localPoints[i] = new Vec2_0;
  }
}

function TOIConstraint(){
}

_ = TOIConstraint_0.prototype = TOIConstraint.prototype = new Object_0;
_.getClass$ = function getClass_162(){
  return Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$TOIConstraint]);
_.bodyA = null;
_.bodyB = null;
_.pointCount = 0;
_.radius = 0;
_.type = null;
function $initialize_2(this$static, contacts, count, toiBody){
  var bodyA, bodyB, constraint, contact, cp, fixtureA, fixtureB, i, j, manifold, old, radiusA, radiusB, shapeA, shapeB;
  this$static.m_count = count;
  this$static.m_toiBody = toiBody;
  if (this$static.m_count >= this$static.m_constraints.length) {
    old = this$static.m_constraints;
    this$static.m_constraints = initDim(_3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$TOIConstraint, old.length * 2, 0);
    arraycopy(old, 0, this$static.m_constraints, 0, old.length);
    for (i = old.length; i < this$static.m_constraints.length; ++i) {
      this$static.m_constraints[i] = new TOIConstraint_0;
    }
  }
  for (i = 0; i < this$static.m_count; ++i) {
    contact = contacts[i];
    fixtureA = contact.m_fixtureA;
    fixtureB = contact.m_fixtureB;
    shapeA = fixtureA.m_shape;
    shapeB = fixtureB.m_shape;
    radiusA = shapeA.m_radius;
    radiusB = shapeB.m_radius;
    bodyA = fixtureA.m_body;
    bodyB = fixtureB.m_body;
    manifold = contact.m_manifold;
    constraint = this$static.m_constraints[i];
    constraint.bodyA = bodyA;
    constraint.bodyB = bodyB;
    $set_15(constraint.localNormal, manifold.localNormal);
    $set_15(constraint.localPoint, manifold.localPoint);
    constraint.type = manifold.type;
    constraint.pointCount = manifold.pointCount;
    constraint.radius = radiusA + radiusB;
    for (j = 0; j < constraint.pointCount; ++j) {
      cp = manifold.points[j];
      constraint.localPoints[j] = cp.localPoint;
    }
  }
}

function $solve_1(this$static){
  var C, K, bodyA, bodyB, c, i, impulse, invIA, invIB, invMassA, invMassB, j, massA, massB, minSeparation, normal, point, rnA, rnB, separation;
  minSeparation = 0;
  for (i = 0; i < this$static.m_count; ++i) {
    c = this$static.m_constraints[i];
    bodyA = c.bodyA;
    bodyB = c.bodyB;
    massA = bodyA.m_mass;
    massB = bodyB.m_mass;
    bodyA == this$static.m_toiBody?(massB = 0):(massA = 0);
    invMassA = massA * bodyA.m_invMass;
    invIA = massA * bodyA.m_invI;
    invMassB = massB * bodyB.m_invMass;
    invIB = massB * bodyB.m_invI;
    for (j = 0; j < c.pointCount; ++j) {
      $initialize_3(this$static.psm, c, j);
      normal = this$static.psm.normal;
      point = this$static.psm.point;
      separation = this$static.psm.separation;
      $subLocal($set_15(this$static.rA, point), bodyA.m_sweep.c);
      $subLocal($set_15(this$static.rB, point), bodyB.m_sweep.c);
      minSeparation = ($clinit_MathUtils() , minSeparation < separation?minSeparation:separation);
      C = clamp(0.75 * (separation + ($clinit_Settings() , 0.004999999888241291)), -0.20000000298023224, 0);
      rnA = cross(this$static.rA, normal);
      rnB = cross(this$static.rB, normal);
      K = invMassA + invMassB + invIA * rnA * rnA + invIB * rnB * rnB;
      impulse = K > 0?-C / K:0;
      $mulLocal($set_15(this$static.P, normal), impulse);
      $mulLocal($set_15(this$static.temp, this$static.P), invMassA);
      $subLocal(bodyA.m_sweep.c, this$static.temp);
      bodyA.m_sweep.a_0 -= invIA * cross(this$static.rA, this$static.P);
      $synchronizeTransform(bodyA);
      $mulLocal($set_15(this$static.temp, this$static.P), invMassB);
      $addLocal(bodyB.m_sweep.c, this$static.temp);
      bodyB.m_sweep.a_0 += invIB * cross(this$static.rB, this$static.P);
      $synchronizeTransform(bodyB);
    }
  }
  return minSeparation >= -1.5 * ($clinit_Settings() , 0.004999999888241291);
}

function TOISolver_0(){
  var i;
  this.m_constraints = initDim(_3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$TOIConstraint, 4, 0);
  this.psm = new TOISolverManifold_0;
  this.rA = new Vec2_0;
  this.rB = new Vec2_0;
  this.P = new Vec2_0;
  this.temp = new Vec2_0;
  this.m_count = 0;
  this.m_toiBody = null;
  for (i = 0; i < this.m_constraints.length; ++i) {
    this.m_constraints[i] = new TOIConstraint_0;
  }
}

function TOISolver(){
}

_ = TOISolver_0.prototype = TOISolver.prototype = new Object_0;
_.getClass$ = function getClass_163(){
  return Lorg_jbox2d_dynamics_contacts_TOISolver_2_classLit;
}
;
_.m_count = 0;
_.m_toiBody = null;
--></script>
<script><!--
function $initialize_3(this$static, cc, index){
  switch (cc.type.ordinal) {
    case 0:
      {
        $getWorldPointToOut(cc.bodyA, cc.localPoint, this$static.pointA);
        $getWorldPointToOut(cc.bodyB, cc.localPoints[0], this$static.pointB);
        if (distanceSquared(this$static.pointA, this$static.pointB) > 1.4210854715202004E-14) {
          $subLocal($set_15(this$static.normal, this$static.pointB), this$static.pointA);
          $normalize_0(this$static.normal);
        }
         else {
          $set_14(this$static.normal, 1, 0);
        }
        $mulLocal($addLocal($set_15(this$static.point, this$static.pointA), this$static.pointB), 0.5);
        $subLocal($set_15(this$static.temp, this$static.pointB), this$static.pointA);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        break;
      }

    case 1:
      {
        $getWorldVectorToOut(cc.bodyA, cc.localNormal, this$static.normal);
        $getWorldPointToOut(cc.bodyA, cc.localPoint, this$static.planePoint);
        $getWorldPointToOut(cc.bodyB, cc.localPoints[index], this$static.clipPoint);
        $subLocal($set_15(this$static.temp, this$static.clipPoint), this$static.planePoint);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        $set_15(this$static.point, this$static.clipPoint);
        break;
      }

    case 2:
      {
        $getWorldVectorToOut(cc.bodyB, cc.localNormal, this$static.normal);
        $getWorldPointToOut(cc.bodyB, cc.localPoint, this$static.planePoint);
        $getWorldPointToOut(cc.bodyA, cc.localPoints[index], this$static.clipPoint);
        $subLocal($set_15(this$static.temp, this$static.clipPoint), this$static.planePoint);
        this$static.separation = dot_0(this$static.temp, this$static.normal) - cc.radius;
        $set_15(this$static.point, this$static.clipPoint);
        $negateLocal(this$static.normal);
      }

  }
}

function TOISolverManifold_0(){
  this.normal = new Vec2_0;
  this.point = new Vec2_0;
  this.pointA = new Vec2_0;
  this.pointB = new Vec2_0;
  this.temp = new Vec2_0;
  this.planePoint = new Vec2_0;
  this.clipPoint = new Vec2_0;
}

function TOISolverManifold(){
}

_ = TOISolverManifold_0.prototype = TOISolverManifold.prototype = new Object_0;
_.getClass$ = function getClass_164(){
  return Lorg_jbox2d_dynamics_contacts_TOISolverManifold_2_classLit;
}
;
_.separation = 0;
function $initStack(this$static){
  this$static.index_0 = 9;
  this$static.size = 10;
  this$static.stack_0 = this$static.createArray(10, null);
}

function $pop_0(this$static){
  if (this$static.index_0 >= this$static.size) {
    this$static.stack_0 = this$static.createArray(this$static.size * 2, this$static.stack_0);
    this$static.size = this$static.stack_0.length;
  }
  return this$static.stack_0[this$static.index_0++];
}

function MutableStack_0(){
  this.index_0 = 0;
  this.size = 0;
}

function MutableStack(){
}

_ = MutableStack.prototype = new Object_0;
_.getClass$ = function getClass_165(){
  return Lorg_jbox2d_pooling_MutableStack_2_classLit;
}
;
_.index_0 = 0;
_.size = 0;
_.stack_0 = null;
function $createArray(this$static, argSize, argOld){
  var i, sk;
  if (argOld != null) {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$CircleContact, argSize, 0);
    for (i = 0; i < argOld.length; ++i) {
      sk[i] = argOld[i];
    }
    for (i = argOld.length; i < argSize; ++i) {
      sk[i] = new CircleContact_0(this$static.pool);
    }
    return sk;
  }
   else {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$CircleContact, argSize, 0);
    for (i = 0; i < argSize; ++i) {
      sk[i] = new CircleContact_0(this$static.pool);
    }
    return sk;
  }
}

function CircleContactStack_0(argPool){
  MutableStack_0.call(this);
  this.pool = argPool;
  $initStack(this);
}

function CircleContactStack(){
}

_ = CircleContactStack_0.prototype = CircleContactStack.prototype = new MutableStack;
_.createArray = function createArray(argSize, argOld){
  return $createArray(this, argSize, argOld);
}
;
_.getClass$ = function getClass_166(){
  return Lorg_jbox2d_pooling_CircleContactStack_2_classLit;
}
;
_.pool = null;
function $pop_1(this$static){
  return this$static.pool[this$static.index_0++];
}

function OrderedStack_0(){
  this.index_0 = 0;
}

function OrderedStack(){
}

_ = OrderedStack.prototype = new Object_0;
_.getClass$ = function getClass_167(){
  return Lorg_jbox2d_pooling_OrderedStack_2_classLit;
}
;
_.container = null;
_.index_0 = 0;
_.pool = null;
function OrderedStackAABB_0(){
  var i;
  OrderedStack_0.call(this);
  this.pool = initDim(_3Lorg_jbox2d_collision_AABB_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$AABB, 100, 0);
  for (i = 0; i < 100; ++i) {
    this.pool[i] = new AABB_0;
  }
  this.container = initDim(_3Lorg_jbox2d_collision_AABB_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$AABB, 10, 0);
  for (i = 0; i < 10; ++i) {
    this.container[i] = new AABB_0;
  }
}

function OrderedStackAABB(){
}

_ = OrderedStackAABB_0.prototype = OrderedStackAABB.prototype = new OrderedStack;
_.getClass$ = function getClass_168(){
  return Lorg_jbox2d_pooling_OrderedStackAABB_2_classLit;
}
;
function OrderedStackMat22_0(){
  var i;
  OrderedStack_0.call(this);
  this.pool = initDim(_3Lorg_jbox2d_common_Mat22_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Mat22, 100, 0);
  for (i = 0; i < 100; ++i) {
    this.pool[i] = new Mat22_0;
  }
  this.container = initDim(_3Lorg_jbox2d_common_Mat22_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Mat22, 10, 0);
  for (i = 0; i < 10; ++i) {
    this.container[i] = new Mat22_0;
  }
}

function OrderedStackMat22(){
}

_ = OrderedStackMat22_0.prototype = OrderedStackMat22.prototype = new OrderedStack;
_.getClass$ = function getClass_169(){
  return Lorg_jbox2d_pooling_OrderedStackMat22_2_classLit;
}
;
function OrderedStackVec2_0(argStackSize){
  var i;
  OrderedStack_0.call(this);
  this.pool = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, argStackSize, 0);
  for (i = 0; i < argStackSize; ++i) {
    this.pool[i] = new Vec2_0;
  }
  this.container = initDim(_3Lorg_jbox2d_common_Vec2_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec2, 10, 0);
  for (i = 0; i < 10; ++i) {
    this.container[i] = new Vec2_0;
  }
}

function OrderedStackVec2(){
}

_ = OrderedStackVec2_0.prototype = OrderedStackVec2.prototype = new OrderedStack;
_.getClass$ = function getClass_170(){
  return Lorg_jbox2d_pooling_OrderedStackVec2_2_classLit;
}
;
function OrderedStackVec3_0(){
  var i;
  OrderedStack_0.call(this);
  this.pool = initDim(_3Lorg_jbox2d_common_Vec3_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec3, 100, 0);
  for (i = 0; i < 100; ++i) {
    this.pool[i] = new Vec3_0;
  }
  this.container = initDim(_3Lorg_jbox2d_common_Vec3_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Vec3, 10, 0);
  for (i = 0; i < 10; ++i) {
    this.container[i] = new Vec3_0;
  }
}

function OrderedStackVec3(){
}

_ = OrderedStackVec3_0.prototype = OrderedStackVec3.prototype = new OrderedStack;
_.getClass$ = function getClass_171(){
  return Lorg_jbox2d_pooling_OrderedStackVec3_2_classLit;
}
;
function $createArray_0(this$static, argSize, argOld){
  var i, sk;
  if (argOld != null) {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$PolygonAndCircleContact, argSize, 0);
    for (i = 0; i < argOld.length; ++i) {
      sk[i] = argOld[i];
    }
    for (i = argOld.length; i < argSize; ++i) {
      sk[i] = new PolygonAndCircleContact_0(this$static.pool);
    }
    return sk;
  }
   else {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$PolygonAndCircleContact, argSize, 0);
    for (i = 0; i < argSize; ++i) {
      sk[i] = new PolygonAndCircleContact_0(this$static.pool);
    }
    return sk;
  }
}

function PolygonAndCircleContactStack_0(argPool){
  MutableStack_0.call(this);
  this.pool = argPool;
  $initStack(this);
}

function PolygonAndCircleContactStack(){
}

_ = PolygonAndCircleContactStack_0.prototype = PolygonAndCircleContactStack.prototype = new MutableStack;
_.createArray = function createArray_0(argSize, argOld){
  return $createArray_0(this, argSize, argOld);
}
;
_.getClass$ = function getClass_172(){
  return Lorg_jbox2d_pooling_PolygonAndCircleContactStack_2_classLit;
}
;
_.pool = null;
function $createArray_1(this$static, argSize, argOld){
  var i, sk;
  if (argOld != null) {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$PolygonContact, argSize, 0);
    for (i = 0; i < argOld.length; ++i) {
      sk[i] = argOld[i];
    }
    for (i = argOld.length; i < argSize; ++i) {
      sk[i] = new PolygonContact_0(this$static.pool);
    }
    return sk;
  }
   else {
    sk = initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$PolygonContact, argSize, 0);
    for (i = 0; i < argSize; ++i) {
      sk[i] = new PolygonContact_0(this$static.pool);
    }
    return sk;
  }
}

function PolygonContactStack_0(argPool){
  MutableStack_0.call(this);
  this.pool = argPool;
  $initStack(this);
}

function PolygonContactStack(){
}

_ = PolygonContactStack_0.prototype = PolygonContactStack.prototype = new MutableStack;
_.createArray = function createArray_1(argSize, argOld){
  return $createArray_1(this, argSize, argOld);
}
;
_.getClass$ = function getClass_173(){
  return Lorg_jbox2d_pooling_PolygonContactStack_2_classLit;
}
;
_.pool = null;
function TLManifold_0(){
}

function TLManifold(){
}

_ = TLManifold_0.prototype = TLManifold.prototype = new ThreadLocal;
_.getClass$ = function getClass_174(){
  return Lorg_jbox2d_pooling_TLManifold_2_classLit;
}
;
function WorldPool_0(){
  new HashMap_0;
  new HashMap_0;
  new HashMap_0;
  this.pcstack = new PolygonContactStack_0(this);
  this.ccstack = new CircleContactStack_0(this);
  this.cpstack = new PolygonAndCircleContactStack_0(this);
  this.vecs = new OrderedStackVec2_0(100);
  new OrderedStackVec3_0;
  new OrderedStackMat22_0;
  new OrderedStackAABB_0;
  this.dist = new Distance_0;
  this.collision = new Collision_0(this);
  this.toi = new TimeOfImpact_0(this);
}

function WorldPool(){
}

_ = WorldPool_0.prototype = WorldPool.prototype = new Object_0;
_.getClass$ = function getClass_175(){
  return Lorg_jbox2d_pooling_WorldPool_2_classLit;
}
;
_.collision = null;
_.dist = null;
_.toi = null;
_.vecs = null;
function $getImage(this$static, path){
  var image;
  ++this$static.totalRequestsCount;
  image = $doGetImage(this$static, path);
  $addCallback(image, this$static.callback);
  return image;
}

function AbstractAssets(){
}

_ = AbstractAssets.prototype = new Object_0;
_.getClass$ = function getClass_176(){
  return Lplayn_core_AbstractAssets_2_classLit;
}
;
_.errorsCount = 0;
_.successCount = 0;
_.totalRequestsCount = 0;
function AbstractAssets$1_0(this$0){
  this.this$0 = this$0;
}

function AbstractAssets$1(){
}

_ = AbstractAssets$1_0.prototype = AbstractAssets$1.prototype = new Object_0;
_.done = function done_0(resource){
  ++this.this$0.successCount;
}
;
_.error = function error(e){
  ++this.this$0.errorsCount;
}
;
_.getClass$ = function getClass_177(){
  return Lplayn_core_AbstractAssets$1_2_classLit;
}
;
_.this$0 = null;
function $doGetImage(this$static, path){
  var object, url, img;
  if ((object = $get_1(this$static.cache, path)) == null) {
    object = (url = this$static.pathPrefix + path , $getBundle(this$static, path) , img = $doc.createElement('img') , 'crossOrigin' in img && img.setAttribute('crossOrigin', 'anonymous') , img.src = url , new HtmlImage_0(img));
    $put(this$static.cache, path, object);
  }
  return object;
}

function AbstractCachingAssets(){
}

_ = AbstractCachingAssets.prototype = new AbstractAssets;
_.getClass$ = function getClass_178(){
  return Lplayn_core_AbstractCachingAssets_2_classLit;
}
;
function $isSet(this$static, flag){
  return (this$static.flags & flag.bitmask) != 0;
}

function $setFlag(this$static, flag){
  this$static.flags |= flag.bitmask;
}

function AbstractLayer_0(transform){
  this.transform_0 = transform;
  this.alpha = 1;
  $setFlag(this, ($clinit_AbstractLayer$Flag() , VISIBLE_1));
}

function AbstractLayer(){
}

_ = AbstractLayer.prototype = new Object_0;
_.getClass$ = function getClass_179(){
  return Lplayn_core_AbstractLayer_2_classLit;
}
;
_.onAdd = function onAdd(){
  !$isSet(this, ($clinit_AbstractLayer$Flag() , DESTROYED));
}
;
_.onRemove = function onRemove(){
}
;
_.originX_0 = function originX_0(){
  return this.originX;
}
;
_.originY_0 = function originY_0(){
  return this.originY;
}
;
_.parent_1 = function parent_1(){
  return this.parent_0;
}
;
_.setDepth = function setDepth(depth){
  var oldDepth;
  oldDepth = this.depth;
  if (depth != oldDepth) {
    this.depth = depth;
    !!this.parent_0 && this.parent_0.depthChanged(this, oldDepth);
  }
}
;
_.setOrigin = function setOrigin(x, y){
  this.originX = x;
  this.originY = y;
}
;
_.setRotation = function setRotation(angle){
  this.transform_0.setRotation_0(angle);
}
;
_.setScale = function setScale(s){
  this.transform_0.setUniformScale(s);
}
;
_.setScale_0 = function setScale_0(x, y){
  initValues(_3Ljava_lang_Object_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$Object, [new Float_0(x), new Float_0(y)]);
  this.transform_0.setScale_1(x, y);
}
;
_.setTranslation = function setTranslation(x, y){
  this.transform_0.setTranslation_0(x, y);
}
;
_.transform_1 = function transform_0(){
  return this.transform_0;
}
;
_.alpha = 0;
_.depth = 0;
_.flags = 0;
_.originX = 0;
_.originY = 0;
_.parent_0 = null;
_.transform_0 = null;
function $clinit_AbstractLayer$Flag(){
  $clinit_AbstractLayer$Flag = nullMethod;
  DESTROYED = new AbstractLayer$Flag_0('DESTROYED', 0, 1);
  VISIBLE_1 = new AbstractLayer$Flag_0('VISIBLE', 1, 2);
  SHOWN = new AbstractLayer$Flag_0('SHOWN', 2, 4);
  $VALUES_9 = initValues(_3Lplayn_core_AbstractLayer$Flag_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$AbstractLayer$Flag, [DESTROYED, VISIBLE_1, SHOWN]);
}

function AbstractLayer$Flag_0(enum$name, enum$ordinal, bitmask){
  Enum_0.call(this, enum$name, enum$ordinal);
  this.bitmask = bitmask;
}

function values_9(){
  $clinit_AbstractLayer$Flag();
  return $VALUES_9;
}

function AbstractLayer$Flag(){
}

_ = AbstractLayer$Flag_0.prototype = AbstractLayer$Flag.prototype = new Enum;
_.getClass$ = function getClass_180(){
  return Lplayn_core_AbstractLayer$Flag_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$AbstractLayer$Flag]);
_.bitmask = 0;
var $VALUES_9, DESTROYED, SHOWN, VISIBLE_1;
function Events$Input$Impl(){
}

_ = Events$Input$Impl.prototype = new Object_0;
_.addFields = function addFields(builder){
  $append_5($append_11($append_8((builder.impl.string += 'time=' , builder), this.time), ', preventDefault='), this.preventDefault_0);
}
;
_.getClass$ = function getClass_181(){
  return Lplayn_core_Events$Input$Impl_2_classLit;
}
;
_.name_1 = function name_1(){
  return 'Events.Input';
}
;
_.toString$ = function toString_22(){
  var builder;
  builder = $append_6(new StringBuilder_1(this.name_1()), 91);
  this.addFields(builder);
  return (builder.impl.string += ']' , builder).impl.string;
}
;
_.preventDefault_0 = false;
_.time = 0;
function Events$Position$Impl_0(time, x, y){
  this.time = time;
  this.x = x;
  this.y = y;
}

function Events$Position$Impl(){
}

_ = Events$Position$Impl.prototype = new Events$Input$Impl;
_.addFields = function addFields_0(builder){
  $append_5($append_11($append_8((builder.impl.string += 'time=' , builder), this.time), ', preventDefault='), this.preventDefault_0);
  $append_9($append_11($append_9((builder.impl.string += ', x=' , builder), this.x), ', y='), this.y);
}
;
_.getClass$ = function getClass_182(){
  return Lplayn_core_Events$Position$Impl_2_classLit;
}
;
_.name_1 = function name_2(){
  return 'Events.Position';
}
;
_.x = 0;
_.y = 0;
function $add_3(this$static, self_0, child){
  var count, index, parent_0;
  parent_0 = child.parent_0;
  if (parent_0 == self_0) {
    return $findChild(this$static, child, child.depth);
  }
  count = this$static.children.size;
  count == 0 || $get_2(this$static.children, count - 1).depth <= child.depth?(index = count):(index = $findInsertion(this$static, child.depth));
  !!parent_0 && child.parent_0.remove(child);
  $add_0(this$static.children, index, child);
  child.parent_0 = self_0;
  child.onAdd();
  return index;
}

function $depthChanged(this$static, layer, oldDepth){
  var leftCorrect, newDepth, newIndex, oldIndex, rightCorrect;
  oldIndex = $findChild(this$static, layer, oldDepth);
  newDepth = layer.depth;
  leftCorrect = oldIndex == 0 || $get_2(this$static.children, oldIndex - 1).depth <= newDepth;
  rightCorrect = oldIndex == this$static.children.size - 1 || $get_2(this$static.children, oldIndex + 1).depth >= newDepth;
  if (leftCorrect && rightCorrect) {
    return oldIndex;
  }
  $remove(this$static.children, oldIndex);
  newIndex = $findInsertion(this$static, newDepth);
  $add_0(this$static.children, newIndex, layer);
  return newIndex;
}

function $findChild(this$static, child, depth){
  var c, ii, ll, startIdx;
  startIdx = $findInsertion(this$static, depth);
  for (ii = startIdx - 1; ii >= 0; --ii) {
    c = $get_2(this$static.children, ii);
    if (c == child) {
      return ii;
    }
    if (c.depth != depth) {
      break;
    }
  }
  for (ii = startIdx , ll = this$static.children.size; ii < ll; ++ii) {
    c = $get_2(this$static.children, ii);
    if (c == child) {
      return ii;
    }
    if (c.depth != depth) {
      break;
    }
  }
  return -1;
}

function $findInsertion(this$static, depth){
  var high, low, mid, midDepth;
  low = 0;
  high = this$static.children.size - 1;
  while (low <= high) {
    mid = ~~(low + high) >>> 1;
    midDepth = $get_2(this$static.children, mid).depth;
    if (depth > midDepth) {
      low = mid + 1;
    }
     else if (depth < midDepth) {
      high = mid - 1;
    }
     else {
      return mid;
    }
  }
  return low;
}

function $onAdd(this$static){
  var child, child$iterator;
  for (child$iterator = new AbstractList$IteratorImpl_0(this$static.children); child$iterator.i < child$iterator.this$0.size_0();) {
    child = $next_0(child$iterator);
    child.onAdd();
  }
}

function $onRemove(this$static){
  var child, child$iterator;
  for (child$iterator = new AbstractList$IteratorImpl_0(this$static.children); child$iterator.i < child$iterator.this$0.size_0();) {
    child = $next_0(child$iterator);
    child.onRemove();
  }
}

function $remove_0(this$static, child){
  var index, child_0;
  index = $findChild(this$static, child, child.depth);
  if (index < 0) {
    throw new UnsupportedOperationException_1('Could not remove Layer because it is not a child of the GroupLayer');
  }
  child_0 = $remove(this$static.children, index);
  child_0.onRemove();
  child_0.parent_0 = null;
}

function GroupLayerImpl_0(){
  this.children = new ArrayList_0;
}

function GroupLayerImpl(){
}

_ = GroupLayerImpl_0.prototype = GroupLayerImpl.prototype = new Object_0;
_.getClass$ = function getClass_183(){
  return Lplayn_core_GroupLayerImpl_2_classLit;
}
;
function parentToLayer(layer, point, into){
  into = layer.transform_1().inverseTransform(point, into);
  into.x += layer.originX_0();
  into.y += layer.originY_0();
  return into;
}

function screenToLayer(layer, point, into){
  var cur, parent_0;
  parent_0 = layer.parent_1();
  cur = !parent_0?point:screenToLayer(parent_0, point, into);
  return parentToLayer(layer, cur, into);
}

function Mouse$ButtonEvent$Impl_0(time, x, y, button){
  Events$Position$Impl_0.call(this, time, x, y);
  this.button_0 = button;
}

function Mouse$ButtonEvent$Impl(){
}

_ = Mouse$ButtonEvent$Impl_0.prototype = Mouse$ButtonEvent$Impl.prototype = new Events$Position$Impl;
_.addFields = function addFields_1(builder){
  $append_5($append_11($append_8((builder.impl.string += 'time=' , builder), this.time), ', preventDefault='), this.preventDefault_0);
  $append_9($append_11($append_9((builder.impl.string += ', x=' , builder), this.x), ', y='), this.y);
  $append_10((builder.impl.string += ', button=' , builder), this.button_0);
}
;
_.getClass$ = function getClass_184(){
  return Lplayn_core_Mouse$ButtonEvent$Impl_2_classLit;
}
;
_.name_1 = function name_3(){
  return 'ButtonEvent';
}
;
_.button_0 = 0;
function Mouse$MotionEvent$Impl_0(time, x, y){
  Events$Position$Impl_0.call(this, time, x, y);
}

function Mouse$MotionEvent$Impl(){
}

_ = Mouse$MotionEvent$Impl_0.prototype = Mouse$MotionEvent$Impl.prototype = new Events$Position$Impl;
_.getClass$ = function getClass_185(){
  return Lplayn_core_Mouse$MotionEvent$Impl_2_classLit;
}
;
_.name_1 = function name_4(){
  return 'MotionEvent';
}
;
function Mouse$WheelEvent$Impl_0(time, velocity){
  this.time = time;
  this.velocity = velocity;
}

function Mouse$WheelEvent$Impl(){
}

_ = Mouse$WheelEvent$Impl_0.prototype = Mouse$WheelEvent$Impl.prototype = new Events$Input$Impl;
_.addFields = function addFields_2(builder){
  $append_5($append_11($append_8((builder.impl.string += 'time=' , builder), this.time), ', preventDefault='), this.preventDefault_0);
  $append_9((builder.impl.string += ', velocity=' , builder), this.velocity);
}
;
_.getClass$ = function getClass_186(){
  return Lplayn_core_Mouse$WheelEvent$Impl_2_classLit;
}
;
_.name_1 = function name_5(){
  return 'WheelEvent';
}
;
_.velocity = 0;
function run(game){
  $run(platform_1, game);
}

var platform_1 = null;
function Pointer$Event$Impl_0(time, x, y){
  Events$Position$Impl_0.call(this, time, x, y);
}

function Pointer$Event$Impl(){
}

_ = Pointer$Event$Impl_0.prototype = Pointer$Event$Impl.prototype = new Events$Position$Impl;
_.getClass$ = function getClass_187(){
  return Lplayn_core_Pointer$Event$Impl_2_classLit;
}
;
_.name_1 = function name_6(){
  return 'Pointer.Event';
}
;
function $setScale(this$static, scaleX, scaleY){
  this$static.setScaleX(scaleX);
  this$static.setScaleY(scaleY);
  return this$static;
}

function AbstractTransform(){
}

_ = AbstractTransform.prototype = new Object_0;
_.getClass$ = function getClass_188(){
  return Lpythagoras_f_AbstractTransform_2_classLit;
}
;
_.setRotation_0 = function setRotation_0(angle){
  throw new UnsupportedOperationException_0;
}
;
_.setScale_1 = function setScale_1(scaleX, scaleY){
  return $setScale(this, scaleX, scaleY);
}
;
_.setScaleX = function setScaleX(scaleX){
  throw new UnsupportedOperationException_0;
}
;
_.setScaleY = function setScaleY(scaleY){
  throw new UnsupportedOperationException_0;
}
;
_.setTranslation_0 = function setTranslation_0(tx, ty){
  this.setTx(tx);
  this.setTy(ty);
  return this;
}
;
_.setTx = function setTx(tx){
  throw new UnsupportedOperationException_0;
}
;
_.setTy = function setTy(ty){
  throw new UnsupportedOperationException_0;
}
;
_.setUniformScale = function setUniformScale(scale){
  throw new UnsupportedOperationException_0;
}
;
function AffineTransform(){
}

_ = AffineTransform.prototype = new AbstractTransform;
_.getClass$ = function getClass_189(){
  return Lpythagoras_f_AffineTransform_2_classLit;
}
;
_.inverseTransform = function inverseTransform(p, into){
  var det, rdet, x, y;
  x = p.x - this.tx;
  y = p.y - this.ty;
  det = this.m00 * this.m11 - this.m01 * this.m10;
  if (abs(det) == 0) {
    throw new NoninvertibleTransformException_0('affine [' + toString_27(this.m00) + ' ' + toString_27(this.m01) + ' ' + toString_27(this.m10) + ' ' + toString_27(this.m11) + ' ' + new Vector_1(this.tx, this.ty) + ']');
  }
  rdet = 1 / det;
  return $set_18(into, (x * this.m11 - y * this.m10) * rdet, (y * this.m00 - x * this.m01) * rdet);
}
;
_.scaleX = function scaleX_0(){
  return sqrt(this.m00 * this.m00 + this.m01 * this.m01);
}
;
_.scaleY = function scaleY_0(){
  return sqrt(this.m10 * this.m10 + this.m11 * this.m11);
}
;
_.setRotation_0 = function setRotation_1(angle){
  var cosa, sina, sx, sy;
  sx = sqrt(this.m00 * this.m00 + this.m01 * this.m01);
  sy = sqrt(this.m10 * this.m10 + this.m11 * this.m11);
  sina = Math.sin(angle);
  cosa = Math.cos(angle);
  this.m00 = cosa * sx;
  this.m01 = sina * sx;
  this.m10 = -sina * sy;
  this.m11 = cosa * sy;
  return this;
}
;
_.setScaleX = function setScaleX_0(scaleX){
  var mult;
  mult = scaleX / sqrt(this.m00 * this.m00 + this.m01 * this.m01);
  this.m00 *= mult;
  this.m01 *= mult;
  return this;
}
;
_.setScaleY = function setScaleY_0(scaleY){
  var mult;
  mult = scaleY / sqrt(this.m10 * this.m10 + this.m11 * this.m11);
  this.m10 *= mult;
  this.m11 *= mult;
  return this;
}
;
_.setTranslation_0 = function setTranslation_1(tx, ty){
  this.tx = tx;
  this.ty = ty;
  return this;
}
;
_.setTx = function setTx_0(tx){
  this.tx = tx;
  return this;
}
;
_.setTy = function setTy_0(ty){
  this.ty = ty;
  return this;
}
;
_.setUniformScale = function setUniformScale_0(scale){
  return $setScale(this, scale, scale);
}
;
_.toString$ = function toString_23(){
  return 'affine [' + toString_27(this.m00) + ' ' + toString_27(this.m01) + ' ' + toString_27(this.m10) + ' ' + toString_27(this.m11) + ' ' + new Vector_1(this.tx, this.ty) + ']';
}
;
_.tx_0 = function tx_0(){
  return this.tx;
}
;
_.ty_0 = function ty_0(){
  return this.ty;
}
;
_.m00 = 0;
_.m01 = 0;
_.m10 = 0;
_.m11 = 0;
_.tx = 0;
_.ty = 0;
function $clinit_StockInternalTransform(){
  $clinit_StockInternalTransform = nullMethod;
  new StockInternalTransform_0;
}

function StockInternalTransform_0(){
  $clinit_StockInternalTransform();
  this.m00 = 1;
  this.m01 = 0;
  this.m10 = 0;
  this.m11 = 1;
  this.tx = 0;
  this.ty = 0;
}

function StockInternalTransform(){
}

_ = StockInternalTransform_0.prototype = StockInternalTransform.prototype = new AffineTransform;
_.getClass$ = function getClass_190(){
  return Lplayn_core_StockInternalTransform_2_classLit;
}
;
_.m00_0 = function m00_0(){
  return this.m00;
}
;
_.m01_0 = function m01_0(){
  return this.m01;
}
;
_.m10_0 = function m10_0(){
  return this.m10;
}
;
_.m11_0 = function m11_0(){
  return this.m11;
}
;
function $drawTexture(this$static, tex, texWidth, texHeight, local, dy, dw, dh, repeatX, repeatY, alpha){
  var sh, sw;
  sw = repeatX?dw:texWidth;
  sh = repeatY?dh:texHeight;
  $drawTexture_0(this$static, tex, texWidth, texHeight, local, 0, dy, dw, dh, 0, 0, sw, sh, alpha);
}

function $drawTexture_0(this$static, tex, texWidth, texHeight, local, dx, dy, dw, dh, sx, sy, sw, sh, alpha){
  var idx;
  $prepare_0(this$static.texShader, tex, alpha);
  sx /= texWidth;
  sw /= texWidth;
  sy /= texHeight;
  sh /= texHeight;
  idx = $beginPrimitive(this$static.texShader);
  $buildVertex(this$static.texShader, local, dx, dy, sx, sy);
  $buildVertex(this$static.texShader, local, dx + dw, dy, sx + sw, sy);
  $buildVertex(this$static.texShader, local, dx, dy + dh, sx, sy + sh);
  $buildVertex(this$static.texShader, local, dx + dw, dy + dh, sx + sw, sy + sh);
  $addElement(this$static.texShader, idx);
  $addElement(this$static.texShader, idx + 1);
  $addElement(this$static.texShader, idx + 2);
  $addElement(this$static.texShader, idx + 3);
}

function $useShader(this$static, shader){
  if (this$static.curShader == shader)
    return false;
  $flush(this$static);
  this$static.curShader = shader;
  return true;
}

function GLContext(){
}

_ = GLContext.prototype = new Object_0;
_.getClass$ = function getClass_191(){
  return Lplayn_core_gl_GLContext_2_classLit;
}
;
_.curShader = null;
_.penders = null;
_.texShader = null;
function nextPowerOfTwo(x){
  var bit, count, highest, i;
  bit = 32768;
  highest = -1;
  count = 0;
  for (i = 15; i >= 0; --i , bit >>= 1) {
    if ((x & bit) != 0) {
      ++count;
      highest == -1 && (highest = i);
    }
  }
  if (count <= 1) {
    return 0;
  }
  return 1 << highest + 1;
}

function LayerGL_0(ctx){
  AbstractLayer_0.call(this, new HtmlInternalTransform_0);
  this.ctx = ctx;
  this.savedLocal = new HtmlInternalTransform_0;
}

function LayerGL(){
}

_ = LayerGL.prototype = new AbstractLayer;
_.getClass$ = function getClass_192(){
  return Lplayn_core_gl_LayerGL_2_classLit;
}
;
_.ctx = null;
_.savedLocal = null;
function $paint_0(this$static, parentTransform, parentAlpha){
  var child, child$iterator;
  if (!$isSet(this$static, ($clinit_AbstractLayer$Flag() , VISIBLE_1)))
    return;
  for (child$iterator = new AbstractList$IteratorImpl_0(this$static.impl.children); child$iterator.i < child$iterator.this$0.size_0();) {
    child = $next_0(child$iterator);
    child.paint(($set_17(this$static.savedLocal, parentTransform) , $concatenate(this$static.savedLocal, this$static.transform_0, this$static.originX, this$static.originY)), parentAlpha * this$static.alpha);
  }
}

function GroupLayerGL_0(ctx){
  LayerGL_0.call(this, ctx);
  this.impl = new GroupLayerImpl_0;
}

function GroupLayerGL(){
}

_ = GroupLayerGL_0.prototype = GroupLayerGL.prototype = new LayerGL;
_.add_1 = function add_7(layer){
  $add_3(this.impl, this, layer);
}
;
_.depthChanged = function depthChanged(layer, oldDepth){
  $depthChanged(this.impl, layer, oldDepth);
}
;
_.getClass$ = function getClass_193(){
  return Lplayn_core_gl_GroupLayerGL_2_classLit;
}
;
_.onAdd = function onAdd_0(){
  !$isSet(this, ($clinit_AbstractLayer$Flag() , DESTROYED));
  $onAdd(this.impl);
}
;
_.onRemove = function onRemove_0(){
  $onRemove(this.impl);
}
;
_.paint = function paint(parentTransform, parentAlpha){
  $paint_0(this, parentTransform, parentAlpha);
}
;
_.remove = function remove(layer){
  $remove_0(this.impl, layer);
}
;
--></script>
<script><!--
function $clearTexture(this$static, ctx){
  if (this$static.tex) {
    $destroyTexture(ctx, this$static.tex);
    this$static.tex = null;
  }
  if (this$static.reptex) {
    $destroyTexture(ctx, this$static.reptex);
    this$static.reptex = null;
  }
}

function $ensureTexture(this$static, ctx, repeatX, repeatY){
  if (this$static.img.complete) {
    if (repeatX || repeatY) {
      $scaleTexture(this$static, ctx, repeatX, repeatY);
      return this$static.reptex;
    }
     else {
      $loadTexture(this$static, ctx);
      return this$static.tex;
    }
  }
   else {
    return null;
  }
}

function $loadTexture(this$static, ctx){
  if (this$static.tex)
    return;
  this$static.tex = $createTexture(ctx, false, false);
  $updateTexture_0(this$static, ctx, this$static.tex);
}

function $release(this$static, ctx){
  --this$static.refs == 0 && $clearTexture(this$static, ctx);
}

function $scaleTexture(this$static, ctx, repeatX, repeatY){
  var fbuf, height, width;
  if (this$static.reptex)
    return;
  width = nextPowerOfTwo(!this$static.img?0:this$static.img.width);
  height = nextPowerOfTwo(!this$static.img?0:this$static.img.height);
  if (width == 0 && height == 0) {
    this$static.reptex = $createTexture_0(ctx, !this$static.img?0:this$static.img.width, !this$static.img?0:this$static.img.height, repeatX, repeatY);
    $updateTexture_0(this$static, ctx, this$static.reptex);
    return;
  }
  $loadTexture(this$static, ctx);
  width == 0 && (width = !this$static.img?0:this$static.img.width);
  height == 0 && (height = !this$static.img?0:this$static.img.height);
  this$static.reptex = $createTexture_0(ctx, width, height, repeatX, repeatY);
  fbuf = $createFramebuffer(ctx, this$static.reptex);
  $bindFramebuffer_0(ctx, fbuf, width, height, false);
  ctx.gl.clearColor(0, 0, 0, 0);
  ctx.gl.clear(16384);
  $drawTexture(ctx, this$static.tex, !this$static.img?0:this$static.img.width, !this$static.img?0:this$static.img.height, new HtmlInternalTransform_0, height, width, -height, false, false, 1);
  $bindFramebuffer_0(ctx, null, ctx.canvas.width, ctx.canvas.height, false);
  $deleteFramebuffer(ctx.gl, fbuf);
}

function ImageGL(){
}

_ = ImageGL.prototype = new Object_0;
_.getClass$ = function getClass_194(){
  return Lplayn_core_gl_ImageGL_2_classLit;
}
;
_.refs = 0;
_.reptex = null;
_.tex = null;
function $setImage(this$static, img){
  if (this$static.img == img)
    return;
  !!this$static.img && $release(this$static.img, this$static.ctx);
  this$static.img = img;
  !!this$static.img && ++this$static.img.refs;
}

function ImageLayerGL_0(ctx, img){
  LayerGL_0.call(this, ctx);
  $setImage(this, img);
}

function ImageLayerGL(){
}

_ = ImageLayerGL_0.prototype = ImageLayerGL.prototype = new LayerGL;
_.getClass$ = function getClass_195(){
  return Lplayn_core_gl_ImageLayerGL_2_classLit;
}
;
_.height_1 = function height_0(){
  return this.heightSet?this.height_0:$height(this.img);
}
;
_.paint = function paint_0(parentTransform, parentAlpha){
  var childAlpha, height, iheight, iwidth, tex, width, xform;
  if (!$isSet(this, ($clinit_AbstractLayer$Flag() , VISIBLE_1)))
    return;
  tex = $ensureTexture(this.img, this.ctx, this.repeatX, this.repeatY);
  if (tex) {
    xform = ($set_17(this.savedLocal, parentTransform) , $concatenate(this.savedLocal, this.transform_0, this.originX, this.originY));
    childAlpha = parentAlpha * this.alpha;
    iwidth = $width(this.img);
    iheight = $height(this.img);
    width = this.widthSet?this.width_0:iwidth;
    height = this.heightSet?this.height_0:iheight;
    this.sourceRectSet?$drawTexture_0(this.ctx, tex, iwidth, iheight, xform, 0, 0, width, height, this.sx, this.sy, this.sw, this.sh, childAlpha):$drawTexture(this.ctx, tex, iwidth, iheight, xform, 0, width, height, this.repeatX, this.repeatY, childAlpha);
  }
}
;
_.scaledHeight = function scaledHeight(){
  return this.transform_0.scaleY() * (this.heightSet?this.height_0:$height(this.img));
}
;
_.scaledWidth = function scaledWidth(){
  return this.transform_0.scaleX() * (this.widthSet?this.width_0:$width(this.img));
}
;
_.width_1 = function width_0(){
  return this.widthSet?this.width_0:$width(this.img);
}
;
_.height_0 = 0;
_.heightSet = false;
_.img = null;
_.repeatX = false;
_.repeatY = false;
_.sh = 0;
_.sourceRectSet = false;
_.sw = 0;
_.sx = 0;
_.sy = 0;
_.width_0 = 0;
_.widthSet = false;
function $init_3(this$static){
  this$static.random_0 = getRandom();
  $sendToConsole((platform_1.log_0 , 'DEBUG: Analytics random = ' + this$static.random_0), null);
}

function HtmlAnalytics_0(){
}

function HtmlAnalytics(){
}

_ = HtmlAnalytics_0.prototype = HtmlAnalytics.prototype = new Object_0;
_.getClass$ = function getClass_196(){
  return Lplayn_html_HtmlAnalytics_2_classLit;
}
;
_.random_0 = 0;
function $getBundle(this$static, collection){
  var clientBundle, entry, entry$iterator, regExp;
  clientBundle = null;
  for (entry$iterator = new AbstractHashMap$EntrySetIterator_0((new AbstractHashMap$EntrySet_0(this$static.clientBundles)).this$0); $hasNext(entry$iterator.iter);) {
    entry = $next_0(entry$iterator.iter);
    regExp = entry.getKey();
    !!$exec(new RegExp(regExp), collection) && (clientBundle = entry.getValue());
  }
  return clientBundle;
}

function HtmlAssets_0(){
  this.callback = new AbstractAssets$1_0(this);
  this.cache = new HashMap_0;
  this.clientBundles = new HashMap_0;
}

function HtmlAssets(){
}

_ = HtmlAssets_0.prototype = HtmlAssets.prototype = new AbstractCachingAssets;
_.getClass$ = function getClass_197(){
  return Lplayn_html_HtmlAssets_2_classLit;
}
;
_.pathPrefix = '';
function $init_4(this$static){
  $sendToConsole((platform_1.log_0 , 'DEBUG: Preferred sound type(s): ' + this$static.soundController.preferredSoundClass), null);
  maybeCreateAudioContext();
}

function HtmlAudio_0(){
  this.soundController = new SoundController_0;
}

function maybeCreateAudioContext(){
  try {
    return new AudioContext;
  }
   catch (ignore) {
  }
  try {
    return new webkitAudioContext;
  }
   catch (ignore) {
  }
  return null;
}

function HtmlAudio(){
}

_ = HtmlAudio_0.prototype = HtmlAudio.prototype = new Object_0;
_.getClass$ = function getClass_198(){
  return Lplayn_html_HtmlAudio_2_classLit;
}
;
function $bindFramebuffer_0(this$static, fbuf, width, height, force){
  if (force || this$static.lastFBuf != fbuf) {
    $flush(this$static);
    this$static.lastFBuf = fbuf;
    $bindFramebuffer(this$static.gl, 36160, fbuf);
    $viewport(this$static.gl, 0, 0, width, height);
    this$static.screenWidth = width;
    this$static.screenHeight = height;
  }
}

function $createFramebuffer(this$static, tex){
  var fbuf;
  fbuf = this$static.gl.createFramebuffer();
  $bindFramebuffer(this$static.gl, 36160, fbuf);
  $framebufferTexture2D(this$static.gl, 36160, 36064, 3553, tex, 0);
  return fbuf;
}

function $createTexture(this$static, repeatX, repeatY){
  var tex;
  tex = this$static.gl.createTexture();
  $bindTexture(this$static.gl, 3553, tex);
  this$static.gl.texParameteri(3553, 10240, 9729);
  this$static.gl.texParameteri(3553, 10241, 9729);
  $texParameteri(this$static.gl, 3553, 10242, repeatX?10497:33071);
  $texParameteri(this$static.gl, 3553, 10243, repeatY?10497:33071);
  return tex;
}

function $createTexture_0(this$static, width, height, repeatX, repeatY){
  var tex;
  tex = $createTexture(this$static, repeatX, repeatY);
  $texImage2D(this$static.gl, 3553, 0, 6408, width, height, 0, 6408, 5121, null);
  return tex;
}

function $destroyTexture(this$static, tex){
  $deleteTexture(this$static.gl, tex);
}

function $flush(this$static){
  if (this$static.curShader) {
    $flush_1(this$static.curShader);
    this$static.curShader = null;
  }
}

function $paint_1(this$static, rootLayer){
  $bindFramebuffer_0(this$static, null, this$static.canvas.width, this$static.canvas.height, false);
  this$static.gl.clearColor(0, 0, 0, 0);
  this$static.gl.clear(16384);
  $paint_0(rootLayer, ($clinit_HtmlInternalTransform() , IDENTITY), 1);
  $useShader(this$static, null);
}

function $tryBasicGLCalls(this$static){
  var err, pixelData, testFloat32Array, testInt32Array, testUint16Array, testUint8Array;
  testFloat32Array = create(toJsArray(initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [0, 1, 2])));
  if (testFloat32Array[0] != 0 || testFloat32Array[1] != 1 || testFloat32Array[2] != 2) {
    throw new RuntimeException_0('Typed Float32Array check failed');
  }
  testInt32Array = create_0(toJsArray_0(initValues(_3I_classLit, makeCastMap([Q$Serializable]), -1, [0, 1, 2])));
  if (testInt32Array[0] != 0 || testInt32Array[1] != 1 || testInt32Array[2] != 2) {
    throw new RuntimeException_0('Typed Int32Array check failed');
  }
  testUint16Array = create_1(toJsArray_0(initValues(_3I_classLit, makeCastMap([Q$Serializable]), -1, [0, 1, 2])));
  if (testUint16Array[0] != 0 || testUint16Array[1] != 1 || testUint16Array[2] != 2) {
    throw new RuntimeException_0('Typed Uint16Array check failed');
  }
  testUint8Array = create_2(toJsArray_0(initValues(_3I_classLit, makeCastMap([Q$Serializable]), -1, [0, 1, 2])));
  if (testUint8Array[0] != 0 || testUint8Array[1] != 1 || testUint8Array[2] != 2) {
    throw new RuntimeException_0('Typed Uint8Array check failed');
  }
  $bindFramebuffer_0(this$static, null, this$static.canvas.width, this$static.canvas.height, false);
  this$static.gl.clearColor(1, 1, 1, 1);
  this$static.gl.clear(16384);
  err = this$static.gl.getError();
  if (err != 0) {
    throw new RuntimeException_0('Read back GL test failed to clear color (error ' + err + ')');
  }
  pixelData = new Uint8Array(4);
  $readPixels(this$static.gl, 0, 0, 1, 1, 6408, 5121, pixelData);
  if (pixelData[0] != 255 || pixelData[1] != 255 || pixelData[2] != 255) {
    throw new RuntimeException_0('Read back GL test failed to read back correct color');
  }
}

function $updateTexture(this$static, tex, img){
  $bindTexture(this$static.gl, 3553, tex);
  $texImage2D_0(this$static.gl, 3553, 0, 6408, 6408, 5121, img);
}

function HtmlGLContext_0(canvas){
  this.canvas = canvas;
  this.gl = getContext(canvas, null);
  if (!this.gl || this.gl.getError() != 0) {
    throw new RuntimeException_0('GL context not created [err=' + (!this.gl?'null':valueOf(this.gl.getError())) + ']');
  }
  this.gl.disable(2884);
  this.gl.enable(3042);
  this.gl.blendEquation(32774);
  this.gl.blendFunc(1, 771);
  this.gl.pixelStorei(37441, 1);
  $tryBasicGLCalls(this);
  this.texShader = new HtmlGLShader$Texture_0(this);
  new HtmlGLShader$Color_0(this);
}

function HtmlGLContext(){
}

_ = HtmlGLContext_0.prototype = HtmlGLContext.prototype = new GLContext;
_.getClass$ = function getClass_199(){
  return Lplayn_html_HtmlGLContext_2_classLit;
}
;
_.canvas = null;
_.gl = null;
_.lastFBuf = null;
_.screenHeight = 0;
_.screenWidth = 0;
function $addElement(this$static, index){
  this$static.elementData[this$static.elementOffset++] = index;
}

function $beginPrimitive(this$static){
  var vertIdx;
  vertIdx = ~~(this$static.vertexOffset / 10);
  if (vertIdx + 4 > 4 || this$static.elementOffset + 4 > 6) {
    $bindTexture(this$static.gl, 3553, this$static.lastTex);
    $flush_0(this$static);
    return 0;
  }
  return vertIdx;
}

function $buildVertex(this$static, local, dx, dy, sx, sy){
  $set_0(this$static.vertexData, local.matrix, this$static.vertexOffset);
  this$static.vertexData[this$static.vertexOffset + 6] = dx;
  this$static.vertexData[this$static.vertexOffset + 7] = dy;
  this$static.vertexData[this$static.vertexOffset + 8] = sx;
  this$static.vertexData[this$static.vertexOffset + 9] = sy;
  this$static.vertexOffset += 10;
}

function $flush_0(this$static){
  if (this$static.vertexOffset == 0) {
    return;
  }
  $bufferData(this$static.gl, 34962, this$static.vertexData, 35040);
  $bufferData(this$static.gl, 34963, this$static.elementData, 35040);
  $drawElements(this$static.gl, 5, this$static.elementOffset, 5123, 0);
  this$static.vertexOffset = this$static.elementOffset = 0;
}

function $prepare(this$static){
  if ($useShader(this$static.ctx, this$static)) {
    $useProgram(this$static.gl, this$static.program);
    $uniform2fv(this$static.gl, this$static.uScreenSizeLoc, toJsArray(initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [this$static.ctx.screenWidth, this$static.ctx.screenHeight])));
    $bindBuffer(this$static.gl, 34962, this$static.vertexBuffer);
    $bindBuffer(this$static.gl, 34963, this$static.elementBuffer);
    $enableVertexAttribArray(this$static.gl, this$static.aMatrix);
    $enableVertexAttribArray(this$static.gl, this$static.aTranslation);
    $enableVertexAttribArray(this$static.gl, this$static.aPosition);
    this$static.aTexture != -1 && $enableVertexAttribArray(this$static.gl, this$static.aTexture);
    $vertexAttribPointer(this$static.gl, this$static.aMatrix, 4, 5126, false, 40, 0);
    $vertexAttribPointer(this$static.gl, this$static.aTranslation, 2, 5126, false, 40, 16);
    $vertexAttribPointer(this$static.gl, this$static.aPosition, 2, 5126, false, 40, 24);
    this$static.aTexture != -1 && $vertexAttribPointer(this$static.gl, this$static.aTexture, 2, 5126, false, 40, 32);
    return true;
  }
  return false;
}

function HtmlGLShader_0(ctx, fragmentShader){
  this.vertexData = new Float32Array(40);
  this.elementData = new Uint16Array(6);
  this.ctx = ctx;
  this.gl = ctx.gl;
  this.program = createShaderProgram(this.gl, fragmentShader);
  this.uScreenSizeLoc = $getUniformLocation(this.gl, this.program, 'u_ScreenSize');
  this.aMatrix = $getAttribLocation(this.gl, this.program, 'a_Matrix');
  this.aTranslation = $getAttribLocation(this.gl, this.program, 'a_Translation');
  this.aPosition = $getAttribLocation(this.gl, this.program, 'a_Position');
  this.aTexture = $getAttribLocation(this.gl, this.program, 'a_Texture');
  this.vertexBuffer = this.gl.createBuffer();
  this.elementBuffer = this.gl.createBuffer();
}

function HtmlGLShader(){
}

_ = HtmlGLShader.prototype = new Object_0;
_.getClass$ = function getClass_200(){
  return Lplayn_html_HtmlGLShader_2_classLit;
}
;
_.aMatrix = 0;
_.aPosition = 0;
_.aTexture = 0;
_.aTranslation = 0;
_.ctx = null;
_.elementBuffer = null;
_.elementOffset = 0;
_.gl = null;
_.program = null;
_.uScreenSizeLoc = null;
_.vertexBuffer = null;
_.vertexOffset = 0;
function HtmlGLShader$Color_0(ctx){
  HtmlGLShader_0.call(this, ctx, '#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec4 u_Color;\nuniform float u_Alpha;\nvoid main(void) {\n  gl_FragColor = vec4(u_Color.rgb * u_Alpha, u_Color.a * u_Alpha);\n}');
  new Float32Array(4);
  $getUniformLocation(this.gl, this.program, 'u_Color');
  $getUniformLocation(this.gl, this.program, 'u_Alpha');
}

function HtmlGLShader$Color(){
}

_ = HtmlGLShader$Color_0.prototype = HtmlGLShader$Color.prototype = new HtmlGLShader;
_.getClass$ = function getClass_201(){
  return Lplayn_html_HtmlGLShader$Color_2_classLit;
}
;
function $flush_1(this$static){
  $bindTexture(this$static.gl, 3553, this$static.lastTex);
  $flush_0(this$static);
}

function $prepare_0(this$static, texObj, alpha){
  if ($prepare(this$static)) {
    this$static.gl.activeTexture(33984);
    $uniform1i(this$static.gl, this$static.uTexture, 0);
  }
  if (texObj == this$static.lastTex && alpha == this$static.lastAlpha) {
    return;
  }
  $bindTexture(this$static.gl, 3553, this$static.lastTex);
  $flush_0(this$static);
  $uniform1f(this$static.gl, this$static.uAlpha, alpha);
  this$static.lastAlpha = alpha;
  this$static.lastTex = texObj;
}

function HtmlGLShader$Texture_0(ctx){
  HtmlGLShader_0.call(this, ctx, '#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_Texture;\nvarying vec2 v_TexCoord;\nuniform float u_Alpha;\nvoid main(void) {\n  vec4 textureColor = texture2D(u_Texture, v_TexCoord);\n  gl_FragColor = vec4(textureColor.rgb * u_Alpha, textureColor.a * u_Alpha);\n}');
  this.uTexture = $getUniformLocation(this.gl, this.program, 'u_Texture');
  this.uAlpha = $getUniformLocation(this.gl, this.program, 'u_Alpha');
}

function HtmlGLShader$Texture(){
}

_ = HtmlGLShader$Texture_0.prototype = HtmlGLShader$Texture.prototype = new HtmlGLShader;
_.getClass$ = function getClass_202(){
  return Lplayn_html_HtmlGLShader$Texture_2_classLit;
}
;
_.lastAlpha = 0;
_.lastTex = null;
_.uAlpha = null;
_.uTexture = null;
function HtmlGame$1_0(){
}

function HtmlGame$1(){
}

_ = HtmlGame$1_0.prototype = HtmlGame$1.prototype = new Object_0;
_.getClass$ = function getClass_203(){
  return Lplayn_html_HtmlGame$1_2_classLit;
}
;
function HtmlGame$2_0(){
}

function HtmlGame$2(){
}

_ = HtmlGame$2_0.prototype = HtmlGame$2.prototype = new Object_0;
_.getClass$ = function getClass_204(){
  return Lplayn_html_HtmlGame$2_2_classLit;
}
;
function HtmlGraphics_0(){
  var doc;
  new HashMap_0;
  doc = $doc;
  this.dummyCanvas = doc.createElement('canvas');
  this.dummyCanvas.getContext('2d');
  this.rootElement = doc.getElementById('playn-root');
  !this.rootElement?(this.rootElement = doc.body):(this.rootElement.innerHTML = '' , undefined);
  this.measureElement = doc.createElement('div');
  this.measureElement.style['visibility'] = ($clinit_Style$Visibility() , 'hidden');
  this.measureElement.style['position'] = ($clinit_Style$Position() , 'absolute');
  this.measureElement.style['top'] = -500 + ($clinit_Style$Unit() , 'px');
  this.measureElement.style['overflow'] = ($clinit_Style$Overflow() , 'visible');
  $appendChild(this.rootElement, this.measureElement);
}

function HtmlGraphics(){
}

_ = HtmlGraphics.prototype = new Object_0;
_.getClass$ = function getClass_205(){
  return Lplayn_html_HtmlGraphics_2_classLit;
}
;
_.setSize = function setSize(width, height){
  this.rootElement.style['width'] = width + ($clinit_Style$Unit() , 'px');
  this.rootElement.style['height'] = height + 'px';
}
;
_.dummyCanvas = null;
_.measureElement = null;
_.rootElement = null;
function HtmlGraphicsCanvas_0(){
  HtmlGraphics_0.call(this);
  this.canvas = $doc.createElement('canvas');
  $appendChild(this.rootElement, this.canvas);
  this.ctx = this.canvas.getContext('2d');
  this.rootLayer = new HtmlGroupLayerCanvas_0;
}

function HtmlGraphicsCanvas(){
}

_ = HtmlGraphicsCanvas_0.prototype = HtmlGraphicsCanvas.prototype = new HtmlGraphics;
_.createImageLayer = function createImageLayer(img){
  return new HtmlImageLayerCanvas_0(img);
}
;
_.getClass$ = function getClass_206(){
  return Lplayn_html_HtmlGraphicsCanvas_2_classLit;
}
;
_.paintLayers = function paintLayers(){
  $clearRect(this.ctx, 0, 0, this.canvas.offsetWidth || 0, this.canvas.offsetHeight || 0);
  $paint_2(this.rootLayer, this.ctx, 1);
  this.ctx.globalAlpha = 1;
}
;
_.rootElement_0 = function rootElement_0(){
  return this.canvas;
}
;
_.rootLayer_0 = function rootLayer_0(){
  return this.rootLayer;
}
;
_.setSize = function setSize_0(width, height){
  this.rootElement.style['width'] = width + ($clinit_Style$Unit() , 'px');
  this.rootElement.style['height'] = height + 'px';
  $setWidth(this.canvas, width);
  $setHeight(this.canvas, height);
}
;
_.canvas = null;
_.ctx = null;
_.rootLayer = null;
function HtmlGraphicsDom_0(){
  var div;
  HtmlGraphics_0.call(this);
  div = $doc.createElement('div');
  div.style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  $appendChild(this.rootElement, div);
  this.rootLayer = new HtmlGroupLayerDom_0(div);
}

function HtmlGraphicsDom(){
}

_ = HtmlGraphicsDom_0.prototype = HtmlGraphicsDom.prototype = new HtmlGraphics;
_.createImageLayer = function createImageLayer_0(img){
  return new HtmlImageLayerDom_0(img);
}
;
_.getClass$ = function getClass_207(){
  return Lplayn_html_HtmlGraphicsDom_2_classLit;
}
;
_.paintLayers = function paintLayers_0(){
  $update_2(this.rootLayer);
}
;
_.rootElement_0 = function rootElement_1(){
  return this.rootLayer.elem;
}
;
_.rootLayer_0 = function rootLayer_1(){
  return this.rootLayer;
}
;
_.setSize = function setSize_1(width, height){
  this.rootElement.style['width'] = width + ($clinit_Style$Unit() , 'px');
  this.rootElement.style['height'] = height + 'px';
  this.rootLayer.elem.style['width'] = width + 'px';
  this.rootLayer.elem.style['height'] = height + 'px';
}
;
_.rootLayer = null;
function HtmlGraphicsGL_0(){
  var $e0, re;
  HtmlGraphics_0.call(this);
  this.canvas = $doc.createElement('canvas');
  $appendChild(this.rootElement, this.canvas);
  try {
    this.ctx = new HtmlGLContext_0(this.canvas);
    this.rootLayer = new GroupLayerGL_0(this.ctx);
  }
   catch ($e0) {
    $e0 = caught($e0);
    if (instanceOf($e0, Q$RuntimeException)) {
      re = $e0;
      $removeChild(this.rootElement, this.canvas);
      throw re;
    }
     else 
      throw $e0;
  }
}

function HtmlGraphicsGL(){
}

_ = HtmlGraphicsGL_0.prototype = HtmlGraphicsGL.prototype = new HtmlGraphics;
_.createImageLayer = function createImageLayer_1(img){
  return new ImageLayerGL_0(this.ctx, img);
}
;
_.getClass$ = function getClass_208(){
  return Lplayn_html_HtmlGraphicsGL_2_classLit;
}
;
_.paintLayers = function paintLayers_1(){
  this.ctx.penders = null;
  $paint_1(this.ctx, this.rootLayer);
}
;
_.rootElement_0 = function rootElement_2(){
  return this.canvas;
}
;
_.rootLayer_0 = function rootLayer_2(){
  return this.rootLayer;
}
;
_.setSize = function setSize_2(width, height){
  this.rootElement.style['width'] = width + ($clinit_Style$Unit() , 'px');
  this.rootElement.style['height'] = height + 'px';
  $setWidth(this.canvas, width);
  $setHeight(this.canvas, height);
  $bindFramebuffer_0(this.ctx, null, width, height, true);
}
;
_.canvas = null;
_.ctx = null;
_.rootLayer = null;
function $transform_0(this$static, ctx){
  $translate(ctx, this$static.originX, this$static.originY);
  $transform(ctx, this$static.transform_0.m00_0(), this$static.transform_0.m01_0(), this$static.transform_0.m10_0(), this$static.transform_0.m11_0(), this$static.transform_0.tx_0() - this$static.originX, this$static.transform_0.ty_0() - this$static.originY);
  $translate(ctx, -this$static.originX, -this$static.originY);
}

function HtmlLayerCanvas_0(){
  AbstractLayer_0.call(this, ($clinit_HtmlPlatform() , hasTypedArraySupport)?new HtmlInternalTransform_0:new StockInternalTransform_0);
}

function HtmlLayerCanvas(){
}

_ = HtmlLayerCanvas.prototype = new AbstractLayer;
_.getClass$ = function getClass_209(){
  return Lplayn_html_HtmlLayerCanvas_2_classLit;
}
;
function $paint_2(this$static, ctx, parentAlpha){
  var child, child$iterator;
  if (!$isSet(this$static, ($clinit_AbstractLayer$Flag() , VISIBLE_1)))
    return;
  ctx.save();
  $transform_0(this$static, ctx);
  for (child$iterator = new AbstractList$IteratorImpl_0(this$static.impl.children); child$iterator.i < child$iterator.this$0.size_0();) {
    child = $next_0(child$iterator);
    child.paint_0(ctx, parentAlpha * this$static.alpha);
  }
  ctx.restore();
}

function HtmlGroupLayerCanvas_0(){
  HtmlLayerCanvas_0.call(this);
  this.impl = new GroupLayerImpl_0;
}

function HtmlGroupLayerCanvas(){
}

_ = HtmlGroupLayerCanvas_0.prototype = HtmlGroupLayerCanvas.prototype = new HtmlLayerCanvas;
_.add_1 = function add_8(layer){
  $add_3(this.impl, this, layer);
}
;
_.depthChanged = function depthChanged_0(layer, oldDepth){
  $depthChanged(this.impl, layer, oldDepth);
}
;
_.getClass$ = function getClass_210(){
  return Lplayn_html_HtmlGroupLayerCanvas_2_classLit;
}
;
_.onAdd = function onAdd_1(){
  !$isSet(this, ($clinit_AbstractLayer$Flag() , DESTROYED));
  $onAdd(this.impl);
}
;
_.onRemove = function onRemove_1(){
  $onRemove(this.impl);
}
;
_.paint_0 = function paint_1(ctx, parentAlpha){
  $paint_2(this, ctx, parentAlpha);
}
;
_.remove = function remove_0(layer){
  $remove_0(this.impl, layer);
}
;
function $clinit_HtmlLayerDom(){
  $clinit_HtmlLayerDom = nullMethod;
  var i, prefix;
  PREFIXES = initValues(_3Ljava_lang_String_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$String, ['Moz', 'webkit', 'ms', 'O']);
  i = 0;
  for (; i < PREFIXES.length; ++i) {
    prefix = PREFIXES[i];
    if (document.body.style[prefix + 'Transform'] !== undefined) {
      transformName = prefix + 'Transform';
      transformOriginName = prefix + 'TransformOrigin';
      break;
    }
  }
  if (i == PREFIXES.length) {
    transformName = 'transform';
    transformOriginName = 'transformOrigin';
  }
  supports3d = $equals('webkitTransform', transformName);
  translateSuffix = $equals('MozTransform', transformName)?'px':'';
}

function $css(x){
  return abs(x) < 0.0010000000474974513?'0':'' + x;
}

function $update_1(this$static){
  var m00, m01, m10, m11, m20, m21, matrix;
  if (!$isSet(this$static, ($clinit_AbstractLayer$Flag() , SHOWN))) {
    $setFlag(this$static, SHOWN);
    this$static.elem.style['visibility'] = ($clinit_Style$Visibility() , 'visible');
  }
  m00 = this$static.transform_0.m00_0();
  m01 = this$static.transform_0.m01_0();
  m10 = this$static.transform_0.m10_0();
  m11 = this$static.transform_0.m11_0();
  m20 = this$static.transform_0.tx_0();
  m21 = this$static.transform_0.ty_0();
  supports3d?(matrix = 'matrix3d(' + (abs(m00) < 0.0010000000474974513?'0':'' + m00) + ',' + (abs(m01) < 0.0010000000474974513?'0':'' + m01) + ',0,0,' + (abs(m10) < 0.0010000000474974513?'0':'' + m10) + ',' + (abs(m11) < 0.0010000000474974513?'0':'' + m11) + ',0,0,0,0,1,0,' + ((abs(m20) < 0.0010000000474974513?'0':'' + m20) + translateSuffix) + ',' + ((abs(m21) < 0.0010000000474974513?'0':'' + m21) + translateSuffix) + ',0,1)'):(matrix = 'matrix(' + (abs(m00) < 0.0010000000474974513?'0':'' + m00) + ',' + (abs(m01) < 0.0010000000474974513?'0':'' + m01) + ',' + (abs(m10) < 0.0010000000474974513?'0':'' + m10) + ',' + (abs(m11) < 0.0010000000474974513?'0':'' + m11) + ', ' + ((abs(m20) < 0.0010000000474974513?'0':'' + m20) + translateSuffix) + ',' + ((abs(m21) < 0.0010000000474974513?'0':'' + m21) + translateSuffix) + ')');
  matrix += ' translate(' + $css(-this$static.originX) + 'px,' + $css(-this$static.originY) + 'px)';
  this$static.elem.style[transformName] = matrix;
}

function HtmlLayerDom_0(elem){
  AbstractLayer_0.call(this, ($clinit_HtmlPlatform() , hasTypedArraySupport)?new HtmlInternalTransform_0:new StockInternalTransform_0);
  this.elem = elem;
  elem.style['position'] = ($clinit_Style$Position() , 'absolute');
  elem.style['visibility'] = ($clinit_Style$Visibility() , 'hidden');
  elem.style[transformOriginName] = '0 0';
}

function HtmlLayerDom(){
}

_ = HtmlLayerDom.prototype = new AbstractLayer;
_.getClass$ = function getClass_211(){
  return Lplayn_html_HtmlLayerDom_2_classLit;
}
;
_.setOrigin = function setOrigin_0(x, y){
  this.originX = x;
  this.originY = y;
}
;
_.update = function update(){
  $update_1(this);
}
;
_.elem = null;
var PREFIXES, supports3d = false, transformName = null, transformOriginName = null, translateSuffix = null;
function $update_2(this$static){
  var child, child$iterator;
  $update_1(this$static);
  for (child$iterator = new AbstractList$IteratorImpl_0(this$static.impl.children); child$iterator.i < child$iterator.this$0.size_0();) {
    child = $next_0(child$iterator);
    child.update();
  }
}

function HtmlGroupLayerDom_0(elem){
  $clinit_HtmlLayerDom();
  HtmlLayerDom_0.call(this, elem);
  this.impl = new GroupLayerImpl_0;
}

function HtmlGroupLayerDom(){
}

_ = HtmlGroupLayerDom_0.prototype = HtmlGroupLayerDom.prototype = new HtmlLayerDom;
_.add_1 = function add_9(layer){
  var hlayer, index, refChild, size;
  hlayer = layer;
  size = this.impl.children.size;
  index = $add_3(this.impl, this, hlayer);
  if (index == size) {
    $appendChild(this.elem, hlayer.elem);
  }
   else {
    refChild = $getChild(this.elem, index);
    $insertBefore(this.elem, hlayer.elem, refChild);
  }
}
;
_.depthChanged = function depthChanged_1(layer, oldDepth){
  var hlayer, index, refChild;
  hlayer = layer;
  $removeChild(this.elem, hlayer.elem);
  index = $depthChanged(this.impl, layer, oldDepth);
  if (index == this.impl.children.size) {
    $appendChild(this.elem, hlayer.elem);
  }
   else {
    refChild = $getChild(this.elem, index);
    $insertBefore(this.elem, hlayer.elem, refChild);
  }
}
;
_.getClass$ = function getClass_212(){
  return Lplayn_html_HtmlGroupLayerDom_2_classLit;
}
;
_.onAdd = function onAdd_2(){
  !$isSet(this, ($clinit_AbstractLayer$Flag() , DESTROYED));
  $onAdd(this.impl);
}
;
_.onRemove = function onRemove_2(){
  $onRemove(this.impl);
}
;
_.remove = function remove_1(layer){
  var hlayer;
  hlayer = layer;
  $remove_0(this.impl, hlayer);
  $removeChild(this.elem, hlayer.elem);
}
;
_.update = function update_0(){
  $update_2(this);
}
;
function $addCallback(this$static, callback){
  if (this$static.img.complete) {
    callback.done(this$static);
  }
   else {
    addEventListener_0(this$static.img, 'load', new HtmlImage$1_0(this$static, callback), false);
    addEventListener_0(this$static.img, 'error', new HtmlImage$2_0(this$static, callback), false);
  }
}

function $height(this$static){
  return !this$static.img?0:this$static.img.height;
}

function $updateTexture_0(this$static, ctx, tex){
  $updateTexture(ctx, tex, this$static.img);
}

function $width(this$static){
  return !this$static.img?0:this$static.img.width;
}

function HtmlImage_0(img){
  this.img = img;
}

function HtmlImage(){
}

_ = HtmlImage_0.prototype = HtmlImage.prototype = new ImageGL;
_.getClass$ = function getClass_213(){
  return Lplayn_html_HtmlImage_2_classLit;
}
;
_.img = null;
function HtmlImage$1_0(this$0, val$callback){
  this.this$0 = this$0;
  this.val$callback = val$callback;
}

function HtmlImage$1(){
}

_ = HtmlImage$1_0.prototype = HtmlImage$1.prototype = new Object_0;
_.getClass$ = function getClass_214(){
  return Lplayn_html_HtmlImage$1_2_classLit;
}
;
_.handleEvent = function handleEvent(evt){
  this.val$callback.done(this.this$0);
}
;
_.this$0 = null;
_.val$callback = null;
function HtmlImage$2_0(this$0, val$callback){
  this.this$0 = this$0;
  this.val$callback = val$callback;
}

function HtmlImage$2(){
}

_ = HtmlImage$2_0.prototype = HtmlImage$2.prototype = new Object_0;
--></script>
<script><!--
_.getClass$ = function getClass_215(){
  return Lplayn_html_HtmlImage$2_2_classLit;
}
;
_.handleEvent = function handleEvent_0(evt){
  this.val$callback.error(new RuntimeException_0('Error loading image ' + this.this$0.img.src));
}
;
_.this$0 = null;
_.val$callback = null;
function $updatePattern(this$static, ctx){
  var repeat;
  if (this$static.repeatX == this$static.patternRepeatX && this$static.repeatY == this$static.patternRepeatY) {
    return;
  }
  if (this$static.repeatX) {
    this$static.repeatY?(repeat = ($clinit_Context2d$Repetition() , REPEAT)):(repeat = ($clinit_Context2d$Repetition() , REPEAT_X));
  }
   else if (this$static.repeatY) {
    repeat = ($clinit_Context2d$Repetition() , REPEAT_Y);
  }
   else {
    this$static.pattern = null;
    return;
  }
  this$static.pattern = $createPattern(ctx, this$static.img.img, repeat.value);
  this$static.patternRepeatX = this$static.repeatX;
  this$static.patternRepeatY = this$static.repeatY;
}

function HtmlImageLayerCanvas_0(img){
  HtmlLayerCanvas_0.call(this);
  this.img = img;
}

function HtmlImageLayerCanvas(){
}

_ = HtmlImageLayerCanvas_0.prototype = HtmlImageLayerCanvas.prototype = new HtmlLayerCanvas;
_.getClass$ = function getClass_216(){
  return Lplayn_html_HtmlImageLayerCanvas_2_classLit;
}
;
_.height_1 = function height_1(){
  return this.heightSet?this.height_0:$height(this.img);
}
;
_.paint_0 = function paint_2(ctx, parentAlpha){
  var height, width;
  if (!$isSet(this, ($clinit_AbstractLayer$Flag() , VISIBLE_1)))
    return;
  width = this.widthSet?this.width_0:this.img.img.width;
  height = this.heightSet?this.height_0:this.img.img.height;
  ctx.save();
  $transform_0(this, ctx);
  $setGlobalAlpha(ctx, parentAlpha * this.alpha);
  if (this.sourceRectSet) {
    $drawImage_0(ctx, this.img.img, this.sx, this.sy, this.sw, this.sh, 0, 0, width, height);
  }
   else {
    if (this.repeatX || this.repeatY) {
      $updatePattern(this, ctx);
      $setFillStyleWeb(ctx, this.pattern);
      ctx.beginPath();
      ctx.rect(0, 0, width, height);
      $scale(ctx, this.repeatX?1:width / $width(this.img), this.repeatY?1:height / $height(this.img));
      ctx.fill();
    }
     else {
      $drawImage(ctx, this.img.img, 0, 0, width, height);
    }
  }
  ctx.restore();
}
;
_.scaledHeight = function scaledHeight_0(){
  return this.transform_0.scaleY() * (this.heightSet?this.height_0:$height(this.img));
}
;
_.scaledWidth = function scaledWidth_0(){
  return this.transform_0.scaleX() * (this.widthSet?this.width_0:$width(this.img));
}
;
_.width_1 = function width_1(){
  return this.widthSet?this.width_0:$width(this.img);
}
;
_.height_0 = 0;
_.heightSet = false;
_.img = null;
_.pattern = null;
_.patternRepeatX = false;
_.patternRepeatY = false;
_.repeatX = false;
_.repeatY = false;
_.sh = 0;
_.sourceRectSet = false;
_.sw = 0;
_.sx = 0;
_.sy = 0;
_.width_0 = 0;
_.widthSet = false;
function $applyBackgroundSize(this$static){
  var backHeight, backWidth, hratio, repeat, size, style, wratio;
  style = this$static.elem.style;
  this$static.repeatX?this$static.repeatY?(repeat = 'repeat'):(repeat = 'repeat-x'):this$static.repeatY?(repeat = 'repeat-y'):(repeat = 'no-repeat');
  style['backgroundRepeat'] = repeat;
  if (this$static.sourceRectSet) {
    wratio = this$static.widthSet?this$static.width_0 / this$static.sw:$width(this$static.htmlImage) / this$static.sw;
    hratio = this$static.heightSet?this$static.height_0 / this$static.sh:$height(this$static.htmlImage) / this$static.sh;
    wratio == 0 && (wratio = 1);
    hratio == 0 && (hratio = 1);
    backWidth = $width(this$static.htmlImage) * wratio;
    backHeight = $height(this$static.htmlImage) * hratio;
    style['backgroundSize'] = backWidth + 'px ' + backHeight + 'px';
    style['backgroundPosition'] = -this$static.sx * wratio + 'px ' + -this$static.sy * hratio + 'px';
  }
   else {
    size = this$static.repeatX?$width(this$static.htmlImage) + 'px ':'100% ';
    size += this$static.repeatY?$height(this$static.htmlImage) + 'px':'100%';
    style['backgroundSize'] = size;
    style['backgroundPosition'] = '';
  }
}

function $applySize(this$static){
  var style;
  style = this$static.elem.style;
  style['width'] = (this$static.widthSet?this$static.width_0:this$static.htmlImage.img.width) + ($clinit_Style$Unit() , 'px');
  style['height'] = (this$static.heightSet?this$static.height_0:this$static.htmlImage.img.height) + 'px';
  this$static.sourceRectSet && $applyBackgroundSize(this$static);
}

function $setImage_0(this$static, img){
  var imgElem;
  if (this$static.htmlImage == img) {
    return;
  }
  this$static.htmlImage = img;
  imgElem = this$static.htmlImage.img;
  this$static.elem.style['backgroundImage'] = 'url(' + imgElem.src + ')';
  this$static.elem.style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  $addCallback(img, new HtmlImageLayerDom$1_0(this$static));
}

function HtmlImageLayerDom_0(img){
  $clinit_HtmlLayerDom();
  HtmlLayerDom_0.call(this, $doc.createElement('div'));
  this.repeatX = false;
  $applyBackgroundSize(this);
  this.repeatY = false;
  $applyBackgroundSize(this);
  $setImage_0(this, img);
}

function HtmlImageLayerDom(){
}

_ = HtmlImageLayerDom_0.prototype = HtmlImageLayerDom.prototype = new HtmlLayerDom;
_.getClass$ = function getClass_217(){
  return Lplayn_html_HtmlImageLayerDom_2_classLit;
}
;
_.height_1 = function height_2(){
  return this.heightSet?this.height_0:$height(this.htmlImage);
}
;
_.scaledHeight = function scaledHeight_1(){
  return this.transform_0.scaleY() * (this.heightSet?this.height_0:$height(this.htmlImage));
}
;
_.scaledWidth = function scaledWidth_1(){
  return this.transform_0.scaleX() * (this.widthSet?this.width_0:$width(this.htmlImage));
}
;
_.width_1 = function width_2(){
  return this.widthSet?this.width_0:$width(this.htmlImage);
}
;
_.height_0 = 0;
_.heightSet = false;
_.htmlImage = null;
_.repeatX = false;
_.repeatY = false;
_.sh = 0;
_.sourceRectSet = false;
_.sw = 0;
_.sx = 0;
_.sy = 0;
_.width_0 = 0;
_.widthSet = false;
function HtmlImageLayerDom$1_0(this$0){
  this.this$0 = this$0;
}

function HtmlImageLayerDom$1(){
}

_ = HtmlImageLayerDom$1_0.prototype = HtmlImageLayerDom$1.prototype = new Object_0;
_.done = function done_1(resource){
  $applySize(this.this$0);
  $applyBackgroundSize(this.this$0);
}
;
_.error = function error_0(err){
}
;
_.getClass$ = function getClass_218(){
  return Lplayn_html_HtmlImageLayerDom$1_2_classLit;
}
;
_.this$0 = null;
function $captureEvent(elem, eventName, handler){
  $clinit_HtmlPlatform();
  addEventListener_0(!elem?$doc:elem, eventName, handler, true);
}

function $capturePageEvent(eventName, handler){
  $clinit_HtmlPlatform();
  captureEvent(eventName, new HtmlInput$1_0(handler));
}

function getRelativeX(e, target){
  return (e.clientX || 0) - $getAbsoluteLeft(target) + $getScrollLeft(target) + $getScrollLeft(target.ownerDocument.body);
}

function getRelativeY(e, target){
  return (e.clientY || 0) - $getAbsoluteTop(target) + (target.scrollTop || 0) + (target.ownerDocument.body.scrollTop || 0);
}

function HtmlInput(){
}

_ = HtmlInput.prototype = new Object_0;
_.getClass$ = function getClass_219(){
  return Lplayn_html_HtmlInput_2_classLit;
}
;
function HtmlInput$1_0(val$handler){
  this.val$handler = val$handler;
}

function HtmlInput$1(){
}

_ = HtmlInput$1_0.prototype = HtmlInput$1.prototype = new Object_0;
_.getClass$ = function getClass_220(){
  return Lplayn_html_HtmlInput$1_2_classLit;
}
;
_.handleEvent = function handleEvent_1(evt){
  this.val$handler.handleEvent(evt);
}
;
_.val$handler = null;
function $clinit_HtmlInternalTransform(){
  $clinit_HtmlInternalTransform = nullMethod;
  IDENTITY = new HtmlInternalTransform_0;
}

function $concatenate(this$static, other, originX, originY){
  var ot;
  ot = other;
  return $concatenate_0(this$static, ot.matrix[0], ot.matrix[1], ot.matrix[2], ot.matrix[3], ot.matrix[4], ot.matrix[5], originX, originY);
}

function $concatenate_0(this$static, m00, m01, m10, m11, tx, ty, originX, originY){
  multiply(this$static.matrix[0], this$static.matrix[1], this$static.matrix[2], this$static.matrix[3], this$static.matrix[4], this$static.matrix[5], 1, 0, 0, 1, originX, originY, this$static);
  multiply(this$static.matrix[0], this$static.matrix[1], this$static.matrix[2], this$static.matrix[3], this$static.matrix[4], this$static.matrix[5], m00, m01, m10, m11, tx - originX, ty - originY, this$static);
  multiply(this$static.matrix[0], this$static.matrix[1], this$static.matrix[2], this$static.matrix[3], this$static.matrix[4], this$static.matrix[5], 1, 0, 0, 1, -originX, -originY, this$static);
  return this$static;
}

function $set_17(this$static, other){
  $set(this$static.matrix, other.matrix);
  return this$static;
}

function $setM00(this$static, value){
  this$static.matrix[0] = value;
}

function $setM01(this$static, value){
  this$static.matrix[1] = value;
}

function $setM10(this$static, value){
  this$static.matrix[2] = value;
}

function $setM11(this$static, value){
  this$static.matrix[3] = value;
}

function HtmlInternalTransform_0(){
  $clinit_HtmlInternalTransform();
  HtmlInternalTransform_1.call(this, initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [1, 0, 0, 1, 0, 0]));
}

function HtmlInternalTransform_1(matrix){
  HtmlInternalTransform_2.call(this, create(toJsArray(matrix)));
}

function HtmlInternalTransform_2(matrix){
  this.matrix = matrix;
}

function multiply(am00, am01, am10, am11, atx, aty, bm00, bm01, bm10, bm11, btx, bty, into){
  $set_1(into.matrix, toJsArray(initValues(_3F_classLit, makeCastMap([Q$Serializable]), -1, [am00 * bm00 + am10 * bm01, am01 * bm00 + am11 * bm01, am00 * bm10 + am10 * bm11, am01 * bm10 + am11 * bm11, am00 * btx + am10 * bty + atx, am01 * btx + am11 * bty + aty])), 0);
  return into;
}

function HtmlInternalTransform(){
}

_ = HtmlInternalTransform_0.prototype = HtmlInternalTransform.prototype = new AbstractTransform;
_.getClass$ = function getClass_221(){
  return Lplayn_html_HtmlInternalTransform_2_classLit;
}
;
_.inverseTransform = function inverseTransform_0(p, into){
  var det, m00, m01, m10, m11, rdet, x, y;
  m00 = this.matrix[0];
  m01 = this.matrix[1];
  m10 = this.matrix[2];
  m11 = this.matrix[3];
  x = p.x - this.matrix[4];
  y = p.y - this.matrix[5];
  det = m00 * m11 - m01 * m10;
  if (abs(det) == 0) {
    throw new NoninvertibleTransformException_0('affine [' + toString_27(this.matrix[0]) + ' ' + toString_27(this.matrix[1]) + ' ' + toString_27(this.matrix[2]) + ' ' + toString_27(this.matrix[3]) + ' ' + new Vector_1(this.matrix[4], this.matrix[5]) + ']');
  }
  rdet = 1 / det;
  return into.x = (x * m11 - y * m10) * rdet , into.y = (y * m00 - x * m01) * rdet , into;
}
;
_.m00_0 = function m00_1(){
  return this.matrix[0];
}
;
_.m01_0 = function m01_1(){
  return this.matrix[1];
}
;
_.m10_0 = function m10_1(){
  return this.matrix[2];
}
;
_.m11_0 = function m11_1(){
  return this.matrix[3];
}
;
_.scaleX = function scaleX_1(){
  return sqrt(this.matrix[0] * this.matrix[0] + this.matrix[1] * this.matrix[1]);
}
;
_.scaleY = function scaleY_1(){
  return sqrt(this.matrix[2] * this.matrix[2] + this.matrix[3] * this.matrix[3]);
}
;
_.setRotation_0 = function setRotation_2(angle){
  var cosa, sina, sx, sy;
  sx = sqrt(this.matrix[0] * this.matrix[0] + this.matrix[1] * this.matrix[1]);
  sy = sqrt(this.matrix[2] * this.matrix[2] + this.matrix[3] * this.matrix[3]);
  sina = Math.sin(angle);
  cosa = Math.cos(angle);
  this.matrix[0] = cosa * sx;
  this.matrix[1] = sina * sx;
  this.matrix[2] = -sina * sy;
  this.matrix[3] = cosa * sy;
  return this;
}
;
_.setScaleX = function setScaleX_1(scaleX){
  var osx;
  osx = sqrt(this.matrix[0] * this.matrix[0] + this.matrix[1] * this.matrix[1]);
  $setM00(this, this.matrix[0] / osx * scaleX);
  $setM01(this, this.matrix[1] / osx * scaleX);
  return this;
}
;
_.setScaleY = function setScaleY_1(scaleY){
  var osy;
  osy = sqrt(this.matrix[2] * this.matrix[2] + this.matrix[3] * this.matrix[3]);
  $setM10(this, this.matrix[2] / osy * scaleY);
  $setM11(this, this.matrix[3] / osy * scaleY);
  return this;
}
;
_.setTranslation_0 = function setTranslation_2(tx, ty){
  this.matrix[4] = tx;
  this.matrix[5] = ty;
  return this;
}
;
_.setTx = function setTx_1(tx){
  return this.matrix[4] = tx , this;
}
;
_.setTy = function setTy_1(ty){
  return this.matrix[5] = ty , this;
}
;
_.setUniformScale = function setUniformScale_1(scale){
  return $setScale(this, scale, scale);
}
;
_.toString$ = function toString_24(){
  return 'affine [' + toString_27(this.matrix[0]) + ' ' + toString_27(this.matrix[1]) + ' ' + toString_27(this.matrix[2]) + ' ' + toString_27(this.matrix[3]) + ' ' + new Vector_1(this.matrix[4], this.matrix[5]) + ']';
}
;
_.tx_0 = function tx_1(){
  return this.matrix[4];
}
;
_.ty_0 = function ty_1(){
  return this.matrix[5];
}
;
_.matrix = null;
var IDENTITY;
function HtmlKeyboard$1_0(){
}

function HtmlKeyboard$1(){
}

_ = HtmlKeyboard$1_0.prototype = HtmlKeyboard$1.prototype = new Object_0;
_.getClass$ = function getClass_222(){
  return Lplayn_html_HtmlKeyboard$1_2_classLit;
}
;
_.handleEvent = function handleEvent_2(nativeEvent){
}
;
function HtmlKeyboard$2_0(){
}

function HtmlKeyboard$2(){
}

_ = HtmlKeyboard$2_0.prototype = HtmlKeyboard$2.prototype = new Object_0;
_.getClass$ = function getClass_223(){
  return Lplayn_html_HtmlKeyboard$2_2_classLit;
}
;
_.handleEvent = function handleEvent_3(nativeEvent){
}
;
function HtmlKeyboard$3_0(){
}

function HtmlKeyboard$3(){
}

_ = HtmlKeyboard$3_0.prototype = HtmlKeyboard$3.prototype = new Object_0;
_.getClass$ = function getClass_224(){
  return Lplayn_html_HtmlKeyboard$3_2_classLit;
}
;
_.handleEvent = function handleEvent_4(nativeEvent){
}
;
function HtmlLog(){
}

_ = HtmlLog.prototype = new Object_0;
_.getClass$ = function getClass_225(){
  return Lplayn_html_HtmlLog_2_classLit;
}
;
function $sendToConsole(msg, e){
  !!e && $printStackTrace(e);
  $wnd.console && $wnd.console.info && (e != null?$wnd.console.info(msg, e):$wnd.console.info(msg));
}

function HtmlLogSimple_0(){
}

function HtmlLogSimple(){
}

_ = HtmlLogSimple_0.prototype = HtmlLogSimple.prototype = new HtmlLog;
_.getClass$ = function getClass_226(){
  return Lplayn_html_HtmlLogSimple_2_classLit;
}
;
function $setListener(this$static, listener){
  this$static.listener = listener;
}

function HtmlMouse_0(rootElement){
  $captureEvent(rootElement, 'mousedown', new HtmlMouse$1_0(this, rootElement));
  $capturePageEvent('mouseup', new HtmlMouse$2_0(this, rootElement));
  $capturePageEvent('mousemove', new HtmlMouse$3_0(this, rootElement));
  $captureEvent(rootElement, 'mousemove', new HtmlMouse$4_0(this, rootElement));
  $captureEvent(rootElement, getMouseWheelEvent(), new HtmlMouse$5_0(this));
}

function getMouseButton(evt){
  switch ($eventGetButton(evt)) {
    case 1:
      return 0;
    case 4:
      return 1;
    case 2:
      return 2;
    default:return $eventGetButton(evt);
  }
}

function getMouseWheelEvent(){
  if (navigator.userAgent.toLowerCase().indexOf('firefox') != -1) {
    return 'DOMMouseScroll';
  }
   else {
    return 'mousewheel';
  }
}

function getMouseWheelVelocity(evt){
  var delta = 0;
  var agentInfo = ($clinit_HtmlPlatform() , agentInfo_0);
  if (agentInfo.isFirefox) {
    agentInfo.isMacOS?(delta = 1 * evt.detail):(delta = 1 * evt.detail / 3);
  }
   else if (agentInfo.isOpera) {
    agentInfo.isLinux?(delta = -1 * evt.wheelDelta / 80):(delta = -1 * evt.wheelDelta / 40);
  }
   else if (agentInfo.isChrome || agentInfo.isSafari) {
    delta = -1 * evt.wheelDelta / 120;
    Math.abs(delta) < 1 && (agentInfo.isWindows?(delta = -1 * evt.wheelDelta):agentInfo.isMacOS && (delta = -1 * evt.wheelDelta / 3));
  }
  return delta;
}

function HtmlMouse(){
}

_ = HtmlMouse_0.prototype = HtmlMouse.prototype = new HtmlInput;
_.getClass$ = function getClass_227(){
  return Lplayn_html_HtmlMouse_2_classLit;
}
;
_.inDragSequence = false;
_.listener = null;
function HtmlMouse$1_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlMouse$1(){
}

_ = HtmlMouse$1_0.prototype = HtmlMouse$1.prototype = new Object_0;
_.getClass$ = function getClass_228(){
  return Lplayn_html_HtmlMouse$1_2_classLit;
}
;
_.handleEvent = function handleEvent_5(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    this.this$0.inDragSequence = true;
    event_0 = new Mouse$ButtonEvent$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement), getMouseButton(nativeEvent));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlMouse$2_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlMouse$2(){
}

_ = HtmlMouse$2_0.prototype = HtmlMouse$2.prototype = new Object_0;
_.getClass$ = function getClass_229(){
  return Lplayn_html_HtmlMouse$2_2_classLit;
}
;
_.handleEvent = function handleEvent_6(nativeEvent){
  var event_0;
  if (!!this.this$0.listener && this.this$0.inDragSequence) {
    this.this$0.inDragSequence = false;
    event_0 = new Mouse$ButtonEvent$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement), getMouseButton(nativeEvent));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlMouse$3_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlMouse$3(){
}

_ = HtmlMouse$3_0.prototype = HtmlMouse$3.prototype = new Object_0;
_.getClass$ = function getClass_230(){
  return Lplayn_html_HtmlMouse$3_2_classLit;
}
;
_.handleEvent = function handleEvent_7(nativeEvent){
  var event_0;
  if (!!this.this$0.listener && this.this$0.inDragSequence) {
    event_0 = new Mouse$MotionEvent$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlMouse$4_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlMouse$4(){
}

_ = HtmlMouse$4_0.prototype = HtmlMouse$4.prototype = new Object_0;
_.getClass$ = function getClass_231(){
  return Lplayn_html_HtmlMouse$4_2_classLit;
}
;
_.handleEvent = function handleEvent_8(nativeEvent){
  var event_0;
  if (!!this.this$0.listener && !this.this$0.inDragSequence) {
    event_0 = new Mouse$MotionEvent$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlMouse$5_0(this$0){
  this.this$0 = this$0;
}

function HtmlMouse$5(){
}

_ = HtmlMouse$5_0.prototype = HtmlMouse$5.prototype = new Object_0;
_.getClass$ = function getClass_232(){
  return Lplayn_html_HtmlMouse$5_2_classLit;
}
;
_.handleEvent = function handleEvent_9(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    event_0 = new Mouse$WheelEvent$Impl_0(currentTimeMillis(), getMouseWheelVelocity(nativeEvent));
    $onMouseWheelScroll(this.this$0.listener, event_0);
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
function $clinit_HtmlPlatform(){
  var userAgent;
  $clinit_HtmlPlatform = nullMethod;
  hasTypedArraySupport = typeof Float32Array != 'undefined';
  agentInfo_0 = (userAgent = navigator.userAgent.toLowerCase() , {isFirefox:userAgent.indexOf('firefox') != -1, isChrome:userAgent.indexOf('chrome') != -1, isSafari:userAgent.indexOf('safari') != -1, isOpera:userAgent.indexOf('opera') != -1, isIE:userAgent.indexOf('msie') != -1, isMacOS:userAgent.indexOf('mac') != -1, isLinux:userAgent.indexOf('linux') != -1, isWindows:userAgent.indexOf('win') != -1});
}

function $requestAnimationFrame(callback){
  var fn = function(){
    callback.fire();
  }
  ;
  $wnd.requestAnimationFrame?$wnd.requestAnimationFrame(fn):$wnd.mozRequestAnimationFrame?$wnd.mozRequestAnimationFrame(fn):$wnd.webkitRequestAnimationFrame?$wnd.webkitRequestAnimationFrame(fn):$wnd.setTimeout(fn, 20);
}

function $run(this$static, game){
  $init(game);
  this$static.paintCallback = new HtmlPlatform$1_0(this$static);
  $requestAnimationFrame(this$static.paintCallback);
}

function HtmlPlatform_0(mode){
  var $e0, $e1, e, t;
  this.assets = new HtmlAssets_0;
  this.audio = new HtmlAudio_0;
  new HtmlStorage_0;
  this.analytics = new HtmlAnalytics_0;
  this.log_0 = new HtmlLogSimple_0;
  try {
    try {
      !mode && (mode = requestedMode());
      switch (mode.ordinal) {
        case 3:
          this.graphics = !!$wnd.WebGLRenderingContext && (!/Chrome/.test(navigator.userAgent) || !/OS X 10_5/.test(navigator.userAgent))?new HtmlGraphicsGL_0:new HtmlGraphicsCanvas_0;
          break;
        case 1:
          this.graphics = new HtmlGraphicsCanvas_0;
          break;
        case 2:
          this.graphics = new HtmlGraphicsDom_0;
          break;
        case 0:
          this.graphics = new HtmlGraphicsGL_0;
      }
    }
     catch ($e1) {
      $e1 = caught($e1);
      if (instanceOf($e1, Q$RuntimeException)) {
        e = $e1;
        $sendToConsole('INFO: Failed to create GL context (' + e.getMessage() + '). Falling back.', null);
        this.graphics = new HtmlGraphicsCanvas_0;
      }
       else if (instanceOf($e1, Q$Throwable)) {
        t = $e1;
        $sendToConsole('INFO: GL context creation failed with an unknown error.' + t, null);
        this.graphics = new HtmlGraphicsCanvas_0;
      }
       else 
        throw $e1;
    }
    this.pointer = new HtmlPointer_0(this.graphics.rootElement_0());
    this.mouse = new HtmlMouse_0(this.graphics.rootElement_0());
    new HtmlTouch_0(this.graphics.rootElement_0());
    this.graphics.setSize(640, 480);
  }
   catch ($e0) {
    $e0 = caught($e0);
    if (instanceOf($e0, Q$Throwable)) {
      e = $e0;
      $sendToConsole('ERROR: init()', e);
      alert_0('failed to init(): ' + e.getMessage());
    }
     else 
      throw $e0;
  }
}

function addEventListener_0(target, name_0, handler, capture){
  $clinit_HtmlPlatform();
  target.addEventListener(name_0, function(e){
    handler.handleEvent(e);
  }
  , capture);
}

function captureEvent(name_0, handler){
  $clinit_HtmlPlatform();
  addEventListener_0($doc, name_0, handler, true);
}

function HtmlPlatform(){
}

_ = HtmlPlatform_0.prototype = HtmlPlatform.prototype = new Object_0;
_.getClass$ = function getClass_233(){
  return Lplayn_html_HtmlPlatform_2_classLit;
}
;
_.graphics = null;
_.log_0 = null;
_.mouse = null;
_.paintCallback = null;
_.pointer = null;
var agentInfo_0, hasTypedArraySupport;
function HtmlPlatform$1_0(this$0){
  this.this$0 = this$0;
  this.val$updateRate = 15;
  this.accum = this.val$updateRate;
}

function HtmlPlatform$1(){
}

_ = HtmlPlatform$1_0.prototype = HtmlPlatform$1.prototype = new Object_0;
_.fire = function fire(){
  var delta, now;
  $requestAnimationFrame(this.this$0.paintCallback);
  now = currentTimeMillis();
  delta = now - this.lastTime;
  delta > 100 && (delta = 100);
  this.lastTime = now;
  if (this.val$updateRate == 0) {
    $update(delta);
    this.accum = 0;
  }
   else {
    this.accum += delta;
    while (this.accum > this.val$updateRate) {
      $update(this.val$updateRate);
      this.accum -= this.val$updateRate;
    }
  }
  $paint(this.accum / this.val$updateRate);
  this.this$0.graphics.paintLayers();
}
;
_.getClass$ = function getClass_234(){
  return Lplayn_html_HtmlPlatform$1_2_classLit;
}
;
_.lastTime = 0;
_.this$0 = null;
_.val$updateRate = 0;
function $clinit_HtmlPlatform$Mode(){
  $clinit_HtmlPlatform$Mode = nullMethod;
  WEBGL = new HtmlPlatform$Mode_0('WEBGL', 0);
  CANVAS = new HtmlPlatform$Mode_0('CANVAS', 1);
  DOM = new HtmlPlatform$Mode_0('DOM', 2);
  AUTODETECT = new HtmlPlatform$Mode_0('AUTODETECT', 3);
  $VALUES_10 = initValues(_3Lplayn_html_HtmlPlatform$Mode_2_classLit, makeCastMap([Q$Serializable, Q$Object_$1]), Q$HtmlPlatform$Mode, [WEBGL, CANVAS, DOM, AUTODETECT]);
}

function HtmlPlatform$Mode_0(enum$name, enum$ordinal){
  Enum_0.call(this, enum$name, enum$ordinal);
}

function values_10(){
  $clinit_HtmlPlatform$Mode();
  return $VALUES_10;
}

function HtmlPlatform$Mode(){
}

_ = HtmlPlatform$Mode_0.prototype = HtmlPlatform$Mode.prototype = new Enum;
_.getClass$ = function getClass_235(){
  return Lplayn_html_HtmlPlatform$Mode_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Comparable, Q$Enum, Q$HtmlPlatform$Mode]);
var $VALUES_10, AUTODETECT, CANVAS, DOM, WEBGL;
function $setListener_0(this$static, listener){
  this$static.listener = listener;
}

function HtmlPointer_0(rootElement){
  !impl && (impl = new TouchEvent$TouchSupportDetector_0);
  if (impl.isSupported) {
    $captureEvent(rootElement, 'touchstart', new HtmlPointer$1_0(this, rootElement));
    $capturePageEvent('touchend', new HtmlPointer$2_0(this, rootElement));
    $capturePageEvent('touchmove', new HtmlPointer$3_0(this, rootElement));
  }
   else {
    $captureEvent(rootElement, 'mousedown', new HtmlPointer$4_0(this, rootElement));
    $capturePageEvent('mouseup', new HtmlPointer$5_0(this, rootElement));
    $capturePageEvent('mousemove', new HtmlPointer$6_0(this, rootElement));
  }
}

function eventFromTouch(rootElement, touch){
  var event_0, x, y;
  x = touch.clientX - $getAbsoluteLeft(rootElement) + $getScrollLeft(rootElement) + $getScrollLeft(rootElement.ownerDocument.body);
  y = touch.clientY - $getAbsoluteTop(rootElement) + (rootElement.scrollTop || 0) + (rootElement.ownerDocument.body.scrollTop || 0);
  event_0 = new Pointer$Event$Impl_0(currentTimeMillis(), x, y);
  event_0.preventDefault_0 = true;
  return event_0;
}

function HtmlPointer(){
}

_ = HtmlPointer_0.prototype = HtmlPointer.prototype = new HtmlInput;
_.getClass$ = function getClass_236(){
  return Lplayn_html_HtmlPointer_2_classLit;
}
;
_.inDragSequence = false;
_.listener = null;
function HtmlPointer$1_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$1(){
}

_ = HtmlPointer$1_0.prototype = HtmlPointer$1.prototype = new Object_0;
_.getClass$ = function getClass_237(){
  return Lplayn_html_HtmlPointer$1_2_classLit;
}
;
_.handleEvent = function handleEvent_10(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    event_0 = null;
    if (nativeEvent.changedTouches.length > 0) {
      this.this$0.inDragSequence = true;
      event_0 = eventFromTouch(this.val$rootElement, nativeEvent.changedTouches[0]);
    }
    (!event_0 || event_0.preventDefault_0) && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlPointer$2_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$2(){
}

_ = HtmlPointer$2_0.prototype = HtmlPointer$2.prototype = new Object_0;
_.getClass$ = function getClass_238(){
  return Lplayn_html_HtmlPointer$2_2_classLit;
}
;
_.handleEvent = function handleEvent_11(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    event_0 = null;
    if (this.this$0.inDragSequence) {
      if (nativeEvent.changedTouches.length > 0) {
        this.this$0.inDragSequence = false;
        event_0 = eventFromTouch(this.val$rootElement, nativeEvent.changedTouches[0]);
        $onPointerEnd(this.this$0.listener, event_0);
      }
    }
    (!event_0 || event_0.preventDefault_0) && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlPointer$3_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$3(){
}

_ = HtmlPointer$3_0.prototype = HtmlPointer$3.prototype = new Object_0;
_.getClass$ = function getClass_239(){
  return Lplayn_html_HtmlPointer$3_2_classLit;
}
;
_.handleEvent = function handleEvent_12(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    event_0 = null;
    this.this$0.inDragSequence && nativeEvent.changedTouches.length > 0 && (event_0 = eventFromTouch(this.val$rootElement, nativeEvent.changedTouches[0]));
    (!event_0 || event_0.preventDefault_0) && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlPointer$4_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$4(){
}

_ = HtmlPointer$4_0.prototype = HtmlPointer$4.prototype = new Object_0;
_.getClass$ = function getClass_240(){
  return Lplayn_html_HtmlPointer$4_2_classLit;
}
;
_.handleEvent = function handleEvent_13(nativeEvent){
  var event_0;
  if (this.this$0.listener) {
    this.this$0.inDragSequence = true;
    event_0 = new Pointer$Event$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlPointer$5_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$5(){
}

_ = HtmlPointer$5_0.prototype = HtmlPointer$5.prototype = new Object_0;
_.getClass$ = function getClass_241(){
  return Lplayn_html_HtmlPointer$5_2_classLit;
}
;
--></script>
<script><!--
_.handleEvent = function handleEvent_14(nativeEvent){
  var event_0;
  if (!!this.this$0.listener && this.this$0.inDragSequence) {
    this.this$0.inDragSequence = false;
    event_0 = new Pointer$Event$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement));
    $onPointerEnd(this.this$0.listener, event_0);
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlPointer$6_0(this$0, val$rootElement){
  this.this$0 = this$0;
  this.val$rootElement = val$rootElement;
}

function HtmlPointer$6(){
}

_ = HtmlPointer$6_0.prototype = HtmlPointer$6.prototype = new Object_0;
_.getClass$ = function getClass_242(){
  return Lplayn_html_HtmlPointer$6_2_classLit;
}
;
_.handleEvent = function handleEvent_15(nativeEvent){
  var event_0;
  if (!!this.this$0.listener && this.this$0.inDragSequence) {
    event_0 = new Pointer$Event$Impl_0(currentTimeMillis(), getRelativeX(nativeEvent, this.val$rootElement), getRelativeY(nativeEvent, this.val$rootElement));
    event_0.preventDefault_0 && (nativeEvent.preventDefault() , undefined);
  }
}
;
_.this$0 = null;
_.val$rootElement = null;
function HtmlStorage_0(){
  var storage;
  storage = getLocalStorageIfSupported();
  storage?new StorageMap_0(storage):new HashMap_0;
}

function HtmlStorage(){
}

_ = HtmlStorage_0.prototype = HtmlStorage.prototype = new Object_0;
_.getClass$ = function getClass_243(){
  return Lplayn_html_HtmlStorage_2_classLit;
}
;
function HtmlTouch_0(rootElement){
  $captureEvent(rootElement, 'touchstart', new HtmlTouch$1_0);
  $capturePageEvent('touchend', new HtmlTouch$2_0);
  $capturePageEvent('touchmove', new HtmlTouch$3_0);
}

function HtmlTouch(){
}

_ = HtmlTouch_0.prototype = HtmlTouch.prototype = new HtmlInput;
_.getClass$ = function getClass_244(){
  return Lplayn_html_HtmlTouch_2_classLit;
}
;
function HtmlTouch$1_0(){
}

function HtmlTouch$1(){
}

_ = HtmlTouch$1_0.prototype = HtmlTouch$1.prototype = new Object_0;
_.getClass$ = function getClass_245(){
  return Lplayn_html_HtmlTouch$1_2_classLit;
}
;
_.handleEvent = function handleEvent_16(nativeEvent){
}
;
function HtmlTouch$2_0(){
}

function HtmlTouch$2(){
}

_ = HtmlTouch$2_0.prototype = HtmlTouch$2.prototype = new Object_0;
_.getClass$ = function getClass_246(){
  return Lplayn_html_HtmlTouch$2_2_classLit;
}
;
_.handleEvent = function handleEvent_17(nativeEvent){
}
;
function HtmlTouch$3_0(){
}

function HtmlTouch$3(){
}

_ = HtmlTouch$3_0.prototype = HtmlTouch$3.prototype = new Object_0;
_.getClass$ = function getClass_247(){
  return Lplayn_html_HtmlTouch$3_2_classLit;
}
;
_.handleEvent = function handleEvent_18(nativeEvent){
}
;
function getRandom(){
  var $e0, random, val;
  random = Math.random();
  val = (ensureParameterMap() , $get_1(paramMap, 'analytics'));
  if (val != null) {
    try {
      random = parseFloat_0(val);
    }
     catch ($e0) {
      $e0 = caught($e0);
      if (!instanceOf($e0, Q$Exception))
        throw $e0;
    }
  }
  return random;
}

function requestedMode(){
  var renderer;
  renderer = (ensureParameterMap() , $get_1(paramMap, 'renderer'));
  if ($equals('canvas', renderer)) {
    return $clinit_HtmlPlatform$Mode() , CANVAS;
  }
   else if ($equals('gl', renderer)) {
    return $clinit_HtmlPlatform$Mode() , WEBGL;
  }
   else if ($equals('dom', renderer)) {
    return $clinit_HtmlPlatform$Mode() , DOM;
  }
  return $clinit_HtmlPlatform$Mode() , AUTODETECT;
}

function AbstractPoint(){
}

_ = AbstractPoint.prototype = new Object_0;
_.equals$ = function equals_11(obj){
  var p;
  if (obj === this) {
    return true;
  }
  if (instanceOf(obj, Q$AbstractPoint)) {
    p = obj;
    return this.x == p.x && this.y == p.y;
  }
  return false;
}
;
_.getClass$ = function getClass_248(){
  return Lpythagoras_f_AbstractPoint_2_classLit;
}
;
_.hashCode$ = function hashCode_12(){
  return round_int(this.x) ^ round_int(this.y);
}
;
_.toString$ = function toString_25(){
  return pointToString(this.x, this.y);
}
;
_.castableTypeMap$ = makeCastMap([Q$AbstractPoint]);
function AbstractVector(){
}

_ = AbstractVector.prototype = new Object_0;
_.equals$ = function equals_12(obj){
  var p;
  if (obj === this) {
    return true;
  }
  if (instanceOf(obj, Q$AbstractVector)) {
    p = obj;
    return this.x == p.x && this.y == p.y;
  }
  return false;
}
;
_.getClass$ = function getClass_249(){
  return Lpythagoras_f_AbstractVector_2_classLit;
}
;
_.hashCode$ = function hashCode_13(){
  return round_int(this.x) ^ round_int(this.y);
}
;
_.toString$ = function toString_26(){
  return vectorToString(this.x, this.y);
}
;
_.castableTypeMap$ = makeCastMap([Q$AbstractVector]);
function toString_27(value){
  var buf, ii, ivalue;
  buf = new StringBuilder_0;
  if (value >= 0) {
    buf.impl.string += '+';
  }
   else {
    buf.impl.string += '-';
    value = -value;
  }
  ivalue = round_int(value);
  $append_2(buf.impl, ivalue);
  buf.impl.string += '.';
  for (ii = 0; ii < 3; ++ii) {
    value = (value - ivalue) * 10;
    ivalue = round_int(value);
    $append_2(buf.impl, ivalue);
  }
  for (ii = 0; ii < 2; ++ii) {
    $charAt_0(buf, buf.impl.string.length - 1) == 48 && $setLength(buf, buf.impl.string.length - 1);
  }
  return buf.impl.string;
}

function $set_18(this$static, x, y){
  this$static.x = x;
  this$static.y = y;
  return this$static;
}

function Point_0(x, y){
  $set_18(this, x, y);
}

function Point(){
}

_ = Point_0.prototype = Point.prototype = new AbstractPoint;
_.getClass$ = function getClass_250(){
  return Lpythagoras_f_Point_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$AbstractPoint]);
_.x = 0;
_.y = 0;
function $clinit_Points(){
  $clinit_Points = nullMethod;
  new Point_0(0, 0);
}

function pointToString(x, y){
  $clinit_Points();
  return toString_27(x) + toString_27(y);
}

function Vector_1(x, y){
  this.x = x;
  this.y = y;
}

function Vector_0(){
}

_ = Vector_1.prototype = Vector_0.prototype = new AbstractVector;
_.getClass$ = function getClass_251(){
  return Lpythagoras_f_Vector_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$AbstractVector]);
_.x = 0;
_.y = 0;
function $clinit_Vectors(){
  $clinit_Vectors = nullMethod;
  new Vector_1(1, 0);
  new Vector_1(0, 1);
  new Vector_1(0, 0);
  new Vector_1(-3.4028234663852886E38, -3.4028234663852886E38);
  new Vector_1(3.4028234663852886E38, 3.4028234663852886E38);
}

function vectorToString(x, y){
  $clinit_Vectors();
  return toString_27(x) + toString_27(y);
}

function NoninvertibleTransformException_0(s){
  RuntimeException_0.call(this, s);
}

function NoninvertibleTransformException(){
}

_ = NoninvertibleTransformException_0.prototype = NoninvertibleTransformException.prototype = new RuntimeException;
_.getClass$ = function getClass_252(){
  return Lpythagoras_util_NoninvertibleTransformException_2_classLit;
}
;
_.castableTypeMap$ = makeCastMap([Q$Serializable, Q$Exception, Q$RuntimeException, Q$Throwable]);
var $entry = entry_0;
function gwtOnLoad(errFn, modName, modBase, softPermutationId){
  $moduleName = modName;
  $moduleBase = modBase;
  if (errFn)
    try {
      $entry(init)();
    }
     catch (e) {
      errFn(modName);
    }
   else {
    $entry(init)();
  }
}

--></script>
<script><!--
var Ljava_lang_Object_2_classLit = createForClass('Object_0'), Lcom_allen_1sauer_gwt_voices_client_FlashSound_2_classLit = createForClass(null), Lcom_allen_1sauer_gwt_voices_client_Html5Sound_2_classLit = createForClass(null), Lcom_allen_1sauer_gwt_voices_client_NativeSound_2_classLit = createForClass(null), Ljava_lang_Enum_2_classLit = createForClass('Enum'), Lcom_allen_1sauer_gwt_voices_client_SoundController_2_classLit = createForClass('SoundController'), Lcom_allen_1sauer_gwt_voices_client_WebAudioSound_2_classLit = createForClass(null), Ljava_lang_Class_2_classLit = createForClass('Class'), _3Ljava_lang_Class_2_classLit = createForArray('Array_0', Ljava_lang_Class_2_classLit), Ljava_util_AbstractCollection_2_classLit = createForClass('AbstractCollection'), Ljava_util_AbstractList_2_classLit = createForClass('AbstractList'), Ljava_util_ArrayList_2_classLit = createForClass('ArrayList'), Ljava_lang_String_2_classLit = createForClass('String_0'), _3Ljava_lang_String_2_classLit = createForArray('Array_0', Ljava_lang_String_2_classLit), Lcom_google_gwt_canvas_dom_client_Context2d$Repetition_2_classLit = createForEnum('Context2d$Repetition', values), _3Lcom_google_gwt_canvas_dom_client_Context2d$Repetition_2_classLit = createForArray('Array_0', Lcom_google_gwt_canvas_dom_client_Context2d$Repetition_2_classLit), Ljava_lang_Throwable_2_classLit = createForClass('Throwable'), Ljava_lang_Exception_2_classLit = createForClass('Exception'), Ljava_lang_RuntimeException_2_classLit = createForClass('RuntimeException'), Lcom_google_gwt_core_client_JavaScriptException_2_classLit = createForClass('JavaScriptException'), Lcom_google_gwt_core_client_JavaScriptObject_2_classLit = createForClass('JavaScriptObject'), Lcom_google_gwt_core_client_Scheduler_2_classLit = createForClass('Scheduler'), I_classLit = createForPrimitive(' I'), _3I_classLit = createForArray('Array_0', I_classLit), _3Ljava_lang_Object_2_classLit = createForArray('Array_0', Ljava_lang_Object_2_classLit), Lcom_google_gwt_core_client_impl_SchedulerImpl_2_classLit = createForClass('SchedulerImpl'), Lcom_google_gwt_core_client_impl_SchedulerImpl$Flusher_2_classLit = createForClass('SchedulerImpl$Flusher'), Lcom_google_gwt_core_client_impl_SchedulerImpl$Rescuer_2_classLit = createForClass('SchedulerImpl$Rescuer'), Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit = createForClass('StackTraceCreator$Collector'), Ljava_lang_StackTraceElement_2_classLit = createForClass('StackTraceElement'), _3Ljava_lang_StackTraceElement_2_classLit = createForArray('Array_0', Ljava_lang_StackTraceElement_2_classLit), Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorMoz_2_classLit = createForClass('StackTraceCreator$CollectorMoz'), Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorChrome_2_classLit = createForClass('StackTraceCreator$CollectorChrome'), Lcom_google_gwt_core_client_impl_StringBufferImpl_2_classLit = createForClass('StringBufferImpl'), Lcom_google_gwt_core_client_impl_StringBufferImplAppend_2_classLit = createForClass('StringBufferImplAppend'), Lcom_google_gwt_dom_client_Style$Overflow_2_classLit = createForEnum('Style$Overflow', values_0), _3Lcom_google_gwt_dom_client_Style$Overflow_2_classLit = createForArray('Array_0', Lcom_google_gwt_dom_client_Style$Overflow_2_classLit), Lcom_google_gwt_dom_client_Style$Overflow$1_2_classLit = createForEnum('Style$Overflow$1', null), Lcom_google_gwt_dom_client_Style$Overflow$2_2_classLit = createForEnum('Style$Overflow$2', null), Lcom_google_gwt_dom_client_Style$Overflow$3_2_classLit = createForEnum('Style$Overflow$3', null), Lcom_google_gwt_dom_client_Style$Overflow$4_2_classLit = createForEnum('Style$Overflow$4', null), Lcom_google_gwt_dom_client_Style$Position_2_classLit = createForEnum('Style$Position', values_1), _3Lcom_google_gwt_dom_client_Style$Position_2_classLit = createForArray('Array_0', Lcom_google_gwt_dom_client_Style$Position_2_classLit), Lcom_google_gwt_dom_client_Style$Position$1_2_classLit = createForEnum('Style$Position$1', null), Lcom_google_gwt_dom_client_Style$Position$2_2_classLit = createForEnum('Style$Position$2', null), Lcom_google_gwt_dom_client_Style$Position$3_2_classLit = createForEnum('Style$Position$3', null), Lcom_google_gwt_dom_client_Style$Position$4_2_classLit = createForEnum('Style$Position$4', null), Lcom_google_gwt_dom_client_Style$Unit_2_classLit = createForEnum('Style$Unit', values_2), _3Lcom_google_gwt_dom_client_Style$Unit_2_classLit = createForArray('Array_0', Lcom_google_gwt_dom_client_Style$Unit_2_classLit), Lcom_google_gwt_dom_client_Style$Unit$1_2_classLit = createForEnum('Style$Unit$1', null), Lcom_google_gwt_dom_client_Style$Unit$2_2_classLit = createForEnum('Style$Unit$2', null), Lcom_google_gwt_dom_client_Style$Unit$3_2_classLit = createForEnum('Style$Unit$3', null), Lcom_google_gwt_dom_client_Style$Unit$4_2_classLit = createForEnum('Style$Unit$4', null), Lcom_google_gwt_dom_client_Style$Unit$5_2_classLit = createForEnum('Style$Unit$5', null), Lcom_google_gwt_dom_client_Style$Unit$6_2_classLit = createForEnum('Style$Unit$6', null), Lcom_google_gwt_dom_client_Style$Unit$7_2_classLit = createForEnum('Style$Unit$7', null), Lcom_google_gwt_dom_client_Style$Unit$8_2_classLit = createForEnum('Style$Unit$8', null), Lcom_google_gwt_dom_client_Style$Unit$9_2_classLit = createForEnum('Style$Unit$9', null), Lcom_google_gwt_dom_client_Style$Visibility_2_classLit = createForEnum('Style$Visibility', values_3), _3Lcom_google_gwt_dom_client_Style$Visibility_2_classLit = createForArray('Array_0', Lcom_google_gwt_dom_client_Style$Visibility_2_classLit), Lcom_google_gwt_dom_client_Style$Visibility$1_2_classLit = createForEnum('Style$Visibility$1', null), Lcom_google_gwt_dom_client_Style$Visibility$2_2_classLit = createForEnum('Style$Visibility$2', null), Lcom_google_gwt_event_dom_client_TouchEvent$TouchSupportDetector_2_classLit = createForClass('TouchEvent$TouchSupportDetector'), Lcom_google_gwt_storage_client_Storage_2_classLit = createForClass('Storage'), Lcom_google_gwt_storage_client_Storage$StorageSupportDetector_2_classLit = createForClass('Storage$StorageSupportDetector'), Ljava_util_AbstractMap_2_classLit = createForClass('AbstractMap'), Lcom_google_gwt_storage_client_StorageMap_2_classLit = createForClass('StorageMap'), Lcom_google_gwt_storage_client_StorageMap$StorageEntry_2_classLit = createForClass('StorageMap$StorageEntry'), Lcom_google_gwt_storage_client_StorageMap$StorageEntryIterator_2_classLit = createForClass('StorageMap$StorageEntryIterator'), Ljava_util_AbstractSet_2_classLit = createForClass('AbstractSet'), Lcom_google_gwt_storage_client_StorageMap$StorageEntrySet_2_classLit = createForClass('StorageMap$StorageEntrySet'), C_classLit = createForPrimitive(' C'), _3C_classLit = createForArray('Array_0', C_classLit), F_classLit = createForPrimitive(' F'), _3F_classLit = createForArray('Array_0', F_classLit), Ljava_lang_IndexOutOfBoundsException_2_classLit = createForClass('IndexOutOfBoundsException'), Ljava_lang_ArrayIndexOutOfBoundsException_2_classLit = createForClass('ArrayIndexOutOfBoundsException'), Ljava_lang_ArrayStoreException_2_classLit = createForClass('ArrayStoreException'), Ljava_lang_Number_2_classLit = createForClass('Number_0'), Ljava_lang_Float_2_classLit = createForClass('Float'), Ljava_lang_IllegalArgumentException_2_classLit = createForClass('IllegalArgumentException'), Ljava_lang_Integer_2_classLit = createForClass('Integer'), _3Ljava_lang_Integer_2_classLit = createForArray('Array_0', Ljava_lang_Integer_2_classLit), Ljava_lang_NullPointerException_2_classLit = createForClass('NullPointerException'), Ljava_lang_NumberFormatException_2_classLit = createForClass('NumberFormatException'), Ljava_lang_StringBuffer_2_classLit = createForClass('StringBuffer'), Ljava_lang_StringBuilder_2_classLit = createForClass('StringBuilder'), Ljava_lang_ThreadLocal_2_classLit = createForClass('ThreadLocal'), Ljava_lang_UnsupportedOperationException_2_classLit = createForClass('UnsupportedOperationException'), Ljava_util_AbstractHashMap_2_classLit = createForClass('AbstractHashMap'), Ljava_util_AbstractHashMap$EntrySet_2_classLit = createForClass('AbstractHashMap$EntrySet'), Ljava_util_AbstractHashMap$EntrySetIterator_2_classLit = createForClass('AbstractHashMap$EntrySetIterator'), Ljava_util_AbstractMapEntry_2_classLit = createForClass('AbstractMapEntry'), Ljava_util_AbstractHashMap$MapEntryNull_2_classLit = createForClass('AbstractHashMap$MapEntryNull'), Ljava_util_AbstractHashMap$MapEntryString_2_classLit = createForClass('AbstractHashMap$MapEntryString'), Ljava_util_AbstractList$IteratorImpl_2_classLit = createForClass('AbstractList$IteratorImpl'), Ljava_util_AbstractMap$1_2_classLit = createForClass('AbstractMap$1'), Ljava_util_AbstractMap$1$1_2_classLit = createForClass('AbstractMap$1$1'), Ljava_util_Comparators$1_2_classLit = createForClass('Comparators$1'), Ljava_util_EmptyStackException_2_classLit = createForClass('EmptyStackException'), Ljava_util_HashMap_2_classLit = createForClass('HashMap'), Ljava_util_HashSet_2_classLit = createForClass('HashSet'), Ljava_util_MapEntryImpl_2_classLit = createForClass('MapEntryImpl'), Ljava_util_NoSuchElementException_2_classLit = createForClass('NoSuchElementException'), Ljava_util_Vector_2_classLit = createForClass('Vector'), Ljava_util_Stack_2_classLit = createForClass('Stack'), Lnet_japura_monofuel_testgame_core_MenuBar_2_classLit = createForClass('MenuBar'), Lnet_japura_monofuel_testgame_core_MenuBar$Button_2_classLit = createForClass('MenuBar$Button'), Lnet_japura_monofuel_testgame_core_MenuBar$BoxButton_2_classLit = createForClass('MenuBar$BoxButton'), Lnet_japura_monofuel_testgame_core_MenuBar$MoveButton_2_classLit = createForClass('MenuBar$MoveButton'), Lnet_japura_monofuel_testgame_core_MenuBar$PauseButton_2_classLit = createForClass('MenuBar$PauseButton'), Lnet_japura_monofuel_testgame_core_MenuBar$WeldButton_2_classLit = createForClass('MenuBar$WeldButton'), Lnet_japura_monofuel_testgame_core_Shape_2_classLit = createForClass('Shape'), Lnet_japura_monofuel_testgame_core_TestGame_2_classLit = createForClass('TestGame'), Lplayn_core_Mouse$Adapter_2_classLit = createForClass('Mouse$Adapter'), Lnet_japura_monofuel_testgame_core_TestGame$1_2_classLit = createForClass('TestGame$1'), Lplayn_core_Pointer$Adapter_2_classLit = createForClass('Pointer$Adapter'), Lnet_japura_monofuel_testgame_core_TestGame$2_2_classLit = createForClass('TestGame$2'), Lorg_jbox2d_callbacks_ContactFilter_2_classLit = createForClass('ContactFilter'), Lorg_jbox2d_callbacks_ContactImpulse_2_classLit = createForClass('ContactImpulse'), Lorg_jbox2d_collision_AABB_2_classLit = createForClass('AABB'), Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit = createForClass('Collision$ClipVertex'), _3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit), Lorg_jbox2d_collision_Collision_2_classLit = createForClass('Collision'), Lorg_jbox2d_collision_Collision$EdgeResults_2_classLit = createForClass('Collision$EdgeResults'), Lorg_jbox2d_collision_ContactID_2_classLit = createForClass('ContactID'), Lorg_jbox2d_collision_ContactID$Features_2_classLit = createForClass('ContactID$Features'), Lorg_jbox2d_collision_Distance_2_classLit = createForClass('Distance'), Lorg_jbox2d_collision_Distance$DistanceProxy_2_classLit = createForClass('Distance$DistanceProxy'), Lorg_jbox2d_common_Vec2_2_classLit = createForClass('Vec2'), _3Lorg_jbox2d_common_Vec2_2_classLit = createForArray('Array_0', Lorg_jbox2d_common_Vec2_2_classLit), Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit = createForClass('Distance$SimplexVertex'), _3Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit), Lorg_jbox2d_collision_Distance$Simplex_2_classLit = createForClass('Distance$Simplex'), Lorg_jbox2d_collision_Distance$SimplexCache_2_classLit = createForClass('Distance$SimplexCache'), Lorg_jbox2d_collision_DistanceInput_2_classLit = createForClass('DistanceInput'), Lorg_jbox2d_collision_DistanceOutput_2_classLit = createForClass('DistanceOutput'), Lorg_jbox2d_collision_Manifold_2_classLit = createForClass('Manifold'), Lorg_jbox2d_collision_ManifoldPoint_2_classLit = createForClass('ManifoldPoint'), _3Lorg_jbox2d_collision_ManifoldPoint_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_ManifoldPoint_2_classLit), Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit = createForEnum('Manifold$ManifoldType', values_4), _3Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit), Lorg_jbox2d_collision_RayCastInput_2_classLit = createForClass('RayCastInput'), Lorg_jbox2d_collision_RayCastOutput_2_classLit = createForClass('RayCastOutput'), Lorg_jbox2d_collision_SeparationFunction_2_classLit = createForClass('SeparationFunction'), Lorg_jbox2d_collision_TimeOfImpact_2_classLit = createForClass('TimeOfImpact'), Lorg_jbox2d_collision_TimeOfImpact$TOIInput_2_classLit = createForClass('TimeOfImpact$TOIInput'), Lorg_jbox2d_collision_TimeOfImpact$TOIOutput_2_classLit = createForClass('TimeOfImpact$TOIOutput'), Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit = createForEnum('TimeOfImpact$TOIOutputState', values_5), _3Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit), Lorg_jbox2d_collision_Type_2_classLit = createForEnum('Type', values_6), _3Lorg_jbox2d_collision_Type_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_Type_2_classLit), Lorg_jbox2d_collision_WorldManifold_2_classLit = createForClass('WorldManifold'), Lorg_jbox2d_collision_broadphase_BroadPhase_2_classLit = createForClass('BroadPhase'), Lorg_jbox2d_collision_broadphase_Pair_2_classLit = createForClass('Pair'), _3Lorg_jbox2d_collision_broadphase_Pair_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_broadphase_Pair_2_classLit), Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit = createForClass('DynamicTreeNode'), _3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit), Lorg_jbox2d_collision_broadphase_DynamicTree_2_classLit = createForClass('DynamicTree'), Lorg_jbox2d_collision_broadphase_Pair$StableComparator_2_classLit = createForClass('Pair$StableComparator'), Lorg_jbox2d_collision_shapes_Shape_2_classLit = createForClass('Shape_1'), Lorg_jbox2d_collision_shapes_MassData_2_classLit = createForClass('MassData'), Lorg_jbox2d_collision_shapes_PolygonShape_2_classLit = createForClass('PolygonShape'), Lorg_jbox2d_collision_shapes_ShapeType_2_classLit = createForEnum('ShapeType', values_7), _3Lorg_jbox2d_collision_shapes_ShapeType_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_shapes_ShapeType_2_classLit), Lorg_jbox2d_common_Mat22_2_classLit = createForClass('Mat22'), Lorg_jbox2d_common_Sweep_2_classLit = createForClass('Sweep'), Lorg_jbox2d_common_Transform_2_classLit = createForClass('Transform'), Lorg_jbox2d_common_Vec3_2_classLit = createForClass('Vec3'), Lorg_jbox2d_dynamics_Body_2_classLit = createForClass('Body'), Lorg_jbox2d_dynamics_BodyDef_2_classLit = createForClass('BodyDef'), Lorg_jbox2d_dynamics_BodyType_2_classLit = createForEnum('BodyType', values_8), _3Lorg_jbox2d_dynamics_BodyType_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_BodyType_2_classLit), Lorg_jbox2d_dynamics_ContactManager_2_classLit = createForClass('ContactManager'), Lorg_jbox2d_dynamics_Filter_2_classLit = createForClass('Filter'), Lorg_jbox2d_dynamics_Fixture_2_classLit = createForClass('Fixture'), Lorg_jbox2d_dynamics_FixtureDef_2_classLit = createForClass('FixtureDef'), Lorg_jbox2d_dynamics_Island_2_classLit = createForClass('Island'), _3Lorg_jbox2d_dynamics_Body_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_Body_2_classLit), Lorg_jbox2d_dynamics_joints_Joint_2_classLit = createForClass(null), _3Lorg_jbox2d_dynamics_joints_Joint_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_joints_Joint_2_classLit), Lorg_jbox2d_dynamics_contacts_Contact_2_classLit = createForClass('Contact'), _3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_Contact_2_classLit), Lorg_jbox2d_dynamics_Velocity_2_classLit = createForClass('Velocity'), _3Lorg_jbox2d_dynamics_Velocity_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_Velocity_2_classLit), Lorg_jbox2d_dynamics_Position_2_classLit = createForClass('Position'), _3Lorg_jbox2d_dynamics_Position_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_Position_2_classLit), Lorg_jbox2d_dynamics_TimeStep_2_classLit = createForClass('TimeStep'), Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit = createForClass('ContactRegister'), _3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit), _3_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit = createForArray('Array_0', _3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit), Lorg_jbox2d_dynamics_World_2_classLit = createForClass('World'), Lorg_jbox2d_dynamics_WorldRayCastWrapper_2_classLit = createForClass('WorldRayCastWrapper'), Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit = createForClass('CircleContact'), Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit = createForClass('ContactConstraint'), Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit = createForClass('ContactConstraintPoint'), _3Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit), Lorg_jbox2d_dynamics_contacts_ContactEdge_2_classLit = createForClass('ContactEdge'), Lorg_jbox2d_dynamics_contacts_ContactSolver_2_classLit = createForClass('ContactSolver'), _3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit), Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit = createForClass('PolygonAndCircleContact'), Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit = createForClass('PolygonContact'), Lorg_jbox2d_dynamics_contacts_PositionSolverManifold_2_classLit = createForClass('PositionSolverManifold'), Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit = createForClass('TOIConstraint'), _3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit), Lorg_jbox2d_dynamics_contacts_TOISolver_2_classLit = createForClass('TOISolver'), Lorg_jbox2d_dynamics_contacts_TOISolverManifold_2_classLit = createForClass('TOISolverManifold'), Lorg_jbox2d_pooling_MutableStack_2_classLit = createForClass('MutableStack'), Lorg_jbox2d_pooling_CircleContactStack_2_classLit = createForClass('CircleContactStack'), _3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit), Lorg_jbox2d_pooling_OrderedStack_2_classLit = createForClass('OrderedStack'), Lorg_jbox2d_pooling_OrderedStackAABB_2_classLit = createForClass('OrderedStackAABB'), _3Lorg_jbox2d_collision_AABB_2_classLit = createForArray('Array_0', Lorg_jbox2d_collision_AABB_2_classLit), Lorg_jbox2d_pooling_OrderedStackMat22_2_classLit = createForClass('OrderedStackMat22'), _3Lorg_jbox2d_common_Mat22_2_classLit = createForArray('Array_0', Lorg_jbox2d_common_Mat22_2_classLit), Lorg_jbox2d_pooling_OrderedStackVec2_2_classLit = createForClass('OrderedStackVec2'), Lorg_jbox2d_pooling_OrderedStackVec3_2_classLit = createForClass('OrderedStackVec3'), _3Lorg_jbox2d_common_Vec3_2_classLit = createForArray('Array_0', Lorg_jbox2d_common_Vec3_2_classLit), Lorg_jbox2d_pooling_PolygonAndCircleContactStack_2_classLit = createForClass('PolygonAndCircleContactStack'), _3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit), Lorg_jbox2d_pooling_PolygonContactStack_2_classLit = createForClass('PolygonContactStack'), _3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit = createForArray('Array_0', Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit), Lorg_jbox2d_pooling_TLManifold_2_classLit = createForClass('TLManifold'), Lorg_jbox2d_pooling_WorldPool_2_classLit = createForClass('WorldPool'), Lplayn_core_AbstractAssets_2_classLit = createForClass('AbstractAssets'), Lplayn_core_AbstractAssets$1_2_classLit = createForClass('AbstractAssets$1'), Lplayn_core_AbstractCachingAssets_2_classLit = createForClass('AbstractCachingAssets'), Lplayn_core_AbstractLayer_2_classLit = createForClass('AbstractLayer'), Lplayn_core_AbstractLayer$Flag_2_classLit = createForEnum('AbstractLayer$Flag', values_9), _3Lplayn_core_AbstractLayer$Flag_2_classLit = createForArray('Array_0', Lplayn_core_AbstractLayer$Flag_2_classLit), Lplayn_core_Events$Input$Impl_2_classLit = createForClass('Events$Input$Impl'), Lplayn_core_Events$Position$Impl_2_classLit = createForClass('Events$Position$Impl'), Lplayn_core_GroupLayerImpl_2_classLit = createForClass('GroupLayerImpl'), Lplayn_core_Mouse$ButtonEvent$Impl_2_classLit = createForClass('Mouse$ButtonEvent$Impl'), Lplayn_core_Mouse$MotionEvent$Impl_2_classLit = createForClass('Mouse$MotionEvent$Impl'), Lplayn_core_Mouse$WheelEvent$Impl_2_classLit = createForClass('Mouse$WheelEvent$Impl'), Lplayn_core_Pointer$Event$Impl_2_classLit = createForClass('Pointer$Event$Impl'), Lpythagoras_f_AbstractTransform_2_classLit = createForClass('AbstractTransform'), Lpythagoras_f_AffineTransform_2_classLit = createForClass('AffineTransform'), Lplayn_core_StockInternalTransform_2_classLit = createForClass('StockInternalTransform'), Lplayn_core_gl_LayerGL_2_classLit = createForClass('LayerGL'), Lplayn_core_gl_ImageLayerGL_2_classLit = createForClass('ImageLayerGL'), Lplayn_core_gl_GLContext_2_classLit = createForClass('GLContext'), Lplayn_core_gl_GroupLayerGL_2_classLit = createForClass('GroupLayerGL'), Lplayn_core_gl_ImageGL_2_classLit = createForClass('ImageGL'), Lplayn_html_HtmlAnalytics_2_classLit = createForClass('HtmlAnalytics'), Lplayn_html_HtmlAssets_2_classLit = createForClass('HtmlAssets'), Lplayn_html_HtmlAudio_2_classLit = createForClass('HtmlAudio'), Lplayn_html_HtmlImage_2_classLit = createForClass('HtmlImage'), Lplayn_html_HtmlLayerCanvas_2_classLit = createForClass('HtmlLayerCanvas'), Lplayn_html_HtmlLayerDom_2_classLit = createForClass('HtmlLayerDom'), Lplayn_html_HtmlGLContext_2_classLit = createForClass('HtmlGLContext'), Lplayn_html_HtmlGLShader_2_classLit = createForClass('HtmlGLShader'), Lplayn_html_HtmlGLShader$Color_2_classLit = createForClass('HtmlGLShader$Color'), Lplayn_html_HtmlGLShader$Texture_2_classLit = createForClass('HtmlGLShader$Texture'), Lplayn_html_HtmlGame$1_2_classLit = createForClass('HtmlGame$1'), Lplayn_html_HtmlGame$2_2_classLit = createForClass('HtmlGame$2'), Lplayn_html_HtmlGraphics_2_classLit = createForClass('HtmlGraphics'), Lplayn_html_HtmlGraphicsCanvas_2_classLit = createForClass('HtmlGraphicsCanvas'), Lplayn_html_HtmlGraphicsDom_2_classLit = createForClass('HtmlGraphicsDom'), Lplayn_html_HtmlGraphicsGL_2_classLit = createForClass('HtmlGraphicsGL'), Lplayn_html_HtmlGroupLayerCanvas_2_classLit = createForClass('HtmlGroupLayerCanvas'), Lplayn_html_HtmlGroupLayerDom_2_classLit = createForClass('HtmlGroupLayerDom'), Lplayn_html_HtmlImage$1_2_classLit = createForClass('HtmlImage$1'), Lplayn_html_HtmlImage$2_2_classLit = createForClass('HtmlImage$2'), Lplayn_html_HtmlImageLayerCanvas_2_classLit = createForClass('HtmlImageLayerCanvas'), Lplayn_html_HtmlImageLayerDom_2_classLit = createForClass('HtmlImageLayerDom'), Lplayn_html_HtmlImageLayerDom$1_2_classLit = createForClass('HtmlImageLayerDom$1'), Lplayn_html_HtmlInput_2_classLit = createForClass('HtmlInput'), Lplayn_html_HtmlInput$1_2_classLit = createForClass('HtmlInput$1'), Lplayn_html_HtmlInternalTransform_2_classLit = createForClass('HtmlInternalTransform'), Lplayn_html_HtmlKeyboard$1_2_classLit = createForClass('HtmlKeyboard$1'), Lplayn_html_HtmlKeyboard$2_2_classLit = createForClass('HtmlKeyboard$2'), Lplayn_html_HtmlKeyboard$3_2_classLit = createForClass('HtmlKeyboard$3'), Lplayn_html_HtmlLog_2_classLit = createForClass('HtmlLog'), Lplayn_html_HtmlLogSimple_2_classLit = createForClass('HtmlLogSimple'), Lplayn_html_HtmlMouse_2_classLit = createForClass('HtmlMouse'), Lplayn_html_HtmlMouse$1_2_classLit = createForClass('HtmlMouse$1'), Lplayn_html_HtmlMouse$2_2_classLit = createForClass('HtmlMouse$2'), Lplayn_html_HtmlMouse$3_2_classLit = createForClass('HtmlMouse$3'), Lplayn_html_HtmlMouse$4_2_classLit = createForClass('HtmlMouse$4'), Lplayn_html_HtmlMouse$5_2_classLit = createForClass('HtmlMouse$5'), Lplayn_html_HtmlPlatform_2_classLit = createForClass('HtmlPlatform'), Lplayn_html_HtmlPlatform$1_2_classLit = createForClass('HtmlPlatform$1'), Lplayn_html_HtmlPlatform$Mode_2_classLit = createForEnum('HtmlPlatform$Mode', values_10), _3Lplayn_html_HtmlPlatform$Mode_2_classLit = createForArray('Array_0', Lplayn_html_HtmlPlatform$Mode_2_classLit), Lplayn_html_HtmlPointer_2_classLit = createForClass('HtmlPointer'), Lplayn_html_HtmlPointer$1_2_classLit = createForClass('HtmlPointer$1'), Lplayn_html_HtmlPointer$2_2_classLit = createForClass('HtmlPointer$2'), Lplayn_html_HtmlPointer$3_2_classLit = createForClass('HtmlPointer$3'), Lplayn_html_HtmlPointer$4_2_classLit = createForClass('HtmlPointer$4'), Lplayn_html_HtmlPointer$5_2_classLit = createForClass('HtmlPointer$5'), Lplayn_html_HtmlPointer$6_2_classLit = createForClass('HtmlPointer$6'), Lplayn_html_HtmlStorage_2_classLit = createForClass('HtmlStorage'), Lplayn_html_HtmlTouch_2_classLit = createForClass('HtmlTouch'), Lplayn_html_HtmlTouch$1_2_classLit = createForClass('HtmlTouch$1'), Lplayn_html_HtmlTouch$2_2_classLit = createForClass('HtmlTouch$2'), Lplayn_html_HtmlTouch$3_2_classLit = createForClass('HtmlTouch$3'), Lpythagoras_f_AbstractPoint_2_classLit = createForClass('AbstractPoint'), Lpythagoras_f_AbstractVector_2_classLit = createForClass('AbstractVector'), Lpythagoras_f_Point_2_classLit = createForClass('Point'), Lpythagoras_f_Vector_2_classLit = createForClass('Vector_0'), Lpythagoras_util_NoninvertibleTransformException_2_classLit = createForClass('NoninvertibleTransformException');
$stats && $stats({moduleName:'testgame',sessionId:$sessionId,subSystem:'startup',evtGroup:'moduleStartup',millis:(new Date()).getTime(),type:'moduleEvalEnd'});
if ($wnd.testgame) $wnd.testgame.onScriptLoad();
--></script></body></html>
